<!DOCTYPE html>
<html>
  <head>
    <title>est ã® è¾“å…¥ è¾“å‡ºå’Œå‡ºå…¥ - stdout category</title>

    <meta charset="utf-8" />
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <link href="https://feeds.feedburner.com/initiative" type="application/rss+xml" rel="alternate" title="est ã® è¾“å…¥ è¾“å‡ºå’Œå‡ºå…¥ RSS Feed" />

    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="This blog is rated ğŸ”, viewer discretion is advised" />

    <meta property="og:url" content="https://blog.est.im">
    <meta property="og:type" content="website">
    <meta property="og:title" content="est ã® è¾“å…¥ è¾“å‡ºå’Œå‡ºå…¥">
    <meta property="og:description" content="This blog is rated ğŸ”, viewer discretion is advised">

    <link rel="stylesheet" href="/theme/css/normalize.min.css" />
    <link rel="stylesheet" href="/theme/css/style.css" />


    <style>
      body {
        background: #ecedef url("/theme/img/ignasi_pattern_s.png") repeat;
      }
    </style>
  </head>
  <body class="list-body">
<nav class="nav-bar side-padding">
  <h1 class="nav-header"><a href="/" class="nav-text">
    est ã® è¾“å…¥ è¾“å‡ºå’Œå‡ºå…¥
  </a></h1>
  <div class="hamburger-menu">
    <button>
      <span></span>
      <span></span>
    </button>
    <ul id="menu" class="hamburger-menu-overlay">
      <li><a href="/" class="hamburger-menu-overlay-link">Home</a></li>
      <li><a href="https://feeds.feedburner.com/initiative" class="hamburger-menu-overlay-link">RSS</a></li>
      <li><a href="/about" class="hamburger-menu-overlay-link">About</a></li>

      <li><a href="/category/archive" class="hamburger-menu-overlay-link">archive</a></li>
      <li><a href="/category/stderr" class="hamburger-menu-overlay-link">stderr</a></li>
      <li><a href="/category/stdin" class="hamburger-menu-overlay-link">stdin</a></li>
      <li><a href="/category/stdout" class="hamburger-menu-overlay-link active">stdout</a></li>

    </ul>
  </div>
</nav>    <main class="card-container side-gutter">
      <header class="list-header">
        <p class="list-header-subtext">This blog is rated ğŸ”, viewer discretion is advised</p>
        <!-- <h1 class="list-header-title">est ã® è¾“å…¥ è¾“å‡ºå’Œå‡ºå…¥</h1> -->
      </header>


        <!-- new article -->
        <div class="card blog-card">
          <article class="card-body">
            <a href="/2021/stdout-028"  rel="bookmark" >
              <h2 class="card-title">Microsoft å®˜ç½‘çš„ 403 é”™è¯¯</h2>
            </a>
            <p class="card-text"><pre><code>$ curl -H &quot;User-Agent: User-Agent: Mozilla/5&quot; -kvs 'http://www.microsoft.com'
*   Trying 118.123.102.107...
* TCP_NODELAY set
* Connected to www.microsoft.com (118.123.102.107) port 80 (#0)
&gt; GET / HTTP/1.1
&gt; Host: www.microsoft.com
&gt; Accept: */*
&gt; User-Agent: User-Agent: Mozilla/5
&gt;
&lt; HTTP/1.1 403 Forbidden
&lt; Server: GHost
&lt; Content-Length: 306
&lt; Content-Type: text/html
&lt; Mime-Version: 1.0
&lt; Expires: Wed, 29 Dec 2021 14:42:28 GMT
&lt; Cache-Control: max-age=0, no-cache
&lt; Pragma: no-cache
&lt; Date: Wed, 29 Dec 2021 14:42:28 GMT
&lt; Connection: keep-alive
&lt;
&lt;HTML&gt;&lt;HEAD&gt;
&lt;TITLE&gt;Access Denied&lt;/TITLE&gt;
&lt;/HEAD&gt;&lt;BODY&gt;
&lt;H1&gt;Access Denied&lt;/H1&gt;

You don't have permission to access &quot;http&amp;#58;&amp;#47;&amp;#47;mscom&amp;#46;errorpage&amp;#46;failover&amp;#46;com&amp;#47;403&amp;#47;403&amp;#46;htm&amp;#63;&quot; on this server.&lt;P&gt;
Reference&amp;#32;&amp;#35;18&amp;#46;1c697b76&amp;#46;1640788948&amp;#46;3b971c1f
&lt;/BODY&gt;
&lt;/HTML&gt;
* Connection #0 to host www.microsoft.com left intact
* Closing connection 0
</code></pre>
<p>ä¸çŸ¥é“ä¸ºä½•ä¼šæŒ‡å‘  <code>http://mscom.errorpage.failover.com</code> è¿™åŸŸåä¹Ÿä¸æ˜¯å¾®è½¯çš„ã€‚</p></p>
            <div class="card-subtext muted-text">
              <p>Posted <time datetime="2021-12-29T22:42:14+08:00">2021-12-29</time></p>
<p>stdout</p>            </div>
          </article>
        </div>


        <!-- new article -->
        <div class="card blog-card">
          <article class="card-body">
            <a href="/2021/stdout-027"  rel="bookmark" >
              <h2 class="card-title">Chrome é˜‰å‰²æŒ‡å—</h2>
            </a>
            <p class="card-text"><p>ä¸æŠ˜è…¾ä¸èˆ’æœã€‚ç»§ä¹‹å‰ <a href="/2021/stdout-020">Edgeè°ƒæ•™</a> ä¹‹åè®°å½•ä¸€ä¸‹ Chrome V70æ€ä¹ˆé˜‰å‰²ã€‚</p>
<p>ä¸‹è½½ï¼š</p>
<p><a href="https://dl.google.com/edgedl/release2/chrome/ALiXMYM2w8-h_70.0.3538.77/70.0.3538.77_chrome_installer.exe">win 32</a> | <a href="https://dl.google.com/edgedl/release2/chrome/AJ7ozxk4OLvN_70.0.3538.77/70.0.3538.77_chrome_installer.exe">win 64</a> | <a href="https://redirector.gvt1.com/release2/chrome/AIJolai8dEil_70.0.3538.67/GoogleChrome-70.0.3538.67.dmg">Mac</a></p>
<p>ä¸Šé¢çš„é“¾æ¥å·²ç»å¹´ä¹…å¤±ä¿®äº†ï¼Œå¯¹æ¯”äº†ä¸€ä¸‹è·å–æœ€æ–°ç‰ˆæœ¬çš„è„šæœ¬å‘ç° Google å·²ç»ä¸æä¾›è€é“¾æ¥äº†ã€‚</p>
<pre><code>curl -vsk 'https://tools.google.com/service/update2' -HContent-Type:text/xml --data-binary &quot;&lt;?xml version='1.0' encoding='UTF-8'?&gt;
&lt;request protocol='3.0' sessionid='{est-blog}' installsource='ondemandcheckforupdate' dedup='cr'&gt;
&lt;os platform='mac' version='66.6.6666.66' arch='x64'/&gt;
&lt;app appid='com.google.Chrome' ap='' version='' nextversion='' lang='' brand='GGLS' client=''&gt;&lt;updatecheck/&gt;&lt;/app&gt;
&lt;/request&gt;&quot;
</code></pre>
<p>å®‰è£…å®Œæ¯•ä¹‹å</p>
<pre><code>cd '/Applications/Google Chrome.app/Contents'
touch Frameworks
sudo chown root:wheel Frameworks
sudo chmod 000 Frameworks

cd ~/Library/Google
rm -rf GoogleSoftwareUpdate
touch GoogleSoftwareUpdate
sudo chown root:wheel GoogleSoftwareUpdate
sudo chmod 000 GoogleSoftwareUpdate
</code></pre></p>
            <div class="card-subtext muted-text">
              <p>Posted <time datetime="2021-12-28T23:00:05+08:00">2021-12-28</time></p>
<p>stdout</p>            </div>
          </article>
        </div>


        <!-- new article -->
        <div class="card blog-card">
          <article class="card-body">
            <a href="/2021/stdout-026"  rel="bookmark" >
              <h2 class="card-title">è®¤è¯†ã€Œæ´‹èŠ‚ã€</h2>
            </a>
            <p class="card-text"><p>éƒ½è¯´ xmas eve æ˜¯æ´‹èŠ‚ï¼Œæˆ‘ä»¬å°±æ¥æ•°ä¸€æ•°åˆ°åº•æœ‰å“ªäº›æ´‹èŠ‚</p>
<ol>
<li>å…ƒæ—¦1æœˆ1æ—¥ã€‚ç”±åŒ—ã€Œæ´‹ã€å†›é˜€è¢ä¸–å‡¯è®¾ç«‹ã€‚ä¾æ®æ˜¯å†…åŠ¡éƒ¨æ€»é•¿æœ±å¯é’¤ã€Šå®šå››å­£èŠ‚å‡å‘ˆã€‹ï¼ŒæŠŠåŸæ¥å†œå†ï¼ˆå¤å†ï¼‰çš„æ­£æœˆåˆä¸€çš„ã€Œå…ƒæ—¦ã€æŒªç”¨åˆ°äº†æ ¼é‡Œå†ä¸€æœˆä¸€æ—¥ã€‚æ ¼é‡Œå†(Gregorian calendar)å¼•å…¥ä¸­å›½æ˜¯1912ï¼Œå…ƒæ—¦æ­£å¼ç”Ÿæ•ˆæ˜¯1914å¹´ã€‚</li>
<li>æ˜¥èŠ‚ã€‚ä¸¥æ ¼çš„æ¥è¯´ï¼Œä¼ ç»Ÿæ˜¥èŠ‚æ˜¯äºŒåå››èŠ‚æ°”ä¸­çš„â€œç«‹æ˜¥â€ï¼Œæ˜¯å¤ªé˜³å†ã€‚åæ¥è¢«è¢ä¸–å‡¯ç›´æ¥æ‹æ¿æˆå†œå†æ­£æœˆåˆä¸€ã€‚è€Œå¤å†æ­£æœˆåˆä¸€ä¸€èˆ¬è¢«è®¤ä¸ºæ˜¯æœ€æ¥è¿‘ç«‹æ˜¥ä¹‹æœ”æ—¥ï¼ˆæœˆç¼ºä¹‹æ—¥ï¼‰ã€‚å†œå†æœ€åä¸€æ¬¡å†œå†å¤§æ”¹ç‰ˆä¸ºã€Šæˆæ—¶å†ã€‹ï¼Œå‘ç”Ÿåœ¨å´‡ç¥¯äºŒå¹´ï¼ˆ1629å¹´ï¼‰ä¹æœˆï¼Œç”±ç¤¼éƒ¨å·¦ä¾éƒå¾å…‰å¯å‘èµ·ï¼Œç¼–æ’°è€…ï¼šè€¶ç¨£ä¼šçš„é¾™åæ°‘ï¼ˆè¥¿è¥¿é‡Œäººï¼‰ã€ç½—é›…è°·ï¼ˆç±³å…°äººï¼‰ã€é‚“ç‰å‡½ï¼ˆç‘å£«äººï¼‰ã€æ±¤è‹¥æœ›ï¼ˆæ—¥è€³æ›¼äººï¼‰ã€‚</li>
<li>ç”Ÿè‚–å…¶å®ä¸è·Ÿå†œå†ç»‘å®šï¼Œè€Œæ˜¯è·Ÿ äºŒåå››èŠ‚æ°”ç»‘å®šã€‚äºŒåå››èŠ‚æ°”æœ€åä¸€æ¬¡æ”¹ç‰ˆï¼Œä¹Ÿæ˜¯ä¸Šé¢é‚£ä¸ªã€Šæ—¶å®ªå†ã€‹é‚£å¸®æ´‹ä¼ æ•™å£«å®šä¸‹æ¥çš„ã€‚æœ‰æ„æ€çš„æ˜¯ï¼Œæ˜¥åˆ†é‚£ä¸€å¤©æ°å¥½å¼€å§‹ç™½ç¾Šåº§ï¼Œå…¶å®æˆ‘æœ€è¿‘æ‰çŸ¥é“äºŒåå››èŠ‚æ°”å°±çº¦ç­‰äº12æ˜Ÿåº§ï¼Œä¹Ÿå°±æ˜¯é»„é“åäºŒå®«ã€‚å¦‚æœè¦è¯´å†œå†ã€Šæ—¶å®ªå†ã€‹å«æ´‹é‡å¤ªé«˜ï¼Œé‚£ä¹ˆä»–ä¹‹å‰çš„ã€Šæˆæ—¶å†ã€‹ç¼–æ’°è€…æ˜¯æ²³åŒ—äººéƒ­å®ˆæ•¬ï¼Œç”Ÿäºå…ƒå¤ªå®—(çªé˜”å°)ä¸‰å¹´ï¼ˆ1231å¹´ï¼‰äºé‚¢å·ï¼Œç”±ä»–ç¥–çˆ¶éƒ­è£(é‡‘å›½äºº)æŠšå…»æˆäººï¼Œè¯´èµ·æ¥è¿™è€å…„ç”šè‡³é¡ºç€è’™å¤äººç»Ÿæ²»ä¸‹çš„é”¡ä¼¯åˆ©äºšå»è¿‡åŒ—æç§‘è€ƒï¼ŒåŒä¸€ä½å°¼æ³Šå°”å»ºç­‘å¸ˆé˜¿å°¼å“¥åˆä½œæè¿‡å¤©æ–‡å°ï¼Œååˆ†äº†å¾—ã€‚</li>
<li>å¦‡å¥³èŠ‚ï¼Œå…¨ç§°ä¸ºã€Œâ€œä¸‰å…«â€å›½é™…åŠ³åŠ¨å¦‡å¥³èŠ‚ã€ã€‚1857å¹´3æœˆ8æ—¥ï¼Œç¾å›½çº½çº¦çš„åˆ¶è¡£å’Œçººç»‡å¥³å·¥èµ°ä¸Šè¡—å¤´ï¼ŒæŠ—è®®æ¶åŠ£çš„å·¥ä½œæ¡ä»¶å’Œä½è–ªã€‚å°½ç®¡åæ¥å½“å±€å‡ºåŠ¨è­¦å¯Ÿæ”»å‡»å¹¶é©±æ•£äº†æŠ—è®®äººç¾¤ï¼Œä½†è¿™æ¬¡æŠ—è®®æ´»åŠ¨ä¿ƒæˆäº†ä¸¤å¹´åçš„3æœˆç¬¬ä¸€ä¸ªå·¥ä¼šç»„ç»‡çš„å»ºç«‹ã€‚1917å¹´3æœˆ8æ—¥ï¼Œåœ¨ä¿„ç½—æ–¯å¸å›½é¦–éƒ½å½¼å¾—æ ¼å‹’ï¼Œçººç»‡å¥³å·¥ä¸¾è¡Œç½¢å·¥åŠæ¸¸è¡Œï¼ŒéåŠæ•´ä¸ªåŸå¸‚ï¼Œä¹Ÿå¯¼è‡´ä¿„ç½—æ–¯é©å‘½çš„å¼€å§‹ã€‚</li>
<li>æ¸…æ˜èŠ‚ï¼ŒäºŒåå››èŠ‚æ°”ä¹‹ä¸€ã€‚å¤ªé˜³åˆ°è¾¾é»„ç»15Â°</li>
<li>åŠ³åŠ¨èŠ‚ï¼Œ1884å¹´ï¼ŒåŠ³åŠ¨éª‘å£«å›¢ Knights of Labor å€¡å¯¼ã€Œ8å°æ—¶å·¥ä½œåˆ¶ã€ï¼›10æœˆï¼Œè¡Œä¼šä¸å·¥ä¼šè”ç›Ÿå¬å¼€å¤§ä¼šç¡®å®š1886å¹´5æœˆ1æ—¥ä¸ºè¦æ±‚å…«å°æ—¶å·¥ä½œåˆ¶æˆä¸ºæ ‡å‡†çš„æ—¥æœŸï¼Œç¾å›½å·¥ä¼šå‡†å¤‡ä¸¾è¡Œæ€»ç½¢å·¥æ”¯æ´ï¼›1886å¹´5æœˆ1æ—¥ï¼Œæ•°åƒåå‚åŠ ç½¢å·¥å’Œå‚åŠ å…¨ç¾å„åœ°ä¸¾è¡Œçš„é›†ä¼šçš„å·¥äººå”±èµ·äº†ã€Šå…«å°æ—¶ã€‹ï¼ˆEight Hourï¼‰ä¸€æ­Œï¼›æ¥ä¸‹æ¥å‘ç”Ÿå¹²è‰å¸‚åœºå± æ€(Haymarket affair)ã€‚</li>
<li>ç«¯åˆèŠ‚ï¼Œæ®ä¼ æ˜¯ä¸ºäº†çºªå¿µ<a href="/202006/stderr-008">æ¨å›½è¯—äººå±ˆåŸ</a>ï¼Œæ¥è‡ªã€Œè›®å¤·ã€æ¥šå›½</li>
<li>å„¿ç«¥èŠ‚ã€‚1949å¹´11æœˆå›½é™…æ°‘ä¸»å¦‡å¥³è”åˆä¼šåœ¨è‹è”è«æ–¯ç§‘æ‰€å¬å¼€çš„æ‰§è¡Œå§”å‘˜ä¼šè®®ï¼Œä¼šä¸Šä¸ºçºªå¿µæ‚¼å¿µ1942å¹´æ·å…‹åˆ©è¿ªç­–æ‘å¯¹å„¿ç«¥çš„å± æ€åŠä¼¤å®³ï¼Œä»¥åŠå…¨ä¸–ç•Œæ‰€æœ‰åœ¨æ³•è¥¿æ–¯ä¾µç•¥æˆ˜äº‰ä¸­æ­»éš¾çš„å„¿ç«¥ï¼Œä¸ºä¿éšœä¸–ç•Œå„å›½å„¿ç«¥çš„ç”Ÿå­˜æƒã€ä¿å¥æƒå’Œå—æ•™è‚²æƒåŠæ”¹å–„å„¿ç«¥çš„ç”Ÿæ´»ï¼Œå†³è®®ä»¥6æœˆ1æ—¥ä¸ºå›½é™…å„¿ç«¥èŠ‚ã€‚1949å¹´12æœˆ23ä¸­å¤®äººæ°‘æ”¿åºœæ”¿åŠ¡é™¢ç¬¬åäºŒæ¬¡æ”¿åŠ¡ä¼šè®®äºæ—¥é€šè¿‡äº†ã€Šå…¨å›½å¹´èŠ‚åŠçºªå¿µæ—¥æ”¾å‡åŠæ³•ã€‹ï¼Œå…¶ä¸­è§„å®š6æœˆ1æ—¥ä¸ºå„¿ç«¥èŠ‚ã€‚</li>
<li>å»ºå†›èŠ‚ï¼Œç”± å¥‘ä¸¹è‹ç»´åŸƒå…±å’Œå›½ (Kitajskaja Sovetskaja Respublika, ĞšĞ¸Ñ‚Ğ°ÌĞ¹ÑĞºĞ°Ñ Ğ¡Ğ¾Ğ²ĞµÌÑ‚ÑĞºĞ°Ñ Ğ ĞµÑĞ¿ÑƒÌĞ±Ğ»Ğ¸ĞºĞ°) äº1933å¹´6æœˆå†³å®šï¼Œå°†8æœˆ1æ—¥å®šä¸ºä¸­å›½å·¥å†œçº¢å†›çš„å»ºå†›èŠ‚ã€‚<br />
<img alt="" src="https://upload.wikimedia.org/wikipedia/commons/thumb/3/3a/National_Flag_of_Chinese_Soviet_Republic.svg/400px-National_Flag_of_Chinese_Soviet_Republic.svg.png" /></li>
<li>åœ£çºªèŠ‚ï¼Œç©†ç½•é»˜å¾·çš„è¯è¾°ä¸é€ä¸–æ°å·§éƒ½åœ¨ä¼Šæ–¯å…°æ•™å†ä¸‰æœˆåäºŒæ—¥ï¼Œå›å›ä¸‰å¤§èŠ‚ä¹‹ä¸€ã€‚<br />
<img alt="" src="http://wx1.sinaimg.cn/large/4b18c48fly4glz8qsahmzj20kw0fmdia.jpg" /></li>
</ol>
<p>å†è¯´ä¸€ä¸‹çœŸæ­£è¢« appropriation çš„ã€Œæ´‹èŠ‚ã€</p>
<ol>
<li>åœ£è¯èŠ‚ã€‚å¼‚æ•™å¾’çš„èŠ‚æ—¥ï¼Œå››èˆäº”å…¥å†¬è‡³æ—¥ï¼Œå¤åŸƒåŠå¤ªé˜³ç¥ Ra çš„èŠ‚æ—¥ï¼Œè¢«(ä¸œ)ç½—é©¬å¸å›½æ‹¿æ¥å®£ä¼ æˆä¸­ä¸œäººè€¶ç¨£çš„ç”Ÿæ—¥ã€‚ã€‚ã€‚æ‘Šæ‰‹ã€‚ã€‚ã€‚æ¯”å¦‚çŠ¹å¤ªäººå°±ä¸è¿‡åœ£è¯èŠ‚ï¼Œä½†æ˜¯ä»–ä»¬åœ¨è¿™ä¸€å¤©<a href="https://www.youtube.com/watch?v=Ny3PQOWsUGs">åƒä¸­é¤</a></li>
<li>æ¯äº²èŠ‚ï¼Œç”±12å²å¥³å­©å®‰å¨œÂ·è´¾ç»´æ–¯(Anna Jarvis)å‘èµ·ï¼Œè¢«å•†å®¶åˆ©ç”¨ï¼Œå®‰å¨œç”¨<a href="https://www.sohu.com/a/313400538_782639">ä¸‹åŠè¾ˆå­åå¯¹æ¯äº²èŠ‚</a></li>
<li>çˆ¶äº²èŠ‚ï¼šæŠ„è¢­æ¯äº²èŠ‚ã€‚</li>
</ol></p>
            <div class="card-subtext muted-text">
              <p>Posted <time datetime="2021-12-24T23:59:59+08:00">2021-12-24</time></p>
<p>stdout</p>            </div>
          </article>
        </div>


        <!-- new article -->
        <div class="card blog-card">
          <article class="card-body">
            <a href="/2021/stdout-025"  rel="bookmark" >
              <h2 class="card-title">å¦‚ä½•å¯è§†åŒ–è·Ÿè¸ªåˆ†æ Python import è€—æ—¶</h2>
            </a>
            <p class="card-text"><p>é¦–å…ˆåœ¨æœ¬åœ°å®‰è£… <code>pip install tuna</code></p>
<p>ç„¶åè·‘ä¸ªåˆ†ï¼Œéœ€è¦ <code>CPython &gt;= 3.7</code>ï¼Œè¾“å…¥</p>
<p><code>PYTHONPROFILEIMPORTTIME=1 python3 myscript.py 2&gt;1.log</code></p>
<p><img alt="tuna" src="https://camo.githubusercontent.com/d76ac242a42f9c394c1ae66da655173a51d9ed9c09107dd8d42b684c15aa2d05/68747470733a2f2f6e7363686c6f652e6769746875622e696f2f74756e612f666f6f2e706e67" /></p>
<p>ç„¶å <code>tuna 1.log</code> ï¼Œä¼šè‡ªåŠ¨æ‰“å¼€æµè§ˆå™¨å›´è§‚ <code>import</code> è€—æ—¶åˆ†å¸ƒã€‚</p></p>
            <div class="card-subtext muted-text">
              <p>Posted <time datetime="2021-12-22T14:00:28+08:00">2021-12-22</time></p>
<p>stdout</p>            </div>
          </article>
        </div>


        <!-- new article -->
        <div class="card blog-card">
          <article class="card-body">
            <a href="/2021/stdout-023"  rel="bookmark" >
              <h2 class="card-title">FastAPI/Starletteæ”¯æŒé™æ€æ–‡ä»¶æ”¯æŒSPA</h2>
            </a>
            <p class="card-text"><p>FastAPI å®˜æ–¹æ”¯æŒ <code>from fastapi.staticfiles import StaticFiles</code> å……å½“ä¸€ä¸ªé™æ€æ–‡ä»¶æœåŠ¡å™¨</p>
<p>å…¶å®å®ç°æ˜¯ starletteã€‚è¿™ç©æ„å¯ä»¥åœ¨ <code>directory</code> ä¸‹æ”¾ä¸€ä¸ª <code>404.html</code>ï¼Œæ°å¥½å•é¡µåº”ç”¨ä¹Ÿéœ€è¦ç”¨ <code>index.html</code> å……å½“æ‰€æœ‰ javascript æ¡†æ¶æ³¨å†Œçš„ router</p>
<p>åªæ˜¯æœ‰ä¸€ä¸ªæ¯›ç—…ï¼Œè¿™è´§è¿”å›çš„ HTTP status code æ˜¯ 404ã€‚ç”¨èµ·æ¥æ²¡å•¥å¤§æ¯›ç—…ï¼Œä½†æ˜¯å°±æ˜¯æµè§ˆå™¨ä¸ä¼šè®°å½•ç½‘å€ï¼Œå¯¼è‡´æ²¡æ³•åŒ¹é…æµè§ˆå†å²å¿«é€Ÿæ‰¾åˆ°ä¹‹å‰è®¿é—®è¿‡çš„é¡µé¢ã€‚</p>
<p>æ‹¿æ¥æ”¹æ”¹ç»§ç»­ç”¨</p>
<pre><code>  from starlette.staticfiles import StaticFiles, Scope, Headers, Response, FileResponse

  class StaticFilesWithout404(StaticFiles):
      async def get_response(self, path: str, scope: Scope) -&gt; Response:
          r = await super().get_response(path, scope)
          h = Headers(scope=scope)
          full_path, stat_result = await self.lookup_path('404.html')
          if isinstance(r, FileResponse) and r.path == full_path:
              if 'text/html' in (h.get('accept') or ''):
                  r.status_code = 200
              else:
                  return Response('', status_code=404)
          return r

  app.mount("/frontend", StaticFilesWithout404(directory="frontend", html=True), name="static")
</code></pre>
<p>è¿™æ®µä»£ç å¤§æ¦‚æ˜¯èµ·åˆ°äº†ç±»ä¼¼ <a href="http://nginx.org/en/docs/http/ngx_http_core_module.html#try_files">nginx <code>try_files</code></a> çš„ä½œç”¨ã€‚é»˜è®¤é™æ€æ–‡ä»¶æ˜ å°„ä¸€ä¸ªç›®å½•ï¼Œä½†æ˜¯å¦‚æœæ‰¾ä¸åˆ°å°±æŒ‰æ ¹ç›®å½•çš„ index.html è¾“å‡ºã€‚è¿™é‡Œè¿˜åˆ¤æ–­äº†è¯·æ±‚çš„ <code>accept</code> å¤´ï¼Œå¦‚æœæ˜¯ xhr/Fetch å°±ä¼šç›´æ¥è¿”å›ä¸€ä¸ª0å­—èŠ‚é•¿åº¦æ— MIMEçš„404ã€‚</p>
<p>ç”±æ­¤æˆ‘æƒ³åˆ°äº†ä¸€ä¸ªå­¦ç©¶å¼çš„ leaky abstractionã€‚ä¼—æ‰€å‘¨çŸ¥ï¼Œå¦‚æœä¸€ä¸ªURLä¸å­˜åœ¨ï¼Œé‚£ä¹ˆæœåŠ¡å™¨åº”è¯¥è¿”å›404</p>
<p>ä½†æ˜¯ç°åœ¨éƒ½æ˜¯ SPA å•é¡µåº”ç”¨ï¼Œéƒ½æ˜¯å…ˆ 200 è¿”å› <code>index.html</code> çš„å†…å®¹ï¼Œå†ç”± javascript çš„ router å»å†³å®šæ˜¯å¦æ­£å¸¸æ˜¾ç¤ºè¿˜æ˜¯404 ã€‚æ‰€ä»¥è¿”å› 200 ä½†æ˜¯æ˜¾ç¤º 404 å°±ç ´åäº†è¿™ä¸ªè¯­ä¹‰ã€‚å¦‚æœè¦ç²¾ç¡®åŒ¹é…SPAé‡Œçš„routerå¦‚æœä¸å­˜åœ¨ç”±æœåŠ¡å™¨è¿”å›404ï¼Œç¬¬ä¸€æ˜¯æ SSRï¼ŒæŠŠå‰ç«¯é‚£ä¸€å¨ä»£ç è·‘åœ¨æœåŠ¡å™¨ç«¯ï¼Œç¬¬äºŒç§åŠæ³•æ˜¯ npm build çš„æ—¶å€™è¾“å‡ºä¸€ä¸ªå¯è·¯ç”±URLåˆ—è¡¨ï¼Œç„¶åéƒ¨ç½²çš„æ—¶å€™å¯¼å…¥é™æ€æ–‡ä»¶æœåŠ¡å™¨æ›´æ–°ã€‚è¿™ä¸ªå…·ä½“å®ç°å°±ç•™ä½œhomeworkç”±è¯»è€…è‡ªè¡Œè§£å†³äº†ã€‚</p></p>
            <div class="card-subtext muted-text">
              <p>Posted <time datetime="2021-12-08T07:38:38+08:00">2021-12-08</time></p>
<p>stdout</p>            </div>
          </article>
        </div>


        <!-- new article -->
        <div class="card blog-card">
          <article class="card-body">
            <a href="/2021/stdout-022"  rel="bookmark" >
              <h2 class="card-title">äººå·¥æ„é€ Flask sessionæ¨¡æ‹Ÿcookieç™»é™†</h2>
            </a>
            <p class="card-text"><p>æœ‰æ²¡æœ‰å¥½å¥‡ä¸ºä»€ä¹ˆ Flask é…ç½®å¿…é¡»è¦æ±‚ä¸€ä¸ª <a href="https://flask.palletsprojects.com/en/latest/config/#SECRET_KEY">SECRET_KEY</a>ï¼Œç„¶åå°±å¯ä»¥åœ¨æµè§ˆå™¨ä¿å­˜ä¸€ä¸ª session çŠ¶æ€è¯»å†™æ•°æ®ã€‚</p>
<p>è¿™é‡Œè®°ä¸€ä¸‹å®ƒçš„åº•å±‚å®ç°ï¼Œå…¶å®éœ€è¦ä¾èµ–çš„åŒ…æ˜¯ <a href="https://itsdangerous.palletsprojects.com/">itsdangerous</a></p>
<pre><code>  import hashlib
  from itsdangerous import URLSafeTimedSerializer
  URLSafeTimedSerializer(
          'YOUR_SECRET_KEY',  # flask SECRET_KEY
          'cookie-session',  # from flask.sessions.SecureCookieSessionInterface.salt
          # serializer=TaggedJSONSerializer(),
          signer_kwargs={'key_derivation': 'hmac', 'digest_method': hashlib.sha1}
  ).dumps({
      "your_key": "your_value"
  })
</code></pre>
<p>åˆ«äººå¦‚æœæ‹¿åˆ°ä½ çš„ <code>SECRET_KEY</code> å°±å¯ä»¥ä¼ªé€ ä»»æ„ session cookie äº†</p></p>
            <div class="card-subtext muted-text">
              <p>Posted <time datetime="2021-12-08T07:15:03+08:00">2021-12-08</time></p>
<p>stdout</p>            </div>
          </article>
        </div>


        <!-- new article -->
        <div class="card blog-card">
          <article class="card-body">
            <a href="/2021/stdout-021"  rel="bookmark" >
              <h2 class="card-title">Python 3.X ctypes å’Œ greenlet size changed å‘ä¸‰åˆ™</h2>
            </a>
            <p class="card-text"><h3>å®‰è£… setup.py çš„æ—¶å€™ <code>No module named '_ctypes'</code> æŠ¥é”™</h3>
<pre><code>  Traceback (most recent call last):
    File &quot;&lt;string&gt;&quot;, line 1, in &lt;module&gt;
    File &quot;/usr/local/python3/lib/python3.9/site-packages/setuptools/__init__.py&quot;, line 18, in &lt;module&gt;
      from setuptools.dist import Distribution
    File &quot;/usr/local/python3/lib/python3.9/site-packages/setuptools/dist.py&quot;, line 34, in &lt;module&gt;
      from setuptools import windows_support
    File &quot;/usr/local/python3/lib/python3.9/site-packages/setuptools/windows_support.py&quot;, line 2, in &lt;module&gt;
      import ctypes
    File &quot;/usr/local/python3/lib/python3.9/ctypes/__init__.py&quot;, line 8, in &lt;module&gt;
      from _ctypes import Union, Structure, Array
  ModuleNotFoundError: No module named '_ctypes'
</code></pre>
<p>è§£å†³åŠæ³•æ˜¯ä¸è¦ç”¨ 3.9ã€‚</p>
<p>å¦‚æœå®åœ¨è¦ç”¨ï¼Œåˆ™è‡ªå·±ç¼–è¯‘å‰éœ€è¦åŠ ä¸Š <code>yum install libffi-devel</code> æˆ–è€… <code>sudo apt-get install libffi-dev</code></p>
<p>æ¥è‡ª<a href="https://stackoverflow.com/a/48045929">SO</a></p>
<h3><code>greenlet.greenlet size changed</code> ç„¶åå‡ºé”™</h3>
<pre><code>/usr/local/lib/python3.7/importlib/_bootstrap.py:219: RuntimeWarning: greenlet.greenlet size changed, may indicate binary incompatibility. Expected 144 from C header, got 152 from PyObject
  return f(*args, **kwds)
/usr/local/lib/python3.7/importlib/_bootstrap.py:219: RuntimeWarning: greenlet.greenlet size changed, may indicate binary incompatibility. Expected 144 from C header, got 152 from PyObject
  return f(*args, **kwds)

Segmentation fault (core dumped)
</code></pre>
<p>è¿™ä¸ªæ‘˜è‡ª<a href="https://github.com/gevent/gevent/issues/1260">å®˜æ–¹ iseue</a></p>
<blockquote>
<p>On Python 3.7 and higher, gevent 20.9.0 is required to use (a standard build of) greenlet 0.4.17.</p>
</blockquote>
<p>è§£å†³åŠæ³•ï¼š<code>pip install gevent==20.9.0 pip install greenlet==0.4.17</code></p>
<h3>SQLAlchemy 1.4 å¤§æˆ˜ greenlet 0.4.17</h3>
<p>è§ <a href="https://docs.sqlalchemy.org/en/14/changelog/changelog_14.html#change-12b8eb8e600cc32590b51d0087552191">sqlalchemy changelog</a></p>
<blockquote>
<p>to accommodate for the handling of Python contextvars (introduced in Python 3.7) for greenlet versions greater than 0.4.17. Greenlet version 0.4.17 added automatic handling of contextvars in a backwards-incompatible way; weâ€™ve coordinated with the greenlet authors to add a preferred API for this in versions subsequent to 0.4.17 which is now supported by SQLAlchemyâ€™s greenlet integration. For greenlet versions prior to 0.4.17 no behavioral change is needed, version 0.4.17 itself is blocked from the dependencies.</p>
</blockquote>
<p>ç„¶åå°±ç›´æ¥åœ¨ <a href="https://github.com/sqlalchemy/sqlalchemy/blob/703ff387c13f083ed0982071963155d679c862ab/setup.cfg#L42">setup.cfgé‡Œ</a> ç»™ <code>greenlet != 0.4.17</code>äº†ã€‚</p>
<p>ç¥ä»™æ‰“æ¶ï¼Œä¸å¬ä¸å¬ï¼Œå’Œå°šå¿µç»ï¼Œæœæ–­ <code>sqlalchemy==1.3.24</code> é™çº§ã€‚</p></p>
            <div class="card-subtext muted-text">
              <p>Posted <time datetime="2021-12-01T17:41:32+08:00">2021-12-01</time></p>
<p>stdout</p>            </div>
          </article>
        </div>


        <!-- new article -->
        <div class="card blog-card">
          <article class="card-body">
            <a href="/2021/stdout-020"  rel="bookmark" >
              <h2 class="card-title">Edgeè°ƒæ•™æŒ‡å—â€”â€”å¦‚ä½•è®¾ç½®æœ¬åœ°PACä»£ç†å’Œé¦–é¡µå¤©æ°”</h2>
            </a>
            <p class="card-text"><p>ä¹‹å‰ä¸€ç›´ç”¨çš„chrome v70ï¼Œä¸ºä»€ä¹ˆå‘¢ï¼Ÿ</p>
<p>ç¬¬ä¸€æ˜¯è¿™ä¸ªè€ç‰ˆæœ¬å…è®¸ <code>--proxy-pac-url="file:///Users/me/1.pac</code> è¿™æ ·è®¾ç½®ï¼Œä½†æ˜¯<a href="https://bugs.chromium.org/p/chromium/issues/detail?id=839566">Chromiumé¡¹ç›®çš„å¤§çˆ·ä»¬è§‰å¾—</a>ä½ æœ¬åœ°çš„.pacä¸å¤Ÿå®‰å…¨ï¼Œè¦ç½‘ä¸Šçš„.pacæ‰å®‰å…¨ï¼Œæ‰€ä»¥ä¸€åˆ€åˆ‡ç»™ç¦äº†ã€‚å½“ç„¶æœ‰çƒ­å¿ƒäººå£«è§‰å¾—è¿™æ²¡å•¥å¤§ä¸äº†çš„ã€‚ä¸å¤–ä¹è£…ä¸ªæ’ä»¶å°±å¯ä»¥åˆ‡PACã€‚ä½†æ˜¯chromeæ’ä»¶å…¶å®ä¼šæœ‰ä¸€ä¸ªfingerprintã€‚Extensionä¸€å¯ç”¨ï¼Œéš”å£è€ç‹éƒ½çŸ¥é“ä½ å¼€ä»£ç†äº†ã€‚</p>
<p>ç¬¬äºŒï¼Œä¹Ÿæ˜¯æœ€é‡è¦çš„åŸå› ï¼Œè¿™æ˜¯æœ€åä¸€ä¸ªchromeç‰ˆæœ¬æ”¯æŒ <code>about://net-internals</code> åœ¨æœ¬åœ°æŸ¥çœ‹æµè§ˆå™¨åº•å±‚ç½‘ç»œè¯·æ±‚ã€‚ç°åœ¨æ— è®ºæ˜¯ Edge è¿˜æ˜¯ Chrome éƒ½å¿…é¡»æŠŠ .json æ–‡ä»¶ä» https://netlog-viewer.appspot.com/ åŠ è½½æ‰èƒ½çœ‹äº†ã€‚å¾ˆå°¼ç›ä¿æŠ¤äº†éšç§æœ‰æ²¡æœ‰å•Šã€‚</p>
<p>ä½†æ˜¯åšæŒè€ç‰ˆæœ¬ï¼Œä¹Ÿä»˜å‡ºäº†å·¨å¤§çš„ä»£ä»·ã€‚å¾ˆå¤šæ–°çš„ ES è¯­æ³•ä¸æ”¯æŒï¼Œæ¯”å¦‚è¯´ Grafana æœ€æ–°ç‰ˆ login éƒ½è¿›ä¸å»ã€‚è¿™å°±å°´å°¬äº†ã€‚åªèƒ½è¢«è‡ªæ„¿å‡çº§äº†ã€‚</p>
<p>æ—¢ç„¶å‡çº§æ˜¯å¿…é€‰é¡¹ï¼Œé‚£ä¹ˆå°±æ¢ Edge è¯•è¯•ã€‚</p>
<p>ç¬¬ä¸€å°±æ˜¯å¾—è§£å†³è¿™ä¸ªæœ¬åœ° .pac é—®é¢˜ï¼Œå…¶å®ä»ä¸Šé¢ç¬¬äºŒä¸ªå·¥å…·é‡Œæ‰èƒ½çŸ¥é“ï¼ŒPACåŠ è½½å¤±è´¥æœ‰ä¸ªè¿”å› <code>ERR_DISALLOWED_URL_SCHEME</code>ã€‚stackoverflow ä¸Šæ‰¾åˆ°ä¸ªå¥‡æŠ€æ·«å·§</p>
<p><code>open "/Applications/Microsoft Edge.app" --args --proxy-pac-url='data:application/x-javascript-config;base64,'$(base64 -i /Users/me/2.pac)</code></p>
<p>è¿˜èƒ½è¿™æ ·ç©ï¼ŸåŒå‡»666ã€‚</p>
<p>ç¬¬äºŒä¸ªæŠŠè¯¥ç¦ç”¨çš„ç¦ç”¨äº†ï¼Œé¦–é¡µåªç•™ä¸€ä¸ªæœç´¢æ¡†ä¸€ä¸ªå¤©æ°”ã€‚ä½†æ˜¯è¿™å¤©æ°”å°±ç‰¹ä¹ˆå®šä½åˆ°å¡å¿äº†ã€‚è€Œä¸”ä¸‹æ‹‰æ¡†ç‚¹ä¸å‡ºæ¥å•Šã€‚F12æ‰“å¼€ devtool ä¸€çœ‹ï¼Œæˆ‘å°¼ç›å¥½å®¶ä¼™ <code>https://www.bing.com/api/v6/Places/AutoSuggest</code> è¢« Bing China çš„ç½‘ç®¡ç»™ä¸€æŠŠæ¢­302åˆ° <code>https://cn.bing.com/api/v6/Places/AutoSuggest</code> äº†ã€‚ç„¶åå°±ç‰¹ä¹ˆ CORS ç»™æ‹¦æˆªï¼Œjsè¯»å–ä¸åˆ°åˆ—è¡¨ã€‚ã€‚ã€‚</p>
<p>æœ€åæ€ä¹ˆåŠï¼Ÿç‚¹é‚£ä¸ªå¤©æ°”å›¾æ ‡ï¼Œè¿›å…¥åˆ° <code>https://www.msn.com/en-sg/weather/today/weather-today/we-city</code></p>
<p>ç„¶åæ‰¾é‚£ä¸ªåœ°å›¾ï¼Œæ‰‹åŠ¨é€‰æ‹©è‡ªå·±æ‰€åœ¨åŸå¸‚ï¼Œè®¾ç½®ä¸º Home ã€‚ç­‰ cookie å†™å…¥ç”Ÿæ•ˆäº†ï¼Œæ‰“å¼€edgeæ–°tabå°±okäº†</p>
<p>è¿™å¹´å¤´ä¸Šä¸ªç½‘çœŸé¸¡å„¿ç´¯ã€‚</p>
<p>btw è®¾ç½®M$è´¦å·åŒæ­¥çš„æ—¶å€™ï¼Œå‘ç°è´¦å·æ‰€åœ¨å›½å®¶å¯ä»¥é€‰å¾ˆå¤šä¸æ˜¯å›½å®¶çš„åœ°æ–¹ï¼Œä½†æ˜¯æ—¶åŒºå°±ä¸èƒ½éšä¾¿é€‰äº†ã€‚F12æ”¹äº†ä¹Ÿæ²¡ç”¨ã€‚å¾®è½¯çš„åå°å¼€å‘åšçš„è¿‡æ»¤è¿˜æŒºç»†è‡´çš„ã€‚</p>
<p>btw2 å‘ç°ä¸€ä¸ªå¾ˆå¹²å‡€çš„å¯åŠ¨é¡µï¼š <code>chrome-search://local-ntp/local-ntp.html</code> æˆ–è€…ç›´æ¥åœ¨ <code>hosts</code> é‡ŒæŠŠ ntp.msn.com å¹²æ‰ï¼Œæœ‰å¥‡æ•ˆã€‚</p></p>
            <div class="card-subtext muted-text">
              <p>Posted <time datetime="2021-11-30T11:32:33+08:00">2021-11-30</time></p>
<p>stdout</p>            </div>
          </article>
        </div>


        <!-- new article -->
        <div class="card blog-card">
          <article class="card-body">
            <a href="/2021/stdout-019"  rel="bookmark" >
              <h2 class="card-title">TiDBä¸æ”¯æŒJSONå­—æ®µé»˜è®¤å€¼</h2>
            </a>
            <p class="card-text"><p>ç»§å‰é¢çš„<a href="/2021/stdout-011">æ—¥æœŸä¸å…¼å®¹</a>å‘ï¼Œåˆå‘ç°<a href="https://docs.pingcap.com/tidb/stable/data-type-default-values">ä¸€ä¸ª</a></p>
<blockquote>
<p>The BLOB, TEXT, and JSON columns cannot be assigned a default value.</p>
</blockquote>
<p>è™½ç„¶ <a href="https://dev.mysql.com/doc/refman/5.7/en/json.html">MySQL 5.7 ä¹Ÿæ˜¯è¿™ä¹ˆè¯´</a>çš„ï¼š</p>
<blockquote>
<p>A JSON column cannot have a non-NULL default value.</p>
</blockquote>
<p>ä½†æ˜¯ <a href="https://dev.mysql.com/doc/refman/8.0/en/data-type-defaults.html">MySQL 8.0.13 å°±æ”¯æŒæŒ‡å®šé»˜è®¤å€¼</a>äº†</p>
<blockquote>
<p>Prior to MySQL 8.0.13, a JSON column cannot have a non-NULL default value.<br />
The default value specified in a DEFAULT clause can be a literal constant or an expression. With one exception, enclose expression default values within parentheses to distinguish them from literal constant default values. Examples:</p>
</blockquote>
<p>è™½ç„¶è¯­æ³•å¾ˆä¸‘ä½†æ˜¯å¾ˆå®ç”¨å•Šã€‚</p>
<p>æ‰€ä»¥è¿™ç§è¯­å¥</p>
<pre><code>  ALTER TABLE mytable MODIFY COLUMN my_json JSON DEFAULT (json_object());
</code></pre>
<p>åœ¨ TiDB é‡Œå°±æ²¡æ³•æ”¯æŒã€‚è¿™ä¹Ÿå¸¦æ¥ä¸€ä¸ªé—®é¢˜ï¼Œå°±æ˜¯è¦ upsert è¿™ä¸ª å­—æ®µçš„æ—¶å€™ï¼Œå†™èµ·æ¥å°±å¾ˆæ‹§å·´ï¼Œä»¥ <code>peewee</code> è¿™ä¸ªORMä¸ºä¾‹ï¼š</p>
<pre><code>  MyTable.update({
      'my_json' = fn.json_set(
          fn.COALESCE(MyTable.my_json, Cast('{}', 'JSON')),
          '%.some_key', 'some_value',
  )})
</code></pre>
<p>å¿…é¡»ç”¨ COALESCE é¢„é˜²é»˜è®¤å€¼ä¸º <code>NULL</code> çš„æƒ…å†µã€‚å¤ªéº»çƒ¦äº†ã€‚</p>
<p>btw ç©MySQL/TiDBçš„ JSON æœ‰ä¸ªå‘çš„ï¼Œé‚£å°±æ˜¯ json çš„ <code>null</code> æ˜¯æœ‰å€¼çš„ï¼Œå’Œ sql çš„ <code>NULL</code> æ˜¯ä¸åŒçš„ã€‚</p>
<p>ä¹Ÿå°±æ˜¯è¯´</p>
<pre><code>  select json_extract('{}', '$.hey') IS NULL;
  select json_extract('{"hey": null}', '$.hey') = Cast('null' as JSON);
</code></pre>
<p>è¦æ³¨æ„ã€‚</p>
<p>btw2 MySQLçš„JSONæ•°æ®æŠ½å– <code>-&gt;&gt;</code> æ˜¯è¿”å›çœŸæ­£çš„å€¼ï¼Œç­‰ä»·äºTiDBé‡Œçš„ json_unquote(json_extract(t.json_field, '$.key1.key2'))</p></p>
            <div class="card-subtext muted-text">
              <p>Posted <time datetime="2021-11-19T09:14:28+08:00">2021-11-19</time></p>
<p>stdout</p>            </div>
          </article>
        </div>


        <!-- new article -->
        <div class="card blog-card">
          <article class="card-body">
            <a href="/2021/stdout-016"  rel="bookmark" >
              <h2 class="card-title">Chrome æŒ‡å®šåŸŸåè§£æï¼Œç»•è¿‡ hosts</h2>
            </a>
            <p class="card-text"><p>çœ‹åˆ° <a href="https://www.v2ex.com/t/813626">Vç«™æœ‰äººé—®</a>è¿™ä¸ªï¼Œéšæ‰‹ä¸€è®°</p>
<p>å¯ä»¥å‚è€ƒ<a href="https://chromium.googlesource.com/chromium/src/+/refs/heads/main/components/network_session_configurator/common/network_switch_list.h">æºç é‡Œçš„æ³¨é‡Šæ–‡æ¡£</a></p>
<h2>--host-resolver-rules=rules</h2>
<p>Like <code>--host-rules</code> but these rules only apply to the host resolver.<br />
A comma-separated list of rules that control how hostnames are mapped.<br />
For example:<br />
- <code>MAP * 127.0.0.1</code> Forces all hostnames to be mapped to <code>127.0.0.1</code><br />
- <code>MAP *.google.com proxy</code> Forces all google.com subdomains to be resolved to <code>proxy</code>.<br />
- <code>MAP test.com [::1]:77</code> Forces <code>test.com</code> to resolve to IPv6 loopback. Will also force the port of the resulting socket address to be 77.<br />
- <code>MAP * baz, EXCLUDE www.google.com</code> Remaps everything to <code>baz</code>, except for <code>www.google.com</code>.</p>
<p>These mappings apply to the endpoint host in a net request (the TCP connect and host resolver in a direct connection, and the CONNECT in an HTTP proxy connection, and the endpoint host in a SOCKS proxy connection).</p>
<p>å®˜æ–¹æ–‡æ¡£æœ‰è¯­ç„‰ä¸è¯¦çš„æåˆ°è¿‡</p>
<p>https://chromium.googlesource.com/chromium/src/+/refs/heads/main/net/dns/README.md</p>
<blockquote>
<p>Starting Chrome with --host-resolver-rules="MAP the.hostname.com [dead::beef]" where the.hostname.com is the hostname to allow resolving and dead::beef is the IPv6 address to resolve it to. net::MappedHostResolver acts at a level before IPv6 connectivity checks, and if a hostname is remapped to an IP literal, connectivity checks do not apply.</p>
</blockquote>
<p>è¿˜æœ‰å¾ˆå¤š <a href="https://chromium.googlesource.com/chromium/src/+/HEAD/net/docs/proxy.md">proxyçš„å‚æ•°</a></p>
<h2>curl çš„å‚æ•°</h2>
<p>ä¹Ÿé¡ºä¾¿è´´ä¸€ä¸‹ã€‚è°ƒè¯•çš„æ—¶å€™ç”¨å¾—ä¸Š</p>
<p>å‚æ•°ï¼š</p>
<ul>
<li><code>-4</code>, <code>--ipv4</code></li>
<li><code>-6</code>, <code>--ipv6</code></li>
<li><code>--dns-interface &lt;interface&gt;</code></li>
<li><code>--dns-ipv4-addr &lt;ip-address&gt;</code> Tell curl to bind to <code>&lt;ip-address&gt;</code> when making IPv4 DNS requests</li>
<li><code>--dns-ipv6-addr &lt;ip-address&gt;</code> Tell curl to bind to <code>&lt;ip-address&gt;</code> when making IPv6 DNS requests</li>
<li><code>--dns-servers &lt;ip-address,ip-address&gt;</code> Set the list of DNS servers to be used instead of the system default. The  list  of  IP  addresses should  be  separated  with commas. Port numbers may also optionally be given as <code>:&lt;port-number&gt;</code> after each IP address.</li>
<li><code>--resolve &lt;host:port:address&gt;</code> Make the curl requests(s) use a specified address and prevent the otherwise normally resolved address to  be  used. Consider  it a sort of /etc/hosts alternative provided on the command line. The port number should be the number used for the specific protocol the host will be  used  for.  It  means  you  need  several entries if you want to provide address for the same host but different ports. This option can be used many times to add many host names to resolve. (Added in 7.21.3)</li>
</ul>
<p>æœ€åä¸€ä¸ªå¾ˆæœ‰ç”¨ ğŸ˜¹</p></p>
            <div class="card-subtext muted-text">
              <p>Posted <time datetime="2021-11-07T16:01:19+08:00">2021-11-07</time></p>
<p>stdout</p>            </div>
          </article>
        </div>


        <!-- new article -->
        <div class="card blog-card">
          <article class="card-body">
            <a href="/2021/stdout-017"  rel="bookmark" >
              <h2 class="card-title">reverse proxy FastCGI (fcgi) with uWSGI</h2>
            </a>
            <p class="card-text"><p>People are still using FastCGI, and it's hard. I used uWSGI to convert FCGI traffic to regular http/1.0 so I can keep my existing http service running without apache mod_fcgi shit.</p>
<h2>CGI environ variables</h2>
<p>This is some ancient knowledge, better keep them noted</p>
<table>
<thead>
<tr>
<th>KEY</th>
<th>description</th>
</tr>
</thead>
<tbody>
<tr>
<td>AUTH_TYPE</td>
<td>ignore this</td>
</tr>
<tr>
<td>REMOTE_IDENT</td>
<td>The user making the request.</td>
</tr>
<tr>
<td>REMOTE_USER</td>
<td>The authenticated name of the user making the query.</td>
</tr>
<tr>
<td>CONTENT_LENGTH</td>
<td>byte length of body</td>
</tr>
<tr>
<td>CONTENT_TYPE</td>
<td>MIME such as text/html, without the charset shit</td>
</tr>
<tr>
<td>DOCUMENT_ROOT</td>
<td>NEW. The directory from which web documents are served.</td>
</tr>
<tr>
<td>REQUEST_URI</td>
<td>NEW. confusing shit similar with PATH_INFO</td>
</tr>
<tr>
<td>HTTP_*</td>
<td>HTTP headers</td>
</tr>
<tr>
<td>PATH_INFO</td>
<td>like /a/b/c</td>
</tr>
<tr>
<td>PATH_TRANSLATED</td>
<td>not really used</td>
</tr>
<tr>
<td>QUERY_STRING</td>
<td>the part after ? in an URL</td>
</tr>
<tr>
<td>REMOTE_ADDR</td>
<td>client IP</td>
</tr>
<tr>
<td>REMOTE_HOST</td>
<td>client host name by lookup ip</td>
</tr>
<tr>
<td>REQUEST_METHOD</td>
<td>GET/POST</td>
</tr>
<tr>
<td>SCRIPT_NAME</td>
<td>The virtual path (e.g., /cgi-bin/program.pl) of the script being executed.</td>
</tr>
<tr>
<td>SCRIPT_FILENAME</td>
<td>confusing shit similar with SCRIPT_NAME</td>
</tr>
<tr>
<td>SERVER_NAME</td>
<td>The server's hostname or IP address.</td>
</tr>
<tr>
<td>SERVER_PORT</td>
<td>The port number of the host on which the server is running.</td>
</tr>
<tr>
<td>SERVER_PROTOCOL</td>
<td>The name and revision number of the server protocol.</td>
</tr>
</tbody>
</table>
<h2>reverse proxy FastCGI with uWSGI</h2>
<p>slap this into <code>my_conf.ini</code></p>
<pre><code>  [uwsgi]
  my_port = 9000  # can be set otherwise
  route-run = addvar:SERVER_NAME=%h
  route-run = addvar:SERVER_PORT=%(my_port)
  route-if  = empty:${REQUEST_METHOD} addvar:REQUEST_METHOD=GET
  route-if  = empty:${HTTP_HOST} addvar:HTTP_HOST=%h:%(my_port)
  route-run = seturi:/fcgi-proxy${PATH_INFO}
  route-run = http:127.0.0.1:9527
  fastcgi-socket = 0.0.0.0:%(my_port)
  http-socket = 0.0.0.0:8000  # for testing purpose.
</code></pre>
<p>Install uWSGI, install the binary from pypi wheels instead of compiling uwsgi.c shit</p>
<pre><code>  pip install pyuwsgi
</code></pre>
<p>Run it</p>
<pre><code>  uwsgi --ini my_conf.ini
</code></pre>
<p>Now you can run your regular http service behind <code>127.0.0.1:9527</code>, while serving fcgi on <code>127.0.0.1:9000</code></p>
<p>Requests like <code>fcgi://127.0.0.1:9000/hello</code> will be fowwarded to <code>http://127.0.0.1:9527/fcgi-proxy/hello</code></p>
<p>You may ask why adding a <code>/fcgi-proxy</code> in path? Because there's a gotcha.</p>
<h2>fuckedup FastCGI requests</h2>
<p>Learned this from some php-fpm tutorial, first install the standard fcgi client tool because <code>curl</code> doesn't speak fcgi.</p>
<pre><code>  apt-get install libfcgi0ldbl
  yum --enablerepo=epel install fcgi
  SCRIPT_NAME=/ping SCRIPT_FILENAME=/ping REQUEST_METHOD=GET cgi-fcgi -bind -connect 127.0.0.1:9000
</code></pre>
<p>You can observe from uWSGI logs that <code>cgi-fcgi</code> command sends flawed requests, the <code>PATH_INFO</code> was unset.</p>
<p>After hours wasted, I came up with a clever hack to force uWSGI's internal router to force <code>seturi</code> with a path prefix</p>
<h2>ToDo</h2>
<p>There are further problems that can be improved, for example, my http service is running <code>uvicorn</code>, it can not guess the client ip:port infor from its stupid <code>get_remote_addr</code></p>
<p>what's worse, the uWSGI <code>addheader</code> directive are for <em>responses</em>, so I can't add <em>request</em> headers like <code>x-forwared-for</code>.</p>
<p>Also the reverse proxy is HTTP/1.0 only. to make the <code>Connection: Keep-alive</code> happen needs some further investigation.</p>
<h2>Q&amp;A</h2>
<p>Thanks for reading my shitpost. Questions?</p></p>
            <div class="card-subtext muted-text">
              <p>Posted <time datetime="2021-11-05T18:12:45+08:00">2021-11-05</time></p>
<p>stdout</p>            </div>
          </article>
        </div>


        <!-- new article -->
        <div class="card blog-card">
          <article class="card-body">
            <a href="/2021/stdout-018"  rel="bookmark" >
              <h2 class="card-title">æ·˜å®åŒä¸€æ‰‹æœºæœ€å¤šç»‘å®š6ä¸ªå°å·</h2>
            </a>
            <p class="card-text"><p>æ€»ç»“ä¸€äº›æ²¡ç”¨çš„çŸ¥è¯†</p>
<ol>
<li>
<p>æ·˜å®/é˜¿é‡Œè´¦å·ï¼Œå¯ä»¥ä¸€ä¸ªæ‰‹æœºæœ€å¤šç»‘å®š6ä¸ªè´¦å·ã€‚æ·˜å®æ³¨å†Œçš„æ—¶å€™ç‚¹å‡»ã€Œä¼ä¸šæ³¨å†Œã€ç„¶åç”¨é‚®ç®±æ³¨å†Œï¼Œæœ€åç”¨åŒä¸€ä¸ªæ‰‹æœºéªŒè¯å³å¯</p>
</li>
<li>
<p>ã€Œæ”¯ä»˜å®ã€åœ¨æ·˜å®/é˜¿é‡Œç³»é‡Œappé‡Œæ˜¯å’Œã€Œè´¦å·ã€ä¸€ä¸€ç»‘å®šçš„ï¼Œè¿™å°±äº§ç”Ÿäº†å¾ˆå¤šå†²çªã€‚æ¯”å¦‚ä½ ä¸€ä¸ªç¬¬ä¸‰æ–¹å¤–å–appï¼Œæ”¯ä»˜çš„æ—¶å€™å¯ä»¥é€‰æ‹© å¾®ä¿¡/æ”¯ä»˜å®ï¼Œä¸€èˆ¬ä¸ä¼šé™åˆ¶ä¸‹å•æ‰‹æœºå·å’Œæ”¯ä»˜æ‰‹æœºå·æ˜¯å¦ä¸€æ ·ï¼Œä½ ç”šè‡³å¯ä»¥å¸®åˆ«äººæ”¯ä»˜è®¢å•ï¼Œä½†æ˜¯æ·˜å®/é˜¿é‡Œçš„appä¸ä¸€æ ·ï¼Œåªèƒ½è‡ªå·±è´¦å·æ”¯ä»˜è‡ªå·±è´¦å·çš„è®¢å•ã€‚å¦‚æœä½ æœ‰ä¸¤ä¸ªæ‰‹æœºå·å’Œä¸¤ä¸ªæ”¯ä»˜å®è´¦å·ï¼Œé‚£ä¹ˆæ²¡æ³•äº¤å‰æ”¯ä»˜ã€‚</p>
</li>
</ol>
<p>è¿˜æœ‰ä¸€ä¸ªæƒ³ä¸èµ·äº†ï¼Œæƒ³èµ·äº†å†è¡¥å……ã€‚2333</p></p>
            <div class="card-subtext muted-text">
              <p>Posted <time datetime="2021-10-28T16:21:23+08:00">2021-10-28</time></p>
<p>stdout</p>            </div>
          </article>
        </div>


        <!-- new article -->
        <div class="card blog-card">
          <article class="card-body">
            <a href="/2021/stdout-015"  rel="bookmark" >
              <h2 class="card-title">ã€Šå…µè½¦è¡Œã€‹ç«–æ’å®éªŒ</h2>
            </a>
            <p class="card-text"><p>ç¾¤é‡Œé—²èŠèµ·ç©¶ç«Ÿç”Ÿç”·å¥½è¿˜æ˜¯ç”Ÿå¥³å¥½ï¼Œå°±æƒ³èµ·äº†è¿™é¦–è¯—</p>
<div style="
    font-family: Baskerville, Georgia, &quot;Liberation Serif&quot;, &quot;Kaiti SC&quot;, STKaiti, &quot;AR PL UKai CN&quot;, &quot;AR PL UKai HK&quot;, &quot;AR PL UKai TW&quot;, &quot;AR PL UKai TW MBE&quot;, &quot;AR PL KaitiM GB&quot;, KaiTi, KaiTi_GB2312, DFKai-SB, &quot;TW\-Kai&quot;, serif;
    writing-mode: vertical-rl;
    width: 100%;
    word-break: break-all;
    white-space: pre;
    text-spacing: ideograph-alpha;
    border-right: 0.2em solid #e00711;
    text-align: justify;
    text-justify: inter-ideograph;
">å…µè½¦è¡Œâ€”â€”æœç”«

è½¦è¾šè¾šï¼Œé©¬è§è§ï¼Œè¡Œäººå¼“ç®­å„åœ¨è…°ã€‚  
è€¶å¨˜å¦»å­èµ°ç›¸é€ï¼Œå°˜åŸƒä¸è§å’¸é˜³æ¡¥ã€‚
ç‰µè¡£é¡¿è¶³æ‹¦é“å“­ï¼Œå“­å£°ç›´ä¸Šå¹²äº‘éœ„ã€‚
é“æ—è¿‡è€…é—®è¡Œäººï¼Œè¡Œäººä½†äº‘ç‚¹è¡Œé¢‘ã€‚
æˆ–ä»åäº”åŒ—é˜²æ²³ï¼Œä¾¿è‡³å››åè¥¿è¥ç”°ã€‚
å»æ—¶é‡Œæ­£ä¸è£¹å¤´ï¼Œå½’æ¥å¤´ç™½è¿˜æˆè¾¹ã€‚
è¾¹åº­æµè¡€æˆæµ·æ°´ï¼Œæ­¦çš‡å¼€è¾¹æ„æœªå·²ã€‚
å›ä¸é—»ï¼Œæ±‰å®¶å±±ä¸œäºŒç™¾å·ï¼Œåƒæ‘ä¸‡è½ç”Ÿè†æã€‚
çºµæœ‰å¥å¦‡æŠŠé”„çŠï¼Œç¦¾ç”Ÿé™‡äº©æ— ä¸œè¥¿ã€‚
å†µå¤ç§¦å…µè€è‹¦æˆ˜ï¼Œè¢«é©±ä¸å¼‚çŠ¬ä¸é¸¡ã€‚
é•¿è€…è™½æœ‰é—®ï¼Œå½¹å¤«æ•¢ç”³æ¨ï¼Ÿ
ä¸”å¦‚ä»Šå¹´å†¬ï¼Œæœªä¼‘å…³è¥¿å’ã€‚
å¿å®˜æ€¥ç´¢ç§Ÿï¼Œç§Ÿç¨ä»ä½•å‡ºï¼Ÿ
<b>ä¿¡çŸ¥ç”Ÿç”·æ¶ï¼Œåæ˜¯ç”Ÿå¥³å¥½ã€‚
ç”Ÿå¥³çŠ¹å¾—å«æ¯”é‚»ï¼Œç”Ÿç”·åŸ‹æ²¡éšç™¾è‰ã€‚</b>
å›ä¸è§ï¼Œé’æµ·å¤´ï¼Œå¤æ¥ç™½éª¨æ— äººæ”¶ã€‚
æ–°é¬¼çƒ¦å†¤æ—§é¬¼å“­ï¼Œå¤©é˜´é›¨æ¹¿å£°å•¾å•¾ï¼

</div>

<p>æµ‹è¯•ä¸‹ css çš„æ–‡å­—ç«–æ’ã€‚</p>
<p>å­—ä½“æ¥è‡ª <a href="http://zenozeng.github.io/fonts.css/">fonts.css</a></p></p>
            <div class="card-subtext muted-text">
              <p>Posted <time datetime="2021-10-21T23:28:21+08:00">2021-10-21</time></p>
<p>stdout</p>            </div>
          </article>
        </div>


        <!-- new article -->
        <div class="card blog-card">
          <article class="card-body">
            <a href="/2021/stdout-014"  rel="bookmark" >
              <h2 class="card-title">Re-index page on Google Search Console</h2>
            </a>
            <p class="card-text"><p>Request indexing webpage with Google used to be fun and simple, now it's a tedious task especially when you have tons of old pages ready to be crawled yet Google is reluctant to move.</p>
<p>Here is a simple script to speed up the stacks of page you have click in order to submit multiple missing pages to Google. </p>
<p>Open your <a href="https://search.google.com/search-console">Google Search Console</a>, click <strong>Coverage</strong> then open <strong>Discovered â€“ currently not indexed</strong></p>
<p>Now open your browser devtool, paste these into javascript console, hit them one by one.</p>
<pre><code>  document.querySelector('div[data-disabled] table td span[title] span[title="Inspect URL"]').click()

  document.querySelector('span[data-event-action=request-indexing] span[jsslot] div span span').click()

  document.querySelector('span[data-event-action=pivot-to-report-main-view-indexing-section] a').click()
</code></pre>
<p>Until you met with the daily quota. Rinse and try this shit everyday.</p>
<p>Fuck Google.</p></p>
            <div class="card-subtext muted-text">
              <p>Posted <time datetime="2021-10-21T14:53:25+08:00">2021-10-21</time></p>
<p>stdout</p>            </div>
          </article>
        </div>


        <!-- new article -->
        <div class="card blog-card">
          <article class="card-body">
            <a href="/2021/stdout-013"  rel="bookmark" >
              <h2 class="card-title">Letsencrypt åœ¨è€ç‰ˆæœ¬macOS Ubuntu ä¸Šä¿®å¤TLSè¯ä¹¦é”™è¯¯</h2>
            </a>
            <p class="card-text"><p>ä¸€è§‰é†’æ¥ï¼Œæ‰“å¼€æµè§ˆå™¨ï¼Œå„ç§è¿ä¸ä¸Šï¼Œè°ƒè¯•äº†ä¸€ä¸‹å‘ç°è¯´lets encrypt çš„ acme httpsè¯ä¹¦é”™è¯¯</p>
<p>ä»¿ä½›è®°å¾—<a href="https://www.v2ex.com/t/805339">Vç«™è®¨è®º</a>è¿‡è¿™ä¸ªäº‹ï¼Œä»¥ä¸ºå’Œè‡ªå·±æ— å…³ï¼Œç»“æœä¹Ÿä¸­æ‹›äº†ã€‚DST Root CA X3 æ ¹è¯ä¹¦åœ¨å›½åº†å‰è¿‡æœŸäº†ã€‚</p>
<h2>è€ç‰ˆæœ¬ Ubuntu ä¿®å¤ï¼š</h2>
<pre><code>  sudo apt update
  sudo apt install ca-certificates
</code></pre>
<h2>è€ç‰ˆæœ¬ macOS ä¿®å¤ï¼š</h2>
<p>éœ€è¦æ‰‹åŠ¨å¯¼å…¥å¹¶ä¿¡ä»»æ–°çš„ ISRG Root X1 æ ¹è¯ä¹¦ã€‚æ¥è‡ª<a href="https://letsencrypt.org/certificates/">https://letsencrypt.org/certificates/</a>ã€‚</p>
<p>ä¿å­˜ä¸‹åˆ—ä¸º <code>1.pem</code></p>
<pre><code>  -----BEGIN CERTIFICATE-----
  MIIFYDCCBEigAwIBAgIQQAF3ITfU6UK47naqPGQKtzANBgkqhkiG9w0BAQsFADA/
  MSQwIgYDVQQKExtEaWdpdGFsIFNpZ25hdHVyZSBUcnVzdCBDby4xFzAVBgNVBAMT
  DkRTVCBSb290IENBIFgzMB4XDTIxMDEyMDE5MTQwM1oXDTI0MDkzMDE4MTQwM1ow
  TzELMAkGA1UEBhMCVVMxKTAnBgNVBAoTIEludGVybmV0IFNlY3VyaXR5IFJlc2Vh
  cmNoIEdyb3VwMRUwEwYDVQQDEwxJU1JHIFJvb3QgWDEwggIiMA0GCSqGSIb3DQEB
  AQUAA4ICDwAwggIKAoICAQCt6CRz9BQ385ueK1coHIe+3LffOJCMbjzmV6B493XC
  ov71am72AE8o295ohmxEk7axY/0UEmu/H9LqMZshftEzPLpI9d1537O4/xLxIZpL
  wYqGcWlKZmZsj348cL+tKSIG8+TA5oCu4kuPt5l+lAOf00eXfJlII1PoOK5PCm+D
  LtFJV4yAdLbaL9A4jXsDcCEbdfIwPPqPrt3aY6vrFk/CjhFLfs8L6P+1dy70sntK
  4EwSJQxwjQMpoOFTJOwT2e4ZvxCzSow/iaNhUd6shweU9GNx7C7ib1uYgeGJXDR5
  bHbvO5BieebbpJovJsXQEOEO3tkQjhb7t/eo98flAgeYjzYIlefiN5YNNnWe+w5y
  sR2bvAP5SQXYgd0FtCrWQemsAXaVCg/Y39W9Eh81LygXbNKYwagJZHduRze6zqxZ
  Xmidf3LWicUGQSk+WT7dJvUkyRGnWqNMQB9GoZm1pzpRboY7nn1ypxIFeFntPlF4
  FQsDj43QLwWyPntKHEtzBRL8xurgUBN8Q5N0s8p0544fAQjQMNRbcTa0B7rBMDBc
  SLeCO5imfWCKoqMpgsy6vYMEG6KDA0Gh1gXxG8K28Kh8hjtGqEgqiNx2mna/H2ql
  PRmP6zjzZN7IKw0KKP/32+IVQtQi0Cdd4Xn+GOdwiK1O5tmLOsbdJ1Fu/7xk9TND
  TwIDAQABo4IBRjCCAUIwDwYDVR0TAQH/BAUwAwEB/zAOBgNVHQ8BAf8EBAMCAQYw
  SwYIKwYBBQUHAQEEPzA9MDsGCCsGAQUFBzAChi9odHRwOi8vYXBwcy5pZGVudHJ1
  c3QuY29tL3Jvb3RzL2RzdHJvb3RjYXgzLnA3YzAfBgNVHSMEGDAWgBTEp7Gkeyxx
  +tvhS5B1/8QVYIWJEDBUBgNVHSAETTBLMAgGBmeBDAECATA/BgsrBgEEAYLfEwEB
  ATAwMC4GCCsGAQUFBwIBFiJodHRwOi8vY3BzLnJvb3QteDEubGV0c2VuY3J5cHQu
  b3JnMDwGA1UdHwQ1MDMwMaAvoC2GK2h0dHA6Ly9jcmwuaWRlbnRydXN0LmNvbS9E
  U1RST09UQ0FYM0NSTC5jcmwwHQYDVR0OBBYEFHm0WeZ7tuXkAXOACIjIGlj26Ztu
  MA0GCSqGSIb3DQEBCwUAA4IBAQAKcwBslm7/DlLQrt2M51oGrS+o44+/yQoDFVDC
  5WxCu2+b9LRPwkSICHXM6webFGJueN7sJ7o5XPWioW5WlHAQU7G75K/QosMrAdSW
  9MUgNTP52GE24HGNtLi1qoJFlcDyqSMo59ahy2cI2qBDLKobkx/J3vWraV0T9VuG
  WCLKTVXkcGdtwlfFRjlBz4pYg1htmf5X6DYO8A4jqv2Il9DjXA6USbW1FzXSLr9O
  he8Y4IWS6wY7bCkjCWDcRQJMEhg76fsO3txE+FiYruq9RUWhiF1myv4Q6W+CyBFC
  Dfvp7OOGAN6dEOM4+qR9sdjoSYKEBpsr6GtPAQw4dy753ec5
  -----END CERTIFICATE-----
</code></pre>
<p>æ‰“å¼€ keychain accessï¼ŒæŠŠè¿™ä¸ª <code>1.pem</code> æ‹–å…¥ systemï¼ŒåŒå‡»æ‰“å¼€ï¼Œåœ¨ Trust è¿™ä¸ªä¸‹æ‹‰ï¼Œé€‰æ‹© ä¿¡ä»»ã€‚</p>
<p><img alt="" src="/images/2021/stdout-013-1.png" /></p>
<p>å› ä¸ºæµè§ˆå™¨æ²¡æ³•ç”¨ï¼Œæ‰€ä»¥æœç´¢èµ„æ–™ä¹Ÿéº»çƒ¦ã€‚çœŸæ˜¯å·®ç‚¹é”æ­»ã€‚</p></p>
            <div class="card-subtext muted-text">
              <p>Posted <time datetime="2021-10-01T10:56:13+08:00">2021-10-01</time></p>
<p>stdout</p>            </div>
          </article>
        </div>


        <!-- new article -->
        <div class="card blog-card">
          <article class="card-body">
            <a href="/2021/stdout-012"  rel="bookmark" >
              <h2 class="card-title">ç¾å›½è‡ªæ¥æ°´ TDS è¿™ä¹ˆé«˜ï¼Ÿ</h2>
            </a>
            <p class="card-text"><p>çœ‹åˆ°ä¸ªè®² <a href="https://youtu.be/Brim6qp26js?t=533">Solar Roof è§†é¢‘</a></p>
<p><img alt="" src="/images/2021/stdout-012-1.jpg" /></p>
<p>ä»–ä»¬å®¶çš„ filtered tap water æµ‹å‡ºæ¥ TDS ä¸º 358ppm</p>
<p>tap water æµ‹å‡ºæ¥ TDS æ˜¯ 435 ppmï¼Œ</p>
<p>è¯´åŠ å·çš„å¸‚æ”¿ä¾›æ°´å¾ˆç¡¬ï¼Œæœ‰å¤§é‡çš„é’™ã€é•ç¦»å­ã€‚éƒ½ä¸æ•¢ç›´æ¥æ‹¿æ¥æ´—è½¦ï¼Œæ€•å–·æªç»™è¡¨æ¼†æ´—å¾—å‘å‘æ´¼æ´¼ï¼›ä»–ä»¬å®¶å¤ªé˜³èƒ½å…‰ä¼æ¿å¾ˆè„æƒ³å†²ä¹Ÿä¸æ•¢ï¼Œä¸‡ä¸€åˆ®åäº†ä¸å€¼ã€‚åŠ å·åˆæ˜¯å¤©å¤©å¤§å¤ªé˜³ä¸ä¸‹é›¨ï¼Œè¿˜å¥½ä»–ä»¬å®¶æœ‰ä¸¤ä¸ªå¤§æ°´æ¡¶æ¥é›¨æ°´ï¼Œæµ‹å‡ºæ¥TDS 20ï¼Œåˆšå¥½æ‹¿æ¥å†²å±‹é¡¶ã€‚</p>
<p>è¿™ä¸ªè¯´æ³•ä»¤æˆ‘å¾ˆåƒæƒŠçš„ã€‚å› ä¸ºä¸€ç›´ä»¥æ¥ç½‘ä¸Šå’Œä¸€äº›è€å¤–éƒ½è¯´ä¸­å›½è‡ªæ¥æ°´å·®ä»€ä¹ˆçš„ã€‚ç¾å›½æ°´é¾™å¤´æ‰“å¼€ç›´æ¥å–ã€‚ç¿»äº†ä¸€ä¸‹ï¼Œç•™å­¦ç”Ÿè®ºå›éƒ½è¯´<a href="https://www.uscardforum.com/t/topic/30882/43">ç¾å›½çš„è‡ªæ¥æ°´å¾ˆç¡¬</a>ï¼Œä¼šæ‰å¤´å‘ä»€ä¹ˆçš„ï¼Œçœ‹æ¥ TDS çœŸçš„å¾ˆé«˜å•Šã€‚</p>
<p>ä¸ºå•¥ç½‘ä¸Šä¼šæœ‰ã€Œç¾å›½è‡ªæ¥æ°´æ°´è´¨å¾ˆå¥½æ°´é¾™å¤´æ‰“å¼€ç›´æ¥å–ã€è¿™ä¸ªè¯´æ³•ï¼Ÿç¿»äº†ä¸€äº›å¸–å­ï¼Œæ„Ÿè§‰åº”è¯¥æ˜¯è¿™æ ·ï¼Œè€ä¸­è¿‡å»ç•™å­¦ã€æ—…æ¸¸çš„éƒ½æ˜¯ä½æ—…åº—ã€å…¬å¯“ï¼Œå…¶å®ä¸€èˆ¬æ¥¼æ ‹é‚£éƒ½ç»Ÿä¸€è£…äº†å‡€æ°´è£…ç½®ã€‚å…¬å›­ã€å­¦æ ¡ã€å›¾ä¹¦é¦†çš„ç›´é¥®æœºå…¶å®ä¹Ÿè£…äº†è¿‡æ»¤è£…ç½®çš„ã€‚æ‰€ä»¥çœ‹ä¸Šå»èƒ½ã€Œç›´æ¥å–ã€è€Œå·²ã€‚å¦‚æœä½ è‡ªå·±è£…ä¿®æ¥¼ï¼Œæ¥å¸‚æ”¿ä¾›æ°´ï¼Œé‚£ä¹ˆå¤§å®¶éƒ½æ˜¯è¦è£…åˆæ»¤ï¼ŒåŠ  Pentair å¤§è“ç“¶çš„ã€‚</p>
<p>å›½å†…è‡ªæ¥æ°´ï¼Œæˆ‘å®¶ TDS æµ‹å‡ºæ¥æ˜¯130-150å·¦å³ã€‚æŒ‰ç…§ <a href="https://www.who.int/publications/i/item/9789241549950">WHOé¥®ç”¨æ°´</a> çš„æ ‡å‡†ï¼Œå±äºå£æ„Ÿæä½³ã€‚</p>
<p><img alt="" src="/images/2021/stdout-012-2.png" /></p>
<p>æ³¨ï¼šæ°´çš„ 1 mg/L çº¦ç­‰äº 1 parts per million (ppm)</p>
<p>æˆ‘ä¹Ÿè£…äº†ä¸€å¥— RO è¿‡æ»¤çš„ï¼ŒTDS æµ‹å‡ºæ¥ 5ã€‚å¨ƒå“ˆå“ˆæ¡¶è£…æ°´æµ‹å‡ºæ¥æ˜¯ã€€0ã€‚å‰å®³ï¼</p>
<p>ç½‘ä¸Šè¿˜æœ‰ä¸ªè¯´æ³•ã€Œç¾å›½ç›´é¥®æ°´æ ‡å‡†ä¸ºâ‰¤ 50mg/Lï¼Œæ¬§ç›Ÿç›´é¥®æ°´æ ‡å‡†ä¸ºâ‰¤ 70mg/Lã€ï¼Œæ³¨æ„è¯´çš„æ˜¯ã€Œç›´é¥®æ°´ã€ï¼Œä¸æ˜¯è‡ªæ¥æ°´ã€‚æŸ¥äº†ä¸‹ï¼Œç¾å›½ EPA å¯¹é¥®ç”¨æ°´ TDS å…¶å®æ²¡æœ‰å¼ºåˆ¶è¦æ±‚ï¼ŒEPAæœ‰ä¸ª<a href="https://www.epa.gov/sdwa/drinking-water-regulations-and-contaminants">äºŒçº§é¥®ç”¨æ°´éå¼ºåˆ¶æ ‡å‡†CFR143</a>ï¼Œæ¨è TDS å°äº 500 mg/Lã€‚è¿™ä¸ªæ¨èæ ‡å‡†æ˜¯ä¸æ˜¯å®šå¾—å¤ªé«˜äº†ï¼Ÿä½œä¸ºå¯¹æ¯”ï¼Œå›½æ ‡ã€Šç”Ÿæ´»é¥®ç”¨æ°´å«ç”Ÿæ ‡å‡†GB5749-2006ã€‹æ˜¯ 1000ã€‚æ‹‰å®ï¼</p>
<p>æœ€åè¯´ä¸‹ï¼Œæ°´è´¨çš„è¯„ä»·æœ‰å¾ˆå¤šæŒ‡æ ‡ï¼Œæˆ‘è¿™é‡Œæ˜¯ä¸æ˜¯å”¯ TDS è®ºäº†ï¼Ÿæ˜¯ï¼Œä¹Ÿä¸æ˜¯ã€‚å¦‚æœéƒ½æ˜¯è¿‡æ»¤åçš„æ°´ï¼Œé‚£ä¹ˆ TDS è¿™ä¸ªæŒ‡æ ‡æ˜¯éå¸¸æœ‰ä»£è¡¨æ€§çš„ã€‚æ°´é‡Œçš„æ‚è´¨ä½“ç§¯ä»å¤§åˆ°å°æ˜¯ æ‚¬ä¹é¢—ç²’ç‰© &gt; å¾®ç”Ÿç‰© &gt; ç»†èŒç—…æ¯’ &gt; ç¦»å­ã€‚TDSæµ‹å¯¼ç”µç‡ï¼Œæ˜¯ç¦»å­çš„æ•°é‡ã€‚å¦‚æœä½“ç§¯æœ€å°çš„ç¦»å­åœ¨è¿‡æ»¤åéƒ½ä¸‹é™äº†ï¼Œé‚£ä¹ˆåˆ«çš„æ‚è´¨å…¶å®ä¹Ÿæ²¡å‰©å¤šå°‘äº†ã€‚æ‰€ä»¥è¿™ä¸ªæŒ‡æ ‡å¯¹äºã€Œè¿‡æ»¤æ°´ã€æ¥è¯´æ˜¯å¾ˆæœ‰æ„ä¹‰çš„ã€‚</p>
<p>pps çœ‹åˆ°ä¸ª<a href="https://zhuanlan.zhihu.com/p/60231350">è½¶äº‹</a>ï¼š</p>
<blockquote>
<p>åœ¨ä¸Šä¸–çºªåˆï¼Œäººä»¬è¿˜ä¸çŸ¥é“æ°´æ±¡æŸ“ä¸æµè¡Œç—…çš„å…³ç³»ï¼Œä¹Ÿæ²¡æœ‰å¯é çš„è‡ªæ¥æ°´å‚ï¼ŒåŠ å·æ›¾ç»çˆ†å‘è¿‡å¤§è§„æ¨¡çš„æµè¡Œç—…ï¼Œå½“æ—¶äººä»¬å‘ç°å¾ˆå¤šåäººèšé›†åŒºå‘ç—…ç‡æ˜¾è‘—ä½äºå…¶ä»–äººå£ï¼Œæœ€åˆä»¥ä¸ºæ˜¯åäººæœ‰æŸäº›ç‰¹æ®Šçš„æŠ—ç—…èƒ½åŠ›ï¼ˆå°±å¦‚åŒå°ç¬¬å®‰äººç¼ºå°‘æŠ—æ„Ÿå†’ç—…æ¯’çš„èƒ½åŠ›ï¼Œæœ¬æ–‡ä½œè€…å¼•ç”³ï¼‰ï¼Œåæ¥æ‰å‘ç°æ˜¯å› ä¸ºåŠ³å·¥ä¸­æ™®éä¿æŒç€çƒ§å¼€æ°´å–çš„ä¹ æƒ¯ï¼Œé¿å…äº†æµè¡Œç—…åœ¨åäººé—´çš„ä¼ æ’­ã€‚ç„¶åæ‰å¼€å§‹äº†å¤§è§„æ¨¡å»ºè®¾å‡€æ°´å‚ï¼Œé€šè¿‡å»é™¤æ‚¬æµ®é¢—ç²’åŠèƒ¶ä½“ï¼Œå†è¿›è¡Œæ¶ˆæ¯’ï¼Œæœ‰æ•ˆç­æ´»ç»†èŒï¼Œä»è€Œæ§åˆ¶äº†æ°´ä»‹è´¨ç—…åŸèŒçš„ä¼ æ’­ï¼Œå¸¦æ¥äº†æ°´å¤„ç†è¡Œä¸šçš„å‘å±•ï¼ˆæœ¬æ®µå†…å®¹ä¾æ®è‡ªåŠ å·å¤§å­¦ä¼¯å…‹åˆ©åˆ†æ ¡Nelsonæ•™æˆçš„è¯¾å ‚è®²è¿°ï¼Œæœ¬æ–‡ä½œè€…æ ¹æ®å…¶å¤§æ„è¿›è¡Œæ¦‚æ‹¬ï¼‰ã€‚</p>
</blockquote></p>
            <div class="card-subtext muted-text">
              <p>Posted <time datetime="2021-09-24T21:34:44+08:00">2021-09-24</time></p>
<p>stdout</p>            </div>
          </article>
        </div>


        <!-- new article -->
        <div class="card blog-card">
          <article class="card-body">
            <a href="/2021/stdout-011"  rel="bookmark" >
              <h2 class="card-title">TiDB çš„æ—¥æœŸæ¯”è¾ƒå’Œ MySQL ä¸å…¼å®¹</h2>
            </a>
            <p class="card-text"><p>MySQLçš„</p>
<pre><code>  &gt; select VERSION()
  +-----------+
  | VERSION() |
  +-----------+
  | 8.0.15-6  |
  +-----------+


  &gt; select NOW() &gt; '';
  +------------+
  | NOW() &gt; '' |
  +------------+
  | 1          |
  +------------+

  &gt; show warnings;
  +---------+------+----------------------------------------+
  | Level   | Code | Message                                |
  +---------+------+----------------------------------------+
  | Warning | 1292 | Truncated incorrect datetime value: '' |
  +---------+------+----------------------------------------+
</code></pre>
<p>TiDB:</p>
<pre><code>  &gt; select VERSION()
  +--------------------+
  | VERSION()          |
  +--------------------+
  | 5.7.25-TiDB-v5.1.0 |
  +--------------------+
  1 row in set

  &gt; select NOW() &gt; '';
  +------------+
  | NOW() &gt; '' |
  +------------+
  | &lt;null&gt;     |
  +------------+

  &gt; show warnings;
  +---------+------+------------------------------+
  | Level   | Code | Message                      |
  +---------+------+------------------------------+
  | Warning | 1292 | Incorrect datetime value: '' |
  +---------+------+------------------------------+
  1 row in set
</code></pre>
<p>è®°å½•ä¸€ä¸‹ <a href="https://github.com/pingcap/tidb/issues/21354">ç›¸å…³ issue</a></p>
<p>btw é¡ºä¾¿åæ§½ä¸€ä¸‹ï¼Œ</p>
<p><code>json_extract('{"a": null}', '$.a')</code> è¿”å›çš„å€¼æ˜¯ <code>CAST('null' AS JSON)</code></p>
<p>æ³¨æ„åŒºåˆ†  <code>json_extract('{"a": null}', '$.b') IS NULL</code> </p></p>
            <div class="card-subtext muted-text">
              <p>Posted <time datetime="2021-09-07T17:52:51+08:00">2021-09-07</time></p>
<p>stdout</p>            </div>
          </article>
        </div>


        <!-- new article -->
        <div class="card blog-card">
          <article class="card-body">
            <a href="/2021/stdout-010"  rel="bookmark" >
              <h2 class="card-title">shell script to graceful restart gunicorn with source code reloading</h2>
            </a>
            <p class="card-text"><p>I always thought restart <a href="https://gunicorn.org/">gnicorn</a> is as easy as <code>kill -HUP &lt;pid&gt;</code>, but there are two pitfalls:</p>
<p>First of all the code might be loaded in master process then fork'ed into workers, so the <code>HUP</code> signal won't reload the source code, only gunicorn config is updated.</p>
<p>Then there might be some bugs and your new code won't boot correctly, the worker will quit and drags down the master process along with it.</p>
<p>I discovered a new trick from github issues that can spawn new worker first, check if new code loads correctly then restart the whole rack.</p>
<p>According to <a href="https://docs.gunicorn.org/en/latest/signals.html#upgrading-to-a-new-binary-on-the-fly">the docs</a> you need to send several signals and blah blah, the author tried to explain in great detail of how it works rather than providing a simple option to do so.</p>
<p>So I wrote a shell script to do that instead.</p>
<pre><code>  #!/bin/bash

  oldpid=$(&lt;./deploy/gunicorn.pid)
  # forget the old kill -HUP 
  kill -USR2 $oldpid
  sleep 1
  timeout=5
  while [[ $timeout -gt 0 ]]; do
    newpid=$(&lt;./deploy/gunicorn.pid.2) &amp;&amp; kill -0 $newpid
    if [[ $? -eq 0 ]]; then
      break
    else
      sleep 0.5
      (( timeout-- ))
    fi
  done;

  # shutdown old
  echo "success. newpid=$newpid"
  kill -WINCH $oldpid
  sleep 1
  kill -TERM $oldpid
</code></pre>
<p>The script will check for new master pid to be alive then kill the old master in a maximium timeout of 5 seconds.</p>
<p>It works perfectly to replace the simple <code>HUP</code> signal as intended.</p></p>
            <div class="card-subtext muted-text">
              <p>Posted <time datetime="2021-08-21T00:53:20+08:00">2021-08-21</time></p>
<p>stdout</p>            </div>
          </article>
        </div>


        <!-- new article -->
        <div class="card blog-card">
          <article class="card-body">
            <a href="/2021/stdout-009"  rel="bookmark" >
              <h2 class="card-title">macOS è®¾ç½® TCP æ¡æ‰‹è¿æ¥è¶…æ—¶ï¼Œæå‡æµè§ˆå™¨åœ¨ç³Ÿç³•ç½‘ç»œä¸‹çš„è®¿é—®ä½“éªŒ</h2>
            </a>
            <p class="card-text"><p>å¤šå¹´çš„ç–‘æƒ‘ä»Šå¤©å±…ç„¶è¢«å¶ç„¶è§£å¼€äº†ã€‚</p>
<p>ç”±äºå¢™å†…ç³Ÿç³•çš„ç½‘ç»œç¯å¢ƒï¼Œè€Œä¸”ISPç”šè‡³wifiå†…è¿˜æœ‰å¢™ä¸­å¢™ï¼Œæ‰€ä»¥å¾ˆå¤šåŸŸåæ˜¯æ‰“ä¸å¼€çš„ã€‚</p>
<p>æ¯æ¬¡çœ‹æµè§ˆå™¨åœ¨å‚»ä¹ä¹çš„è½¬èŠèŠ±ï¼Œå°±è§‰å¾—æµªè´¹æ—¶é—´ã€‚</p>
<pre><code>  sudo sysctl  net.inet.tcp.keepinit=3000
</code></pre>
<p>è¿™ä¸€æ¡æŒ‡ä»¤å¯ä»¥ç›´æ¥è®¾ç½® macOS çš„ TCP Keepalive å¿ƒè·³åŒ…åˆå§‹åŒ–æ—¶é—´è®¾ç½®ä¸º3000æ¯«ç§’ã€‚</p>
<p><code>net.inet.tcp.keepinit</code>é»˜è®¤å€¼æ˜¯ 75000 ï¼Œå•ä½æ˜¯æ¯«ç§’ã€‚æ³¨æ„ Linux ä¸‹æ²¡è¿™è®¾ç½®ï¼Œè€Œä¸”å•ä½æ˜¯ ç§’</p>
<p>è¿™å¥è¯å­¦ç©¶å¼çš„è§£é‡Šå¯ä»¥é€šè¿‡ <code>man 4 tcp</code> å¾—åˆ°ï¼Œæ‘˜å½•å‡ æ¡ï¼š</p>
<blockquote>
<p>TCP_CONNECTIONTIMEOUT  The TCP_CONNECTIONTIMEOUT option allows to specify the timeout, in seconds, for new, non established TCP connections. This option can be useful for both active and passive TCP connections. The default value is specified by the MIB variable net.inet.tcp.keepinit.<br />
tcp.keepinit Timeout, in milliseconds, for new, non-established TCP connections.</p>
</blockquote>
<p>æ¢å¥è¯è¯´ï¼Œå°±æ˜¯ TCP ç¬¬ä¸€ä¸ª syn åŒ…æœ€å¤šç»™3ç§’ç­‰å¾…ã€‚è¶…è¿‡3ç§’å°±æ‹‰å€’ï¼Œç›´æ¥æŠ¥ <code>ERR_CONNECTION_TIMED_OUT</code> å®Œäº‹ã€‚</p>
<p>æˆ‘è§‰å¾—ï¼Œå¦‚æœä¸€ä¸ªåŸŸåå’ŒTCPç«¯å£3ç§’é’Ÿå†…æ— æ³•å®Œæˆæ¡æ‰‹ï¼Œå°±åˆ«æ‰§ç€äº†ã€‚ä½ å†å¹²ç­‰75ç§’ä¹Ÿä¸å¯èƒ½è¿ä¸Šã€‚è¿™ä¸ªå€¼åªä¼šå½±å“åˆå§‹è¿æ¥çš„è¶…æ—¶ï¼Œä¸€æ—¦è¿ä¸Šäº†æ€ä¹ˆidleéƒ½ä¸å½±å“ï¼Œæ‰€ä»¥ä¸ä¼šå½±å“æ¸¸æˆçš„tcpæˆ–è€…websocketçš„é•¿è¿æ¥ã€‚ä¹Ÿä¸å½±å“udpã€‚</p>
<p>2021-07-06 è¡¥å……ï¼š</p>
<p>é‡å¯ä¿æŒæœ‰æ•ˆï¼š</p>
<pre><code>  echo net.inet.tcp.keepinit=3000 | sudo tee -a /etc/sysctl.conf
</code></pre>
<p>2021-09-21 è¡¥å……ï¼š</p>
<p>æ–°ç‰ˆmacOS æŠŠ /etc/sysctl.conf è¿™æ–‡ä»¶ç»™æ¢ä½ç½®äº†ã€‚åº”è¯¥æ˜¯</p>
<pre><code>  "/Users/Shared/Relocated Items/Configuration/private/etc/sysctl.conf"
</code></pre></p>
            <div class="card-subtext muted-text">
              <p>Posted <time datetime="2021-07-02T15:51:19+08:00">2021-07-02</time></p>
<p>stdout</p>            </div>
          </article>
        </div>


        <!-- new article -->
        <div class="card blog-card">
          <article class="card-body">
            <a href="/202106/stdout-008"  rel="bookmark" >
              <h2 class="card-title">MySQL on duplicate key in SQLAlchemy</h2>
            </a>
            <p class="card-text"><p>A simple function to upsert something atomically into MySQL</p>
<pre><code>  def upsert(val1, val2, **kwargs):
      """upsert val1-val2 pair into mysql and return the pk"""
      from sqlalchemy.dialects.mysql import insert
      from sqlalchemy.sql.expression import func

      # this val1-val2 pair should have UNIQUE KEY constraint in MySQL table.
      stmt = insert(MyModel.__table__).values(col1=val1, col2=val2)
      if kwargs:
          stmt = stmt.on_duplicate_key_update(kwargs)
      else:
          # get lastrowid https://stackoverflow.com/a/29722203/41948
          stmt = stmt.on_duplicate_key_update(id=func.LAST_INSERT_ID(MyModel.id))
      # inserted_primary_key (dbapi, return 0 when only insert) or lastrowid (mysql)
      pk = db.session().execute(stmt).lastrowid
      if not pk:
          pk = MyModel.query.options(load_only('id')).filter_by(
              col1=val1, col2=val2
          ).first().id
      return pk
</code></pre>
<p>Writing complex SQL is hard, sqlalchemy makes it harder. Prefer other ORMs in Python.</p>
<p>I really hate fighting the infamous sqlalchemy API. Everything wrong about it can be shown in this one-liner:</p>
<pre><code>  from sqlalchemy.orm import Load, load_only, joinedload
</code></pre>
<p>You have the three styles of CamelCase, under_score, and concatfunctionnames fucked up together. Bad and leaky abstraction.</p></p>
            <div class="card-subtext muted-text">
              <p>Posted <time datetime="2021-06-29T11:55:13+08:00">2021-06-29</time></p>
<p>stdout</p>            </div>
          </article>
        </div>


        <!-- new article -->
        <div class="card blog-card">
          <article class="card-body">
            <a href="/202106/stdout-007"  rel="bookmark" >
              <h2 class="card-title">å¤å¢“ä¸½å½±9ï¼ˆTomb Raider 2013ï¼‰æ²»3Dçœ©æ™•å¿…å¤‡FOVè¡¥ä¸+ç¦é•œå¤´æ™ƒåŠ¨</h2>
            </a>
            <p class="card-text"><p>æ–­æ–­ç»­ç»­æŠŠ<a href="https://steamcommunity.com/id/electronixtar/recommended/203160">ä¹°</a>çš„<a href="https://store.steampowered.com/app/203160/Tomb_Raider/">å¤å¢“ä¸½å½±9</a>æ‰“å®Œäº†ã€‚è¿™æ¬¾2013å¹´çš„æ¸¸æˆæ”¾åœ¨ä»Šå¤©çœ‹ä¹Ÿå¾ˆä¸é”™ã€‚</p>
<p>å”¯ä¸€çš„å·¨å¤§é—®é¢˜å°±æ˜¯3Då¤´æ™•ã€‚ç½‘ä¸Šæ‰¾äº†ä¸€äº›åŠæ³•ã€‚</p>
<h3>ç¦æ­¢é•œå¤´æ™ƒåŠ¨</h3>
<p>è™½ç„¶æ•…äº‹å’Œé•œå¤´éƒ½å¾ˆå¥½ï¼Œä½†æ˜¯è¿™æ™ƒåŠ¨å¤ªçƒ¦äººäº†ï¼Œå¾ˆå®¹æ˜“å¤´æ™•ã€‚å€¼å¾—åº†å¹¸çš„æ˜¯ PC å¹³å°å¯ä»¥å½»åº•æ ¹æ²»è¿™é—®é¢˜ã€‚ä¸‹è½½ <a href="https://community.pcgamingwiki.com/files/file/1166-tomb-raider-2013-yamatai-patch/">Yamatai Patch</a>ã€‚æŒ‰å›¾ä¿®æ”¹</p>
<p><img alt="" src="/images/2021/stdout-007-1.png" /></p>
<h3>å¢å¤§ FOV</h3>
<p>è¿™æ˜¯å¤šå¹´çš„ç»éªŒã€‚å¤´æ™•çš„ä¸»è¦é—®é¢˜å°±æ˜¯è§†é‡å¤ªçª„ã€‚</p>
<p>å»ä¸‹è½½ <a href="https://cheatengine.org/">Cheat Engine</a> å®‰è£…å¹¶æ‰“å¼€ï¼Œç„¶åä¸‹è½½<a href="https://community.pcgamingwiki.com/files/file/1148-tomb-raider-2013-fov-cheat-table/">å†…å­˜ä¿®æ”¹è¡¨</a>ï¼ŒæŒ‰å›¾ä¿®æ”¹ã€‚</p>
<p><img alt="" src="/images/2021/stdout-007-2.jpg" /></p>
<p>ä»¥ä¸Šä¿®æ”¹éƒ½éœ€è¦æœ‰ç®¡ç†å‘˜æƒé™å¹¶ä¸”ä¿è¯æ¸¸æˆæ­£åœ¨è¿›è¡Œä¸­ã€‚é¡ºä¾¿è¯´ä¸‹ Yamatai patch è¿˜å¯ä»¥æ²»å¥½ Lara Croft èƒ¸éƒ¨å‘è‚²ä¸è‰¯çš„æ¯›ç—…ã€‚å¥½é¡¶èµï¼</p></p>
            <div class="card-subtext muted-text">
              <p>Posted <time datetime="2021-06-26T14:32:36+08:00">2021-06-26</time></p>
<p>stdout</p>            </div>
          </article>
        </div>


        <!-- new article -->
        <div class="card blog-card">
          <article class="card-body">
            <a href="/202106/stdout-006"  rel="bookmark" >
              <h2 class="card-title">è¡Œè½¦è®°å½•ä»ªè§†é¢‘ffmpegåˆå¹¶è½¬å½•å­˜æ¡£ï¼Œè·³è¿‡é‡å¤çš„æ¼ç§’</h2>
            </a>
            <p class="card-text"><p>æ‰‹ä¸Šæœ‰å‡ ä¸ªè¡Œè½¦è®°å½•ä»ª</p>
<ul>
<li>VOSONIC å‹¤å®‡V10ï¼Œä¹Ÿå«ç¾¤å è·¯ä¸å¹³ï¼Œç”¨çš„ è”å’ Novatek NT96550BG çš„èŠ¯ç‰‡ï¼Œ1080p</li>
<li>BLACKVIEW å‡Œåº¦A12ï¼Œé‡‡ç”¨ å®‰éœ¸(Ambarella) A12 æ–¹æ¡ˆï¼Œ2k</li>
<li>PAPAGO è¶´è¶´ç‹—ï¼ŒGoSafe 560WiFiï¼Œé‡‡ç”¨ NT96670 èŠ¯ç‰‡+IMX415çš„ sony CMOSï¼Œ4k</li>
</ul>
<p>ç‰¹ç‚¹æ˜¯æ¯5åˆ†é’Ÿåˆ‡å‰²æˆä¸€ä¸ªå•ç‹¬çš„æ–‡ä»¶ï¼Œä¸ºäº†é˜²æ­¢æ¯ä¸¤ä¸ªè§†é¢‘ä¹‹é—´æ¼ç§’ï¼Œæ‰€ä»¥ä¼šé¢å¤–é‡å¤å†™å…¥1ç§’çš„å†…å®¹</p>
<p>ç°åœ¨æƒ³æŠŠä¸€æ®µæ—¶é—´çš„è§†é¢‘åˆå¹¶æˆä¸€ä¸ªå­˜æ¡£ï¼Œå¹¶ä¸”è¦<a href="https://www.v2ex.com/t/248037">è·³è¿‡é‚£äº›é¢å¤–çš„1ç§’</a>ï¼Œä¸Š ffmpegã€‚</p>
<p>é¦–å…ˆå‰æ‘‡ï¼Œç”Ÿæˆéœ€è¦åˆå¹¶çš„è§†é¢‘æ–‡ä»¶è·¯å¾„åˆ—è¡¨</p>
<p><code>ls -fd1 /Volumes/SD_CARD/DCIM/xxxxx/*</code> </p>
<p>çš„ç»“æœå†™æˆå¦‚ä¸‹æ ¼å¼ï¼š</p>
<pre><code>  file 'input1.mov'
  inpoint 10
  outpoint 300
  file 'input2.mov'
  # comment
  outpoint 300 
  file 'input3.mov'
  outpoint 300
  ... 
  file 'inputN.mov'
  outpoint 300
</code></pre>
<p><code>inpoint 10</code> å°±æ˜¯ä»10ç§’å¼€å§‹ç®—ï¼Œ<code>outpoint 300</code> å°±æ˜¯åˆ°300ç§’ç»“æŸã€‚ä¿å­˜ä¸Šé¢çš„ä¸º 1.txt</p>
<p>ç„¶åå¿µ ffmpeg å’’è¯­</p>
<p><code>ffmpeg -hwaccel cuda -hwaccel_output_format cuda -safe 0 -r 48  -f concat -i 1.txt -an -vf "select=concatdec_select,scale_cuda=w=1280:h=720:interp_algo=lanczos,setpts=0.125*PTS" -c:v h264_nvenc -preset:v p7 -profile:v high -tune:v hq -cq:v 19 -qmax 22 -b:v 0 -maxrate 8M -rc vbr out.mp4</code></p>
<p>é€ä¸ªè§£é‡Šä¸‹ï¼š</p>
<ul>
<li><code>-hwaccel cuda</code> ç”¨nVIDIAçš„ H.264 è§£ç å™¨ç¡¬ä»¶åŠ é€Ÿè§£ç è¡Œè½¦è®°å½•ä»ªçš„åŸå§‹ .MOV æ–‡ä»¶ã€‚å¦‚æœæ²¡æ˜¾å¡æœ‰ Intel å¤„ç†å™¨å¯ä»¥ æŠŠ cuda æ¢æˆ qsv ä¹Ÿæœ‰åŠ é€Ÿæ•ˆæœã€‚ä¹Ÿå¯ä»¥æ¢æˆ cuvid ä½†æ˜¯é€Ÿåº¦æ›´æ…¢</li>
<li><code>-hwaccel_output_format cuda</code> ç”Ÿæˆ  out.mp4 çš„æ—¶å€™ä¹Ÿé‡‡ç”¨ nVIDIA æ˜¾å¡H.264ç¼–ç å™¨åŠ é€Ÿã€‚è¿™é‡Œå¦‚æœå’Œä¸Šé¢éƒ½æ˜¯ <code>cuda</code> é‚£ä¹ˆç›´æ¥æ˜¾å­˜å¯¹æ‹·ï¼Œé¿å…äº†å†…å­˜å’Œ PCI æ‹·è´é€Ÿç‡ç“¶é¢ˆã€‚</li>
<li><code>-safe 0</code> å…è®¸è¯»å†™å¤–éƒ¨æ–‡ä»¶</li>
<li><code>-r 48</code>  å’Œåé¢çš„ <code>setpts=0.125*PTS</code>  ä¸€èµ·ï¼ŒæŠŠå¸§ç‡æé«˜åˆ° 48fps ï¼ŒæŠŠå›æ”¾é€Ÿåº¦æé«˜ 8å€ã€‚æ–¹ä¾¿å­˜æ¡£ã€‚ä¸éœ€è¦çš„å¯ä»¥å»æ‰</li>
<li><code>-f concat</code>  å’Œ <code>select=concatdec_select</code> å°±æ˜¯é€šè¿‡å‰æ‘‡çš„ <code>1.txt</code> æŒ‡å®šåˆå¹¶å“ªäº›æ–‡ä»¶ï¼ˆå¹¶ä¸”å»æ‰æ—¶é—´èµ·æ­¢ç‚¹ä¹‹å¤–çš„ï¼‰</li>
<li><code>-an</code> ä¸¢æ‰éŸ³è½¨ã€‚å¦‚æœä¿ç•™çš„è¯åº”è¯¥æ˜¯ <code>-v:a copy</code></li>
<li><code>-vf</code> åé¢æŒ‡å®šä¸€ç³»åˆ—å·¨å¤æ‚çš„ffmpegæ»¤é•œæ“ä½œã€‚</li>
<li><code>scale_cuda=w=1280:h=720:interp_algo=lanczos</code>ï¼Œç”¨æ˜¾å¡ CUDA æ“ä½œç¼©æ”¾æ“ä½œã€‚lanczosæ˜¯ä¸€ç§ downsampling ç®—æ³•è®©ç”»é¢æ›´åŠ å¹³æ»‘ã€‚å¦‚æœä½ è‡ªå·±ç¼–è¯‘çš„è¿˜å¯ä»¥æŠŠ scale_cuda æ¢æˆ scale_npp è¿›ä¸€æ­¥æé€Ÿã€‚</li>
<li>å¦‚æœæ²¡æœ‰ç‹¬æ˜¾æ¢æˆè½¯ç¼©æ”¾ <code>-vf "select=concatdec_select,scale=1280x720,setsar=1,setpts=0.125*PTS" -sws_flags lanczos</code></li>
<li><code>-c:v h264_nvenc</code> è§†é¢‘å‹ç¼©å¼•æ“ï¼šnVIDIA çš„ H.264 ç¼–ç å™¨ã€‚å¦‚æœæ²¡æœ‰ç‹¬æ˜¾å¯ä»¥æ”¹æˆ libx264</li>
<li><code>-preset:v p7</code> è¿™é‡Œä»£æ›¿ä¹‹å‰çš„ slow fast ç­‰é€‰é¡¹ã€‚å‚è€ƒ <a href="https://docs.nvidia.com/video-technologies/video-codec-sdk/nvenc-preset-migration-guide/">HEVC Preset Migration</a></li>
<li><code>-profile:v high</code> å¦‚æœä½ è¦å…¼å®¹åˆä»£ iPad ç­‰å¤è‘£è®¾å¤‡å°±åªèƒ½ç”¨ <code>main</code></li>
<li><code>-tune:v hq</code> é¢å‘ç”»è´¨ä¼˜åŒ–ï¼ˆè€Œä¸æ˜¯ç ç‡æˆ–è€…å»¶æ—¶ï¼‰</li>
<li><code>-cq:v 19</code> ç”»è´¨éå¸¸æ¥è¿‘æ— æŸçš„ã€‚ä½†æ˜¯ä½“ç§¯ä¹Ÿå˜å¤§ã€‚ä¸€èˆ¬22ä¸­ç­‰é…ç½®ä¸èƒ½å†å¤§äº†ã€‚H.265 å¯ä»¥è®¾ç½®æˆ 26ã€‚å¦‚æœæ˜¯ <code>libx264</code> æ”¹æˆ <code>-crf 19</code> æŒ‡å®š</li>
<li><code>-qmax 22</code> ä¸Šé¢çš„å€¼æœ€å¤§ä¸º 22</li>
<li><code>-b:v 0</code> å–æ¶ˆç ç‡æŒ‡å®š</li>
<li><code>-maxrate 8M</code> æœ€é«˜ç ç‡ 8Mbps</li>
<li><code>-rc vbr</code> å¯å˜ç ç‡ã€‚æ³¨æ„ vbr_hq ä¹‹ç±»çš„å·²ç»ä¸åœ¨æ”¯æŒäº†ã€‚</li>
</ul>
<p>è¿˜æœ‰ä¸€äº›å‘ç‚¹ï¼š</p>
<ul>
<li>2k@60fpsçš„åˆ†è¾¨ç‡éœ€è¦æŒ‡å®š <code>-level 51</code>ã€‚å› ä¸ºé»˜è®¤çš„ <a href="https://en.wikipedia.org/wiki/Advanced_Video_Coding#Levels">H.264 çº§åˆ«</a>å¤ªä½frame sizeæ”¯æŒä¸äº†ã€‚ã€‚ã€‚</li>
<li>å¦‚æœä¸ç¼©æ”¾åŸå§‹å°ºå¯¸å‹åˆ¶ï¼Œå¾ˆæœ‰å¯èƒ½ä¼šå‡ºé”™ No decoder surfaces left. Error while decoding stream #0:0: Invalid data found when processing inputã€‚è¿™æ˜¯ <a href="https://trac.ffmpeg.org/ticket/7562">ffmpeg 4.1 ä»¥åçš„ bug</a> è§£å†³æ–¹æ¡ˆæ˜¯ <code>-extra_hw_frames 2</code> æˆ–è€…æ›´å¤§ã€‚ä½†æ˜¯ CUDA æœ€å¤šæ”¯æŒ32æ‰€ä»¥ä¼°è®¡ä¼šæŠ¥é”™ï¼Œå°±åªèƒ½ CPU è´Ÿè´£è§£ç  GPU è´Ÿè´£ç¼–ç ã€‚</li>
<li>å‹åˆ¶çš„æ—¶å€™å‘ç° TF å¡æˆ–è€…æ˜¯è¯»å¡å™¨20M/sæ˜¯ç“¶é¢ˆã€‚æ‹·åˆ°æœ¬åœ°å‘ç° GPU decoder æ˜¯100%ï¼Œencoderåªæœ‰30%å·¦å³ã€‚</li>
<li>2kåˆ†è¾¨ç‡20Mbpsç ç‡30fpsçš„åŸå§‹è§†é¢‘å ç”¨ä½“ç§¯å¤ªå¤§ï¼Œ1080p 16Mbpsç ç‡æ•ˆæœæ¯” 720p 8Mbpså¥½ä¸äº†å¤šå°‘ã€‚æœ€åé€‰æ‹©çš„æ˜¯8Mç ç‡ã€‚åœ¨è¶…å¿«ç§»åŠ¨çš„æ—¶å€™æœ‰è‰²å—ï¼Œå…¶ä»–å µè½¦çš„æ—¶å€™ç”»è´¨å¾ˆé«˜ã€‚è¯†åˆ«è½¦ç‰Œå‡ ä¹ä¸å—å½±å“</li>
</ul>
<p>æ€»çš„æ¥è¯´ï¼Œffmpeg çœŸæ˜¯æ“ä½œç³Ÿç³•è€ŒåŠŸèƒ½å¼ºå¤§çš„å·¥å…·çš„å…¸å‹ã€‚ä»¥ä¸Šå‚æ•°ä¸ºä¸œæ‹¼è¥¿å‡‘æ’å¤§è¿å¶å¾—ï¼Œå¦‚æœ‰ä¸å¯¹æ•¬è¯·æŒ‡æ­£ã€‚</p></p>
            <div class="card-subtext muted-text">
              <p>Posted <time datetime="2021-06-05T20:42:15+08:00">2021-06-05</time></p>
<p>stdout</p>            </div>
          </article>
        </div>


        <!-- new article -->
        <div class="card blog-card">
          <article class="card-body">
            <a href="/202104/stdout-005"  rel="bookmark" >
              <h2 class="card-title">Win10 è‡ªåŠ¨è®¾ç½®å¼€æœºé”å±å£çº¸</h2>
            </a>
            <p class="card-text"><p>Win10å¯åŠ¨åï¼Œé”å±ç•Œé¢æœ‰ä¸€äº›æ¯å¤©æ›´æ–°çš„æ¼‚äº®çš„å¢™çº¸ï¼Œä½†æ˜¯æ¯ä¸ªç”¨æˆ·è¿›å»å´åªèƒ½çœ‹åˆ°é»˜è®¤çš„å¢™çº¸ï¼Œä¸èƒ½è‡ªåŠ¨åˆ‡æ¢ã€‚å¾ˆæ˜¯é—æ†¾ï¼Œäºæ˜¯æäº†ä¸€æ®µå°è„šæœ¬å¼¥è¡¥ã€‚</p>
<p>æ‰¾ä¸ªåœ°æ–¹æ¯”å¦‚æ¡Œé¢ï¼Œå³é”®æ–°å»ºä¸€ä¸ª <code>est_win10_auto_wallpaper.bat</code></p>
<pre><code>  @if (@X)==(@Y) @end /* JScript comment
  @echo off

  cscript //E:JScript %~n0.bat

  exit /b %errorlevel%
  */

  var oShell = new ActiveXObject("WScript.Shell") ;
  var oFSO = new ActiveXObject("Scripting.FileSystemObject");

  var sWinDir = oFSO.GetSpecialFolder(0);
  var sPath = oShell.ExpandEnvironmentStrings('%LOCALAPPDATA%\\Packages\\Microsoft.Windows.ContentDeliveryManager_cw5n1h2txyewy\\LocalState\\Assets\\')

  var oFolderEnum = new Enumerator(oFSO.GetFolder(sPath).Files);
  var aFiles = []
  for (;!oFolderEnum.atEnd();oFolderEnum.moveNext()) {
      // var item = oFolderEnum.item()
      aFiles.push(oFolderEnum.item())
  }
  var aFiles2 = aFiles.sort(function(x,y){return new Date(y.DateLastAccessed).getTime() - new Date(x.DateLastAccessed).getTime()}).slice(3)
  var sWallpaper;
  // for (var i=0;i&lt;aFiles2.length;i++){
  for (var i in aFiles2){
      // WScript.Echo('check ' + aFiles2[i].name + ' size: ' + aFiles2[i].size);
      if(aFiles2[i].size &gt; 500000){  // guess &gt; 500KB is good wallpaper
          sWallpaper = aFiles2[i].path
          break;
      }    
  }
  if(sWallpaper){
      // or fso.GetStandardStream(1) for stdout, 2 for stderr
      // WScript.Echo('set to ' + sWallpaper);
      oShell.RegWrite("HKCU\\Control Panel\\Desktop\\Wallpaper", sWallpaper);
      oShell.Run("%windir%\\System32\\RUNDLL32.EXE user32.dll,UpdatePerUserSystemParameters 1, True");
  }
</code></pre>
<p>Win+Rè¾“å…¥ <code>shell:startup</code> å›è½¦ï¼ŒæŠŠåˆšæ‰çš„ <code>est_win10_auto_wallpaper.bat</code> åœ¨è¿™é‡Œåˆ›å»ºä¸€ä¸ªå¿«æ·æ–¹å¼</p>
<p>è§£é‡Šä¸‹ä¸ºå•¥è¦åœ¨ <code>shell:startup</code> é‡Œåˆ›å»ºå¿«æ·æ–¹å¼è€Œä¸æ˜¯ç›´æ¥æ”¾ .bat ã€‚å› ä¸ºå¿«æ·æ–¹å¼å¯ä»¥è®¾ç½®å½“å‰è¿è¡Œç›®å½•ï¼Œè¿™æ ·ä»£ç é‡Œçš„ <code>%~n0</code> æ‰èƒ½ç”Ÿæ•ˆã€‚æ‡’å¾—æŸ¥è¯¢å®Œæ•´è·¯å¾„å¦‚ä½•å†™äº†ã€‚ã€‚</p>
<p>ç„¶åè¿™æ®µä»£ç å…¶å®ç”¨äº†ä¸€ä¸ªæ¯”è¾ƒé«˜çº§çš„ <a href="https://stackoverflow.com/a/28250760/41948">.js .bat æ··åˆæ ¼å¼</a>ã€‚å› ä¸º Windows Smart Screen ä¼šæ‹¦æˆª WScript çš„ç›´æ¥æ‰§è¡Œï¼Œè®¤ä¸ºç‰¹åˆ«å±é™©ã€‚ä½†æ˜¯å¦‚æœä½ åœ¨ cmd é‡Œæ‰§è¡Œç³»ç»Ÿå°±è§‰å¾—å¾ˆå®‰å…¨ã€‚ã€‚ã€‚ã€‚å—¯ã€‚ã€‚</p>
<p>åæ§½1ï¼š å¼€å§‹ â†’ å¯åŠ¨ èœå•éƒ½ä¸è§äº†ã€‚ã€‚ã€‚</p>
<p>åæ§½2ï¼šå¥½ä¹…æ²¡å†™ WScript äº†æ„Ÿè§‰éƒ½å¿˜å®Œäº†ã€‚vbs æ˜¯è‚¯å®šä¸ä¼šçš„äº†ã€‚<a href="https://docs.microsoft.com/en-us/previous-versions//hbxc2t98(v=vs.85)?redirectedfrom=MSDN">JScript å±…ç„¶æ˜¯ ESMAScript3</a>ã€‚å¥½å¤šç°ä»£å†™æ³•éƒ½ä¸æ”¯æŒã€‚</p></p>
            <div class="card-subtext muted-text">
              <p>Posted <time datetime="2021-04-11T22:35:12+08:00">2021-04-11</time></p>
<p>stdout</p>            </div>
          </article>
        </div>


        <!-- new article -->
        <div class="card blog-card">
          <article class="card-body">
            <a href="/202104/stdout-004"  rel="bookmark" >
              <h2 class="card-title">Mac å‘½ä»¤è¡Œç»ˆç«¯é‡Œè·å¾—è§†é¢‘æ–‡ä»¶çš„é•¿åº¦</h2>
            </a>
            <p class="card-text"><p>è®°å½•ä¸€ä¸‹ï¼ŒMac OS X 10.6.8 æˆ–æ›´é«˜ç‰ˆæœ¬ï¼š</p>
<pre><code>  mdls -name kMDItemDurationSeconds -name kMDItemFSName  1.mp4
</code></pre>
<p>è¿™å‘½ä»¤æœ‰ä¸€ä¸ªå¾ˆç¥ç»ç—…çš„ä¸€ç‚¹ï¼ŒåŒä¸€ä¸ª .mp4 æ–‡ä»¶ï¼Œè·å–åªè¯»çš„ TF å¡ä¸Šçš„å°±æ²¡æ³•è·å¾—è§†é¢‘é•¿åº¦ï¼Œå¤åˆ¶åˆ°å¯ä»¥è¯»å†™çš„æœ¬åœ°ç¡¬ç›˜ä¸Šå°±å¯ä»¥è¯»å‡ºæ¥ã€‚</p>
<p>æˆ–è€…åœ¨ Finder é‡Œæ–°å»ºä¸€ä¸ªå«  <code>Movies</code> çš„æ–‡ä»¶å¤¹ï¼ŒæŠŠè§†é¢‘æ–‡ä»¶æ”¾è¿›å»ï¼Œç„¶ååˆ—è¡¨å±•ç¤ºï¼Œè¡¨å¤´å³é”®ï¼Œå°±å¯ä»¥é€‰æ‹©æ˜¾ç¤ºé•¿åº¦ã€‚ã€‚</p>
<p>åŒç†ï¼Œå»ºç«‹ä¸€ä¸ªå«  <code>Pictures</code> çš„æ–‡ä»¶å¤¹ï¼Œå¯ä»¥åˆ—è¡¨å±•ç¤ºå›¾ç‰‡å°ºå¯¸ã€‚ã€‚</p>
<p>æ¥è‡ª <a href="https://superuser.com/questions/1024894/">superuser</a> ã€‚çœŸæ˜¯ç¥ä¸€èˆ¬çš„è®¾å®šã€‚</p></p>
            <div class="card-subtext muted-text">
              <p>Posted <time datetime="2021-04-04T12:01:30+08:00">2021-04-04</time></p>
<p>stdout</p>            </div>
          </article>
        </div>


        <!-- new article -->
        <div class="card blog-card">
          <article class="card-body">
            <a href="/202103/stdout-003"  rel="bookmark" >
              <h2 class="card-title">FastAPI/Starlette+Requestså®ç°åå‘ä»£ç†</h2>
            </a>
            <p class="card-text"><p>å› ä¸ºæŸäº›æ‹‰å®çš„ä¸šåŠ¡éœ€è¦ï¼Œä¸å¾—ä¸åœ¨ä»£ç é‡Œå»åå‘ä»£ç†åˆ«çš„ HTTP API</p>
<p>ä¸€èˆ¬æ ¼å¼å¦‚ä¸‹ï¼š</p>
<pre><code>  @app.get('/other/{other_path:path}')
  @app.post('/other/{other_path:path}')
  async def other_api(other_path: str, req: Request):
      """é€ä¼  API"""
      host = 'http://example.intranet'
      url = '{}/other/{}'.format(host, other_path)
      body = bytes(await req.body()) or None
      r = requests.request(
          req.method, url,
          headers={
              'Cookie': req.headers.get('cookie') or '',
              'Content-Type': req.headers.get('Content-Type')},
          params=req.query_params, data=body, stream=True,
          allow_redirects=False)

      h = dict(r.headers)
      h.pop('Content-Length', None)
      return StreamingResponse(r.raw, headers=h, status_code=r.status_code)
</code></pre>
<p>è§£é‡Šä¸€ä¸‹ä¸ºå•¥è¦è¿™ä¹ˆå†™ï¼š</p>
<ol>
<li>é‡‡ç”¨ <code>stream=True</code> + <code>StreamingResponse</code>ï¼Œé˜²æ­¢ä¸Šæ¸¸ç»™ä½ è¿”å›ä¸€ä¸ªGBä½“é‡çš„æ–‡ä»¶æŠŠ FastAPI è¿›ç¨‹å†…å­˜æ’‘çˆ†</li>
<li>åªæ‘˜å–æµè§ˆå™¨çš„ <code>Cookie</code> + <code>Content-Type</code> ä¸¤ä¸ªå¤´ã€‚åˆ«çš„ä¸ç»™ä¸Šæ¸¸ã€‚</li>
<li>è¦å»æ‰è¿”å›çš„ Content-Length å¤´ã€‚å› ä¸º StreamingResponse ä¼šè‡ªå·±å®šä¹‰è¿”å›é•¿åº¦ã€‚</li>
</ol>
<p>è¿™æ ·å†™åŸºæœ¬èƒ½è·‘èµ·æ¥äº†ï¼Œä½†æ˜¯æœ‰2ä¸ªé—®é¢˜ï¼š</p>
<ol>
<li>å¦‚æœä¸Šæ¸¸è¿”å›ä¸€ä¸ª 302/303/307 çš„è·³è½¬ï¼Œé‚£ä¹ˆå¾ˆæœ‰å¯èƒ½æŠŠå†…ç½‘çš„è·³è½¬ç½‘å€ç›´æ¥è¿”å›ç»™æµè§ˆå™¨äº†ã€‚å› ä¸º <a href="https://tools.ietf.org/html/rfc2616#section-14.30">HTTP/1.1 çš„æ ‡å‡† RFC2616</a> å¼ºåˆ¶è§„å®šï¼Œ<code>Location</code> çš„å€¼å¿…é¡»æ˜¯ä¸€ä¸ªç»å¯¹ç½‘å€ã€‚æ‰€ä»¥è¿™ä¸ªæ—¶å€™å°±å†’çŠ¯ä¸€ä¸‹è¿™ä¸ªè§„å®šï¼Œå¼ºè¡Œæˆªæ–­ï¼š<pre><code>    loc = h.pop('Location', '')
    if loc.startswith(host):
        h['Location'] = loc[len(host):]
</code></pre>
</li>
</ol>
<p>æ³¨æ„è¿™é‡Œä¸è¦ç”¨ <code>.lstrip()</code> ã€‚è¿™æ–¹æ³•å’Œä½ æƒ³è±¡çš„å®Œå…¨ä¸æ˜¯ä¸€å›äº‹ã€‚å®ƒæ˜¯åŸºäºå•ä¸ªå­—ç¬¦çš„æŒ¨ä¸ªæ›¿æ¢è€Œä¸æ˜¯æ•´ä¸ªå­—ç¬¦ä¸²ã€‚<br />
2. å®æµ‹è¿™ç§åœ¨ä¸šåŠ¡ä»£ç å®ç°çš„ã€Œè½¯ã€åå‘ä»£ç†æ€§èƒ½å ªå¿§ã€‚ä¸Šæ¸¸4så·¦å³çš„æ•´ä¸ªé¡µé¢åŠ è½½æ—¶é—´ï¼Œåå‘ä»£ç†ä¹‹åå°±å˜æˆäº† 120s å·¦å³ã€‚ç›²çŒœæ˜¯ <code>StreamingResponse</code> æ˜¯ä¸€ä¸ªå­—èŠ‚ä¸€ä¸ªå­—èŠ‚å»éå†è¿­ä»£å™¨ï¼Ÿå®æµ‹å¹¶ä¸æ˜¯ã€‚ä¸»è¦çš„é”…è¿˜æ˜¯ <code>Requests</code> çš„ <code>.raw</code> æ˜¯æŒ‰ç…§ <code>chunked</code> ä¸€æ®µä¸€æ®µè¿”å›çš„ã€‚æœ€å¥½è¿˜æ˜¯å‡†å¤‡ä¸ª 4KB çš„ bufferï¼Œæé«˜æ€§èƒ½ã€‚è§£å†³æ–¹æ¡ˆæ˜¯æŠŠ  <code>r.raw</code> æ”¹æˆ <code>r.raw.stream(4096000)</code> æ€§èƒ½ä¸€ä¸‹å°±é«˜äº†ã€‚æ³¨æ„è¿™é‡Œä¸è¦ç”¨å®˜æ–¹æ–‡æ¡£æä¾›çš„ <code>.iter_contents()</code> æˆ–è€… <code>.iter_lines()</code> è¿™ä¸¤è€…åˆä¼šè‡ªä½œèªæ˜çš„å»è§£ææ–‡æœ¬ç¼–ç æˆ–è€…æ¢è¡Œç¬¦ï¼Œé™ä½äº†æ€§èƒ½ã€‚</p></p>
            <div class="card-subtext muted-text">
              <p>Posted <time datetime="2021-03-30T15:07:01+08:00">2021-03-30</time></p>
<p>stdout</p>            </div>
          </article>
        </div>


        <!-- new article -->
        <div class="card blog-card">
          <article class="card-body">
            <a href="/202101/stdout-002"  rel="bookmark" >
              <h2 class="card-title">OpenWRT å®ç° Cloudflare åŠ¨æ€åŸŸå dynamic DNS</h2>
            </a>
            <p class="card-text"><p>é¦–å…ˆå¾—æœ‰å…¬ç½‘ IP ï¼ˆåºŸè¯ï¼‰ï¼Œç„¶åä½ å¾— OpenWRT è·¯ç”±å™¨æ¡¥æ¥ç›´æ‹¨ã€‚</p>
<p>è¿™ä¸ªæ–¹æ³•çš„æ ¸å¿ƒæ˜¯é€šè¿‡ <code>ifstatus wan |  jsonfilter -e '@["ipv4-address"][0].address'</code> å‘½ä»¤å¾—åˆ°æœ¬æœº WAN çš„å…¬ç½‘ IPã€‚</p>
<p>æ ¹æ®å®˜æ–¹çš„<a href="https://support.cloudflare.com/hc/en-us/articles/360020524512-Manage-dynamic-IPs-in-Cloudflare-DNS-programmatically">è¯´æ˜</a>èµ°</p>
<ol>
<li>åˆ›å»º <a href="https://dash.cloudflare.com/profile/api-tokens">API Token</a> ã€‚æƒé™é€‰ <code>All Zones</code>ï¼Œå¾—åˆ° <code>TOKEN</code></li>
<li>éªŒè¯ API æ˜¯å¦ ok<br />
        curl - X GET "https://api.cloudflare.com/client/v4/user/tokens/verify" \<br />
          -H "Authorization: Bearer TOKEN" \<br />
          -H "Content-Type:application/json"</li>
<li>è·å– <code>:zone_identifier</code>ã€‚æ‰¾é‚£ä¸ªé•¿å¾—åƒ ID çš„<br />
        curl - X GET "https://api.cloudflare.com/client/v4/zones"\ <br />
          -H "Authorization: Bearer TOKEN" \<br />
          -H "Content-Type:application/json"</li>
<li>å› ä¸ºè„‘æ®‹çš„ RESTful é£æ ¼ API æ— æ³•å®ç° upsertï¼Œå…ˆåˆ›å»ºä¸ªDNSã€‚å¾—åˆ° <code>:identifier</code><br />
        curl -svk -X POST "https://api.cloudflare.com/client/v4/zones/:zone_identifier/dns_records"\<br />
          -H "Authorization: Bearer TOKEN" \<br />
          -H "Content-Type: application/json" \<br />
          -d '{"type":"A","name":"my_ddns.est.im","content":"'$(ifstatus wan |  jsonfilter -e '@["ipv4-address"][0].address')'","ttl":600,"proxied":false}'</li>
<li>æ—¥å¸¸æ›´æ–° DNS<br />
        curl -svk -X PUT "https://api.cloudflare.com/client/v4/zones/:zone_identifier/dns_records/:identifier" \<br />
          -H "Authorization: Bearer TOKEN" \<br />
          -H "Content-Type: application/json" \<br />
          -d '{"type":"A","name":"my_ddns.est.im","content":"'$(ifstatus wan |  jsonfilter -e '@["ipv4-address"][0].address')'","ttl":600,"proxied":false}'</li>
</ol>
<p>æ„Ÿè§‰æŒºéº»çƒ¦ã€‚è€Œä¸”æ²¡æ³• API ç½‘å…³è‡ªåŠ¨æŠŠè°ƒç”¨è€…çš„ IP è®¾ä¸º A è®°å½•ã€‚ä½†æ˜¯èŠèƒœäºæ— å§ã€‚é«˜ç‰ˆæœ¬çš„ OpenWRT <a href="https://openwrt.org/docs/guide-user/base-system/ddns">/usr/lib/ddns/services<br />
</a> ç›´æ¥æ”¯æŒ Cloudflare äº†ä¸ç”¨è¿™ä¹ˆéº»çƒ¦äº†ã€‚</p></p>
            <div class="card-subtext muted-text">
              <p>Posted <time datetime="2021-01-05T23:36:09+08:00">2021-01-05</time></p>
<p>stdout</p>            </div>
          </article>
        </div>


        <!-- new article -->
        <div class="card blog-card">
          <article class="card-body">
            <a href="/202101/stdout-001"  rel="bookmark" >
              <h2 class="card-title">OpenWRT éšæœºè®¾ç½® PPPoE æ‹¨å·çš„ MAC åœ°å€ Randomize WAN MAC address in OpenWRT PPPoE</h2>
            </a>
            <p class="card-text"><p>æ–°å¹´ç¬¬ä¸€è´´ï¼</p>
<p>Run the command before connect to PPPoE or as cronjob</p>
<p>æ·»åŠ ä¸€ä¸ªé‡å¯çš„å®šæ—¶ä»»åŠ¡ï¼Œåœ¨é‡å¯ä¹‹é—´æ‰§è¡Œä¸€ä¸ªå‘½ä»¤ï¼š</p>
<pre><code>  uci set network.wan.mac_addr=$(hexdump -n3 -e'1/3 "8c:8d:8e" 3/1 ":%02X" "\n"' /dev/random) &amp;&amp; uci commit network
</code></pre>
<p>ä¸ºä»€ä¹ˆè¦åœ¨æ‹¨å·å‰éšæœºç”ŸæˆWANå£çš„ MAC åœ°å€å‘¢ï¼Ÿå˜¿å˜¿ã€‚</p></p>
            <div class="card-subtext muted-text">
              <p>Posted <time datetime="2021-01-01T00:27:52+08:00">2021-01-01</time></p>
<p>stdout</p>            </div>
          </article>
        </div>


        <!-- new article -->
        <div class="card blog-card">
          <article class="card-body">
            <a href="/202010/stdout-011"  rel="bookmark" >
              <h2 class="card-title">nsq-py, pynsq, gnsq compared</h2>
            </a>
            <p class="card-text"><p><a href="https://nsq.io">nsq</a> is a lightweight message queue like Kafka/RabbitMQ/RocketMQ/RedisQueue/Celery.</p>
<p>For python bindings there ware three libraries out there:</p>
<ul>
<li>pynsq: the official build, but requires <code>tornado</code></li>
<li>gnsq: the gevent only consumer/publisher, might have race condition in state machine. Don't use.</li>
<li>nsq-py: <code>select()</code> based, but compatible with gevent/tornado/threading+select.</li>
</ul>
<p>So far <code>nsq-py</code> looks reall promising because it's compatible with more options with concurrency, but when I used it with massive TCP connections to nsqd, <a href="https://github.com/gevent/gevent/issues/1348">gevent</a> threw "ValueError: filedescriptor out of range in select()" error.</p>
<p>Upon further investigation, it was a select(2) limitation. The kernel will limit max tcp fileno 1024. </p>
<p>See CPython <a href="https://github.com/python/cpython/blob/3317466061509c83dce257caab3661d52571cab1/Modules/selectmodule.c#L142">source of selectmodule.c</a>:</p>
<pre><code>      if (!_PyIsSelectable_fd(v)) {
          PyErr_SetString(PyExc_ValueError,
                      "filedescriptor out of range in select()");
          goto finally;
      }
</code></pre>
<p>And <a href="https://github.com/python/cpython/blob/637a09b0d6e3ad4e34e0b5e0fc82f5afeae6f74b/Include/fileobject.h#L37"><code>_PyIsSelectable_fd</code> is defined</a> as </p>
<pre><code>  #define _PyIsSelectable_fd(FD) ((unsigned int)(FD) &lt; (unsigned int)FD_SETSIZE)
</code></pre>
<p>And the const <code>FD_SETSIZE</code> is described at <a href="https://man7.org/linux/man-pages/man2/select.2.html">man page</a>:</p>
<blockquote>
<p>The Linux kernel imposes no fixed limit, but the glibc implementation makes fd_set a fixed- size type, with FD_SETSIZE defined as 1024, and the FD_*() macros operating according to that limit.  To monitor file descriptors greater than 1023, use poll(2) or epoll(7) instead.</p>
</blockquote>
<p>Lessons I learned today: don't use libraries based on <code>select.select()</code> if you have too many connections. Even with Gevent's monkey patch, <code>select()</code> wont block on each eventlet, but still it will not allow fileno greater or equal to 1024. Sad.</p></p>
            <div class="card-subtext muted-text">
              <p>Posted <time datetime="2020-10-30T15:35:45+08:00">2020-10-30</time></p>
<p>stdout</p>            </div>
          </article>
        </div>


        <!-- new article -->
        <div class="card blog-card">
          <article class="card-body">
            <a href="/202010/stdout-010"  rel="bookmark" >
              <h2 class="card-title">äººå’ŒåŠ¨ç‰©æœ‰ä»€ä¹ˆåŒºåˆ«</h2>
            </a>
            <p class="card-text"><p>ä¸Šä¸‹ç­é€šå‹¤æåº¦æ— èŠï¼Œå°±è¶ç€ç½—èƒ–çš„10å…ƒä¼˜æƒ åˆ¸ä¹°äº† å­¦è€Œæ—¶å˜»ä¹‹ åšä¸»å¼€è®¾çš„ 199å…ƒçš„ ç²¾è‹±æ—¥è¯¾ã€‚ä¹‹å‰ä¸€ç›´è®¨åŒè¿™ä¸ªåå­—ï¼Œä½†æ˜¯å¾ˆå–œæ¬¢ <a href="http://www.geekonomics10000.com">å­¦è€Œæ—¶å˜»ä¹‹  geekonomics10000</a> è¿™ä¸ªåšå®¢ï¼Œå°±ä¹°äº†å½“ä»˜è´¹ podcast äº†ã€‚å¬ç¬¬äºŒè¯¾å°±è®²äº†ã€Šæœªæ¥ç®€å²2ï¼šæˆ‘æœ‰æ„è¯†ï¼Œå®ƒæœ‰å—ã€‹ï¼Œå°±æåˆ°äº†æœ¬ç¯‡çš„é—®é¢˜ï¼š</p>
<p>äººå’ŒåŠ¨ç‰©çš„åŒºåˆ«æ˜¯ä»€ä¹ˆï¼Ÿ</p>
<p>é©¬å…‹æ€è®¤ä¸ºæ˜¯ä½¿ç”¨å·¥å…·ã€‚å¾ˆå¤šäººä¸è®¤åŒï¼Œè§‰å¾—è¿™çº¯ç²¹æ˜¯ä¸ºäº†å¼•å‡ºåŠ³åŠ¨è®ºï¼Œå…¶äºŒçš„ç¡®å¾ˆå¤šåŠ¨ç‰©ä¹Ÿä¼šç”¨å·¥å…·ã€‚</p>
<p>ã€ŠHomo Deus æœªæ¥ç®€å²ã€‹çš„ä½œè€… å°¤ç“¦å°”Â·èµ«æ‹‰åˆ© è¯´ï¼Œäººå’ŒåŠ¨ç‰©çš„åŒºåˆ«åŒºåˆ«æ˜¯æ„è¯†ã€‚ä½†<a href="https://en.wikipedia.org/wiki/Animal_consciousness">åŠ¨ç‰©ä¹Ÿæ˜¯æœ‰æ„è¯†</a>çš„ï¼Œç”šè‡³è‡ªæˆ‘æ„è¯†ã€‚æ¯”å¦‚é¹¦é¹‰ä¼šç…§é•œå­ï¼Œè®¤å‡ºè‡ªå·±ï¼Œå¹¶ä¸”æ¢³å¦†è„¸ä¸Šçš„å¼‚ç‰©ã€‚å’Œäººç›¸å¤„çš„å® ç‰©å¾ˆæ˜æ˜¾æœ‰æƒ…ç»ªè¡¨è¾¾ã€‚</p>
<p>æˆ‘è®¤ä¸ºï¼Œäººç±»æ˜¯åœ°çƒä¸Šç¬¬ä¸€ä¸ªè¿›åŒ–å‡ºæ¥èƒ½<strong>è¿œç¨‹æ”»å‡»</strong>çš„åŠ¨ç‰©ï¼Œè€Œä¸”æ˜¯å¤§è§„æ¨¡ç¾¤ä½“åä½œé‚£ç§ï¼Œè„±ç¦»äº†è¿‘èº«è‚‰æçš„ä½çº§è¶£å‘³ã€‚å¦‚æœä½ ç© RTS å°±çŸ¥é“ï¼Œè¿œç¨‹å…µç§å‡ºç°çš„æ„ä¹‰æ˜¯å¤šä¹ˆç‰›é€¼ã€‚</p>
<p>è¿œç¨‹æ”»å‡»å¸¦æ¥ä¸Šè‚¢çš„è§£æ”¾ï¼Œè¿˜æœ‰ä¸€ä¸ªå·¨å¤§çš„å‰¯ä½œç”¨ï¼Œé‚£å°±æ˜¯æå¤§çš„é”»ç‚¼äº†å¤§è„‘é¢„åˆ¤èƒ½åŠ›ã€‚è¿™é‡Œå°±ç‰µæ‰¯åˆ°ç‚¹ç‡ƒæ™ºåŠ›çš„ä¸€ä¸ªå…³é”®ï¼Œé‚£å°±æ˜¯ <strong>å› æœå…³ç³»</strong> [1]ã€‚å› ä¸ºæŠ›å°„ç‰©æœ‰å¼¹é“é£è¡Œæ—¶é—´ï¼Œæ°´æœ‰æŠ˜å°„ï¼Œè¿™ä¸ªæ—¶å€™å°±éœ€è¦æ™ºäººå¯¹å‘¨å›´å¾ˆç³»ç»Ÿçš„åˆ†è¾¨èƒ½åŠ›å’Œå½’å› èƒ½åŠ›ã€‚æ¯”å¦‚æœ‰ä¸ª<a href="https://www.youtube.com/watch?v=2lgWcGIoSVA">youtuberç»™ä¸€åªé¹¦é¹‰è®¾ç½®äº†ä¸€ä¸ªæœºå…³</a>ï¼Œéœ€è¦æŒ‰é¡ºåºè§£å¼€ä¸‰ä¸ªé”æ‰èƒ½åƒåˆ°é£Ÿç‰©ã€‚é¹¦é¹‰çœ‹ä¸Šå»æ˜¯æ²¡èƒ½æŒæ¡è¿™ä¸ªå› æœå…³ç³»ã€‚å› æœå…³ç³»æ˜¯æ™ºæ…§ç”Ÿç‰©æ„è¯†æƒ³è±¡çš„æœ€ç¥å¥‡äº§ç‰©ï¼Œç”šè‡³ä¸­ä¸–çºªçš„äººä»¬éƒ½è§‰å¾—ä¸Šå¸å¿…é¡»æœ‰ä¸ªã€Œç¬¬ä¸€æ¨åŠ¨åŠ›ã€æ‰èƒ½è®©è¿™ä¸ªä¸–ç•Œè¿è¡Œã€‚ç›´åˆ°æœ€åçš„ç‚¼é‡‘æœ¯å£« ç‰›çˆµçˆ· é€šè¿‡ç¬¬ä¸€å®šå¾‹ç»“æŸäº†è¿™ä¸ªè¯¯è§£å¹¶æ­£ç¡®æ ‘ç«‹äº†è‡ªç„¶å“²å­¦çš„åŸºæœ¬æ³•åˆ™ã€‚</p>
<p>è¿™ä¸ªå½’å› èƒ½åŠ›é”»ç‚¼åˆ°æè‡´ï¼Œå°±å½¢æˆäº† <strong>äººå’ŒåŠ¨ç‰©æœ€å½»åº•çš„åŒºåˆ«â€”â€”èƒ½æŒ‰è‡ªå·±çš„æ„å¿—æœ‰æ„è¯†ä½¿ç”¨ ç« è¿™ç§å·¥å…·</strong>ã€‚æœ‰ä¸ªç¬‘è¯å°±æ˜¯ï¼Œå³ä¾¿äººç±»å‘å±•åˆ°ä»Šå¤©ï¼Œç”¨æ ¸ç”µç«™ä¾›èƒ½ä¹ŸåŸºæœ¬æ˜¯çƒ§å¼€æ°´ã€‚æ‰€ä»¥æˆ‘è§‰å¾— äºº å’ŒåŠ¨ç‰©ä»ä¸€ä¸ªå¾®å°çš„åŒºåˆ«ï¼Œå°±æ˜¯è¿œç¨‹æŠ•æ·ï¼Œå‘å±•å‡ºäº†å’Œæ™®é€šåŠ¨ç‰©å·¨å¤§ä¸åŒçš„æ™ºæ…§ç”Ÿå‘½çš„å¿…å¤‡æ ‡å¿—â€”â€”æŒæ§ç‰©è´¨çš„ç¬¬å››ç§å½¢æ€ï¼Œç­‰ç¦»å­ä½“ã€‚</p>
<p>ä»¥ä¸Šæ˜¯æˆ‘çš„ä¸€å®¶ä¹‹è¨€ã€‚æ¬¢è¿å¤§å®¶æ‰¹åˆ¤ã€‚å»å¹´æˆ‘è¿˜å†™äº†å¯¹ä¸€äº›<a href="https://blog.est.im/201910/stdout-006">é‡è¦é—®é¢˜çš„å›ç­”</a>ã€‚</p>
<p>[1]: å¯ä»¥çœ‹ä¸‹ä¸¤ç¯‡è®ºæ–‡ï¼ŒCausal Cognition, Force Dynamics and Early Hunting Technologies, Tracking the evolution of causal cognition in humansã€‚</p></p>
            <div class="card-subtext muted-text">
              <p>Posted <time datetime="2020-10-21T23:39:55+08:00">2020-10-21</time></p>
<p>stdout</p>            </div>
          </article>
        </div>


        <!-- new article -->
        <div class="card blog-card">
          <article class="card-body">
            <a href="/202009/stdout-008"  rel="bookmark" >
              <h2 class="card-title">javascript ä¸€å¥è¯ç®—å†œå†</h2>
            </a>
            <p class="card-text"><p>åŒæ­¥å‘å¸–åœ¨ <a href="https://www.v2ex.com/t/705897">v2ex</a></p>
<p>ä»Šå¤©å‘ç° <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Intl">Intl</a> è¿™ä¸ª ECMAscript å†…ç½®å¯¹è±¡ï¼Œå¯ä»¥ä¸€å¥è¯ç®—å†œå†ã€‚</p>
<pre><code>  new Date().toLocaleString('zh-CN-u-ca-chinese').replace(/(\d+)\s*?å¹´/, (_,y)=&gt;"ç”²ä¹™ä¸™ä¸æˆŠå·±åºšè¾›å£¬ç™¸".charAt((y-4)%10) + "å­ä¸‘å¯…å¯è¾°å·³åˆæœªç”³é…‰æˆŒäº¥".charAt((y-4)%12))
</code></pre>
<p>ç®—å†œå†æœ€éº»çƒ¦å°±æ˜¯è·¨å¹´ã€‚è¿™ä¸ª API å¤„ç†å¾—è¿˜æŒºå¥½çš„ã€‚æ¯”å¦‚2020å¹´1æœˆçš„é™¤å¤•å¤œ+æ˜¥èŠ‚</p>
<pre><code>  new Date(2020, 0, 24).toLocaleString('zh-CN-u-ca-chinese').replace(/(\d+)å¹´ /, (_,y)=&gt;"ç”²ä¹™ä¸™ä¸æˆŠå·±åºšè¾›å£¬ç™¸".charAt((y-4)%10) + "å­ä¸‘å¯…å¯è¾°å·³åˆæœªç”³é…‰æˆŒäº¥".charAt((y-4)%12))
  ä¹™äº¥è…Šæœˆ30 ä¸Šåˆ12:00:00
  new Date(2020, 0, 25).toLocaleString('zh-CN-u-ca-chinese').replace(/(\d+)å¹´ /, (_,y)=&gt;"ç”²ä¹™ä¸™ä¸æˆŠå·±åºšè¾›å£¬ç™¸".charAt((y-4)%10) + "å­ä¸‘å¯…å¯è¾°å·³åˆæœªç”³é…‰æˆŒäº¥".charAt((y-4)%12))
  åºšå­æ­£æœˆ1 ä¸Šåˆ12:00:00
</code></pre>
<p>è¿ è…Šæœˆ æ­£æœˆ éƒ½èƒ½æ˜¾ç¤ºã€‚è¿˜æ˜¯æŒº 6 çš„ã€‚æµè§ˆå™¨æ”¯æŒçš„è¯ Edge, Chrome éƒ½å¯ä»¥ï¼ŒFirefox å’Œ Safari çš„ ICU ç‰ˆæœ¬å¤ªè€éœ€è¦å¾®è°ƒä¸€ä¸‹ã€‚</p>
<p>23:39æ›´æ–°ï¼šç½‘å‹ sarvatathagata å‘ç°äº†ä¸ªå¦‚ä¸‹æ›´ç®€å•çš„æ–¹æ³•ã€‚ä¸è¿‡è¿™ä¸ªæ–¹æ³•æ— æ³•åœ°é“çš„æ˜¾ç¤º è…Šæœˆã€æ­£æœˆã€‚</p>
<pre><code>  new Date().toLocaleString('ja-JP-u-ca-chinese')
</code></pre>
<p>ç¨å¾®è§£é‡Šä¸‹ <code>zh-Hans-CN-u-ca-chinese</code> æ˜¯ä»€ä¹ˆæ„æ€ã€‚è¿™ä¸ªå« locale ä¹Ÿå« language tagã€‚<br />
zh-Hans æ˜¯ä¸€é—¨è¯­è¨€ï¼Œç®€ä½“ä¸­æ–‡ã€‚<code>CN</code> è¡¨ç¤ºåœ¨å¤§é™†åœ°åŒºç”¨çš„ã€‚ <code>-u-key1-value1-key2-value2...</code> è¡¨ç¤ºæ‰“å¼€ <em>Unicode extension</em> æ¨¡å¼ï¼Œ<code>-ca</code> è¡¨ç¤º calendar æ—¥å†ï¼Œ<code>-chinese</code> è¡¨ç¤ºå†œå†ã€‚</p>
<p>å¦‚æœæŠŠ <code>-chinese</code> æ”¹æˆ <code>-roc</code> è¿˜å¯ä»¥å¾—åˆ°ä»Šå¹´æ˜¯æ°‘å›½109å¹´ã€‚å¥‡æ€ªçš„å§¿åŠ¿åˆå¢åŠ äº†ã€‚</p>
<p>è¿˜æœ‰ä¸€ä¸ªé¢å¤–çš„å‚æ•°ï¼Œå¦‚ <code>.toLocaleString(locale_id, options)</code> é‡Œé¢ options å¯ä»¥ç»†åŒ–</p>
<p>å¦å¤–å°±æ˜¯å¥‡æ€ªçš„æ•°å­—å˜å½¢æ–¹æ³•ï¼š</p>
<pre><code>  new Number(1234567890).toLocaleString('zh-Hans-CN-u-nu-hanidec')
  "ä¸€,äºŒä¸‰å››,äº”å…­ä¸ƒ,å…«ä¹ã€‡"
  new Number(1234567890).toLocaleString('zh-Hans-CN-u-nu-fullwide')
  "ï¼‘,ï¼’ï¼“ï¼”,ï¼•ï¼–ï¼—,ï¼˜ï¼™ï¼"
  new Number(1234567890).toLocaleString('zh-Hans-CN-u-nu-mathbold')
  "ğŸ,ğŸğŸ‘ğŸ’,ğŸ“ğŸ”ğŸ•,ğŸ–ğŸ—ğŸ"
  new Number(1234567890).toLocaleString('zh-Hans-CN-u-nu-mathdbl')
  "ğŸ™,ğŸšğŸ›ğŸœ,ğŸğŸğŸŸ,ğŸ ğŸ¡ğŸ˜"
  new Number(1234567890).toLocaleString('zh-Hans-CN-u-nu-mathmono')
  "ğŸ·,ğŸ¸ğŸ¹ğŸº,ğŸ»ğŸ¼ğŸ½,ğŸ¾ğŸ¿ğŸ¶"
  new Number(1234567890).toLocaleString('zh-Hans-CN-u-nu-mathsanb')
  "ğŸ­,ğŸ®ğŸ¯ğŸ°,ğŸ±ğŸ²ğŸ³,ğŸ´ğŸµğŸ¬"
  new Number(1234567890).toLocaleString('zh-Hans-CN-u-nu-mathsans')
  "ğŸ£,ğŸ¤ğŸ¥ğŸ¦,ğŸ§ğŸ¨ğŸ©,ğŸªğŸ«ğŸ¢"
</code></pre>
<p>è¿˜æœ‰è·å–ç›¸å¯¹æ—¶é—´ï¼ˆXXåˆ†é’Ÿå‰ï¼‰ã€ç§‘å­¦è®°æ•°æ³•ã€è´§å¸ã€åœ°åŒºçš„åˆ«åç­‰å¥‡å¥‡æ€ªæ€ªçš„ä¸œè¥¿ã€‚</p>
<p>Intl æ˜¯ ECMAScript i18n APIï¼ˆ<a href="https://www.ecma-international.org/ecma-402/1.0/">ECMA-402</a>ï¼‰çš„ä¸€éƒ¨åˆ†ã€‚åœ¨ES5.1+è¯­è¨€çš„è¿è¡Œæ—¶åµŒå…¥äº†ä¸€ä¸ªé˜‰å‰²ç‰ˆçš„ ICU åº“ã€‚ä¸ºä»€ä¹ˆæ˜¯é˜‰å‰²ç‰ˆå‘¢ï¼Ÿæ¯”å¦‚ ICU åº“æ˜¯ Unicode CLDR è§„èŒƒçš„ä¸€ç§å®ç°ï¼Œæ¯”å¦‚ <a href="https://github.com/unicode-org/icu/blob/master/icu4c/source/data/locales/zh.txt">zh</a>é‡Œå¯ä»¥å‘ç°ä¸ä»…å¯ä»¥ç›´æ¥æŸ¥åˆ°å¹´ï¼ˆæšä¸¾60éï¼ï¼‰ï¼Œè¿˜å¯ä»¥æŸ¥åˆ°ç”Ÿè‚–ï¼ˆjs é‡Œ <code>{year: "zodiacs"}</code>å°±ä¸è¡Œï¼‰ï¼Œç”šè‡³èŠ‚æ°”(solarTerms)éƒ½åŒ…å«äº†ï¼js é‡Œçš„ <code>year</code> é˜‰å‰²å¾—åªæœ‰ä¸¤ç§ï¼š<code>numeric</code> å’Œ <code>2-digit</code>ã€‚å¯ä»¥çœ‹ <a href="https://github.com/v8/v8/blob/4b9b23521e6fd42373ebbcb20ebe03bf445494f9/src/objects/js-date-time-format.cc#L57">v8 æºç é‡Œçš„BuildPatternItems</a> æ€ä¹ˆå®ç°çš„ã€‚</p>
<p>å€¼å¾—æ³¨æ„çš„æ˜¯ï¼ŒICU å±…ç„¶æ”¶å½•äº†æ—¥æœ¬å¤©çš‡ä»å¤§åŒ– (645â€“650) å¼€å§‹åˆ°ç°åœ¨ ä»¤å’Œ å¹´å·ã€‚ä¸å…¬å¹³å•Šã€‚æˆ‘å¤§ä¸­ååº”è¯¥ä»è¥¿å‘¨çš„å…±å’Œå…ƒå¹´ï¼Œå…¬å…ƒå‰841å¹´å¼€å§‹æŠŠå¹´å·éƒ½ç»™è¡¥ä¸Šå•Šæ··è›‹ï¼</p>
<p>è¿˜æœ‰å°±æ˜¯è´§å¸å¤§å†™ é›¶å£¹è´°åè‚†ä¼é™†æŸ’æŒç–æ‹¾ è°å»ç»™ ICU æ issue åŠ ä¸Šå•Šã€‚</p></p>
            <div class="card-subtext muted-text">
              <p>Posted <time datetime="2020-09-10T22:39:01+08:00">2020-09-10</time></p>
<p>stdout</p>            </div>
          </article>
        </div>


        <!-- new article -->
        <div class="card blog-card">
          <article class="card-body">
            <a href="/202007/stdout-007"  rel="bookmark" >
              <h2 class="card-title">China's AI Dominance Does Not Depend On Math</h2>
            </a>
            <p class="card-text"><p>There was a not-so-interesting article on reddit that says <a href="https://www.reddit.com/r/technology/comments/hlttg0/why_chinas_race_for_ai_dominance_depends_on_math/">China's Race For AI Dominance Depends On Math</a></p>
<p>The arguments looks flawed in several ways.</p>
<p>First of all, yes Chinese students <em>do</em> performs well in math, but only in one narrow specific branch of math: alrithmetics. Once they graduate into college, most Chinese suck at Advanced Math (é«˜æ•°), as described in this story</p>
<blockquote>
<p>å¾ˆä¹…å¾ˆä¹…ä»¥å‰ï¼Œåœ¨æ‹‰æ ¼æœ—æ—¥ï¼ˆLagrangeï¼‰ç…§è€€ä¸‹ï¼Œæœ‰å‡ åº§åŸï¼šåˆ†åˆ«æ˜¯å¸¸å¾®åˆ†æ–¹åŸï¼ˆç¨‹ï¼‰å’Œåå¾®åˆ†æ–¹åŸï¼ˆç¨‹ï¼‰è¿™ä¸¤åº§å…„å¼ŸåŸï¼Œè¿˜æœ‰æ•°ç†æ–¹åŸï¼ˆç¨‹ï¼‰ã€éšæœºè¿‡åŸï¼ˆç¨‹ï¼‰ã€‚ä»è¿™å‡ åº§åŸé‡Œæµå‡ºäº†å‡ æ¡æºªï¼Œæ¯”è¾ƒè‘—åçš„æœ‰ï¼šæŸ¯æºªï¼ˆCauchyï¼‰ã€æ•°å­¦åˆ†æºªã€æ³›å‡½åˆ†æºªã€å›å½’åˆ†æºªã€æ—¶åºåˆ†æºªç­‰ã€‚å…¶ä¸­æŸå‡ æ¡æºªå’Œæ”¯æµæ±‡èšåœ¨ä¸€èµ·ï¼Œå½¢æˆäº†è§£æå‡ æ²³ã€å¾®åˆ†å‡ æ²³ã€é»æ›¼å‡ æ²³ä¸‰æ¡å¤§æ²³ã€‚<br />
æ²³å²¸è¾¹é•¿äº†ä¸€ç§æ ‘ï¼Œå« é«˜æ•°ï¼Œä¸Šé¢æŒ‚äº†å¾ˆå¤šäººã€‚</p>
</blockquote>
<p>Secondly, even the most advanced AI requires, astonishingly, rudimentary Math, the most Math-y part of AI are Statistics, Probability and Linear Algebra, e.g. matrics. You don't need a Math PhD to grind some ML or DL stuff.</p>
<p>Next for AI in real life, a really big part is the domain insight plus the engineering skills, how something works in theory is one thing and how to scale a model to millions of users and create profits for business is totally different, and way more challenging for many AI scientists.</p>
<p>Lastly, in my opinion, the secret of China's AI dominance relies on data.</p>
<p>One of the Chinese auto-driving startups, <a href="https://m.weibo.cn/detail/4506638298630934">WeRide, published a 2019 research</a>, they compared the hundres of driving data between Sillicon Valley and Guangzhou, in which they found:</p>
<ol>
<li>For every mile, there was a similar number of vehicles in both places, but 4x to 5x times the pedestrians and bikes.</li>
<li>Line cutting and lane switching is 5 times more often in Guangzhou</li>
<li>There was 60x occurances of bikes riding in the wrong direction each mile.</li>
</ol>
<p><img alt="" src="/images/2020/stdout-007-1.jpg" /></p>
<p>The massive, unregulated, aggregated, labled-by-hand and privacy invasive data is the coal to this AI revolution, mathematics is just the STEAM engine. (pun intended)</p></p>
            <div class="card-subtext muted-text">
              <p>Posted <time datetime="2020-07-06T17:01:55+08:00">2020-07-06</time></p>
<p>stdout</p>            </div>
          </article>
        </div>


        <!-- new article -->
        <div class="card blog-card">
          <article class="card-body">
            <a href="/202003/stdout-004"  rel="bookmark" >
              <h2 class="card-title">Covid-19 ä¸€äº›åŸºæœ¬å¸¸è¯†</h2>
            </a>
            <p class="card-text"><ol>
<li>æ£€æµ‹ Covid-19 æœ‰å‡ ç§æ‰‹æ®µï¼š</li>
</ol>
<ul>
<li>ç—‡çŠ¶ã€‚æ¯”å¦‚å‘çƒ§ï¼Œå‘¼å¸å›°éš¾ï¼Œè¡€æ°§æµ“åº¦ä½</li>
<li>å½±åƒã€‚æ¯”å¦‚èƒ¸éƒ¨ CT</li>
<li>æŠ—ä½“ã€‚IgG/IgMã€‚è€—æ—¶çŸ­ã€‚æ¯”å¦‚15åˆ†é’Ÿã€‚ä½†æ˜¯æ­£ç¡®ç‡ 75% </li>
<li>æ ¸é…¸ã€‚ç”¨ PCR ã€‚è€—æ—¶é•¿ï¼Œéœ€è¦ BSL é«˜ç­‰çº§ç”Ÿç‰©å®éªŒå®¤ã€‚æ­£ç¡®ç‡ &gt;90%</li>
</ul>
<p>å…¶ä¸­æŠ—ä½“æ£€æµ‹ä¸»è¦æ˜¯ç”¨æ¥åŒºåˆ†ä½ å¾—çš„æ˜¯æ™®é€šæµæ„Ÿè¿˜æ˜¯ Covid-19ã€‚å¹¶ä¸èƒ½ç›´æ¥æ£€æµ‹å‡º SARS-CoV-2ã€‚</p>
<p>è€Œä¸”ï¼š</p>
<ul>
<li>æ£€æµ‹å‡ºæŠ—ä½“ï¼Œï¼ˆå°æ¦‚ç‡ï¼‰ä¸ä¸€å®šæ˜¯ SARS-CoV-2 å¯¼è‡´çš„ã€‚</li>
<li>æ²¡æ£€æµ‹å‡ºæŠ—ä½“ï¼Œä¹Ÿå¯èƒ½ä»£è¡¨ä½ <br />
    - å…ç–«ç³»ç»Ÿè¿˜æ²¡ååº”è¿‡æ¥ã€‚ç—…æ¯’è¿˜åœ¨æ‚„æ‚„æ„ŸæŸ“ã€‚<br />
    - å…ç–«çƒè›‹ç™½ IgG/IgM å·²ç»ä¸é¡¶ç”¨äº†ã€‚å…ç–«ç³»ç»Ÿè¢«æ‘§æ¯äº†ï¼Œæˆ–è€…è¦å¼€å§‹ç»†èƒå› å­é£æš´äº†ã€‚<br />
    - ä¹Ÿå¯èƒ½ä»£è¡¨ä½ çš„é¼»è…” swab æ²¡æŒ–å¯¹ã€‚<br />
    - æ‹­å­æŒ–å¯¹äº†ä½†æ˜¯æœªè¾¾åˆ°èƒ½æ˜¾è‰²çš„å‰‚é‡ã€‚<br />
    - ä¹Ÿå¯èƒ½ä»£è¡¨ç—…æ¯’å·²ç»ä»ä¸Šå‘¼å¸é“è½¬ç§»åˆ°è‚ºéƒ¨ã€æ¶ˆåŒ–ç³»ç»Ÿï¼Œç”šè‡³è‚›é—¨äº†</li>
<li>æ£€æµ‹å‡ºæ ¸é…¸ï¼š<br />
    - 90%è‚¯èƒ½æ€§ SARS-CoV-2 ç—…æ¯’ RNA å­˜åœ¨ã€‚ä½†æ˜¯ <br />
    - å­˜åœ¨ä¸ä»£è¡¨ç—…æ¯’ä¸€å®šå­˜æ´»<br />
    - å³ä½¿ç—…æ¯’å°‘é‡å­˜æ´»ï¼Œä¹Ÿä¸ä»£è¡¨ä¸€å®šæœ‰ä¼ æŸ“æ€§</li>
</ul>
<p>æ ¹æ®è¿™å‡ ç‚¹ï¼Œå°±ä¼šæ˜ç™½ä¸ºå•¥æœ‰çš„åª’ä½“è¯´ä¸­å›½15åˆ†é’Ÿå¿«é€Ÿè¯•å‰‚ç›’ã€Œ<a href="https://twitter.com/wangzhian8848/status/1243748120757862400">80%æµ‹ä¸å‡†</a>ã€ã€‚ä¸ºå•¥å‡ºé™¢æ ‡å‡†å¿…é¡»æ˜¯æ ¸é…¸æ£€æµ‹ï¼Œé—´éš”24å°æ—¶ä¸¤æ¬¡ã€‚</p>
<ol start="2">
<li>å£ç½©</li>
</ol>
<ul>
<li>å£ç½©çš„ç†”å–·å±‚é˜»æŒ¡å¾®ç²’ä¸æ˜¯é€šè¿‡å­”å¾„å¤§å°ï¼Œè€Œæ˜¯é€šè¿‡é™ç”µå¸é™„ã€‚</li>
<li>n95 è¿‡æ»¤æ•ˆæœä¹Ÿæ˜¯æœ‰æœ€å·®è¡¨ç°åŒºé—´çš„ï¼š<br />
<img alt="Collection Efficiency Curve" src="https://upload.wikimedia.org/wikipedia/commons/5/56/Filteration_Collection_Mechanisms.png" /></li>
<li>n95 è¯„çº§çš„æ ‡å‡†æ˜¯é€šè¿‡ 300nm å¤§å°çš„é¢—ç²’ï¼Œçš„ç¡®æ— æ³•ç›´æ¥æŒ¡ä½ 60nm-140nm çš„å† çŠ¶ç—…æ¯’ (SARS-CoV-2)ã€‚ä½†æ˜¯ç—…æ¯’ä¸æ˜¯ç›´æ¥æ¼‚æµ®åœ¨ç©ºæ°”ä¸­ï¼Œè€Œæ˜¯é€šè¿‡å°æ°´ç ã€æ°”æº¶èƒ¶ä¹‹ç±»çš„æ›´å¤§çš„é¢—ç²’ä¾é™„ä¼ æ’­çš„ã€‚</li>
<li>å³ä¾¿ 95% çš„æ•ˆç‡ä¸èƒ½å®Œå…¨è¿‡æ»¤æ‰ç—…æ¯’ï¼Œä½†æ˜¯ç—…æ¯’æ•°é‡å¤šå°‘å¯¹äºäººä½“å…ç–«ç³»ç»Ÿä¹Ÿå¾ˆå…³é”®ã€‚å°‘é‡çš„ç—…æ¯’å¯èƒ½åªä¼šå¸¦æ¥è½»å¾®ç—‡çŠ¶ã€‚</li>
<li>æœ‰äººè¯´å£ç½©å¹¶ä¸èƒ½æŒ¡ä½ç—…æ¯’ï¼Œè€Œä¸”ä½©æˆ´ä¸æ­£ç¡®æ²¡ç”¨ã€‚å¦‚æœå£ç½©ä¸èƒ½æ¡£ç—…æ¯’é‚£ä¹ˆåŒ»æŠ¤äººå‘˜æˆ´è¿™ä¸ªå¹²å˜›ï¼Ÿåˆæ¬¡æˆ´ä¸æ­£ç¡®ä½ å¤šå­¦å¤šç»ƒå•Šã€‚</li>
<li>æ„Ÿè§‰ä¸€ä¸ªåœ°åŒºçš„åŒ»ç–—ä½“ç³»è¢«ç—…äºº DDoS è·¨ï¼Œå’Œä¸€ä¸ªèº«ä½“å…ç–«ç³»ç»Ÿè¢«å¤§é‡ç—…æ¯’ DDoS è·¨æ˜¯åŒä¸€ä¸ªé“ç†ã€‚</li>
</ul>
<ol start="3">
<li>ç–¾æ§</li>
</ol>
<ul>
<li>è‚ºç‚åˆ†ä¸ºåŒ»é™¢ä¼ æ’­(HAT)å’Œç¤¾åŒºä¼ æ’­(CAT)ã€‚</li>
<li>å¾ˆå¤šæŠ¥å‘Šè¯æ˜è¿™æ¬¡ Covid-19 è‚ºç‚è‡³å°‘æœ‰æœ‰ 40% çš„ç¡®è¯Šç—…ä¾‹æ˜¯åŒ»é™¢ä¼ æ’­çš„ã€‚</li>
<li>æ ¹æ®è¿™ä¸ªæ•°å­—ï¼Œæ€è€ƒä¸€ä¸‹ä»€ä¹ˆæƒ…å†µä¸‹åœ¨å®¶éš”ç¦»ï¼Œä»€ä¹ˆæƒ…å†µä¸‹é›†ä¸­éš”ç¦»ï¼Œä»€ä¹ˆæƒ…å†µä¸‹å»åŒ»é™¢ã€‚</li>
<li>éšå½¢æºå¸¦è€…(asymptomatic) ä¸ä¸€å®šä¼šä¼ æŸ“åˆ«äººã€‚å¯èƒ½æºå¸¦çš„æ˜¯æ­»çš„ï¼Œæˆ–è€…å°‘é‡çš„ï¼Œæˆ–è€…ä¼ æŸ“æ€§å¾ˆå¼±çš„ç—…æ¯’ã€‚</li>
<li>æ—¢ç„¶æ²¡ç—‡çŠ¶ï¼Œéå¾—è®¡å…¥ç¡®è¯Šç—…ä¾‹æ•°ç›®ï¼Œå°±åªæ˜¯ä¸€ç§æ”¿æ²»æ­£ç¡®ã€‚åˆ«äººæ²¡ç—…ï¼Œè‡ªæˆ‘éš”ç¦»è§‚å¯Ÿä¸‹å°±å¥½</li>
</ul>
<ol start="4">
<li>æˆ‘çš„ä¸€äº›è®¤è¯†</li>
</ol>
<ul>
<li>æˆ‘è§‰å¾—ç—…æ¯’æˆ–è€…ç»†èŒæ˜¯å¦äººä¼ äººï¼Œä¸€ä¸ªé‡è¦æ ‡å¿—å°±æ˜¯æ˜¯å¦æ„ŸæŸ“å‘¼å¸ç³»ç»Ÿã€‚å› ä¸ºç—…æ¯’å’Œç»†èŒæœ¬èº«ä¸ä¼šè·‘è·¯ï¼Œå®ƒä»¬ä¸€å®šæ˜¯æœ‰è½½ä½“æ‰ä¼šä¼ æ’­ã€‚</li>
</ul>
<p>å£°æ˜ï¼šä¸Šé¢çš„ä¸œè¥¿ä¸æ˜¯åŒ»å­¦å»ºè®®ï¼Œæ•°å­—å’Œäº‹å®å¯èƒ½æœ‰å‡ºå…¥ã€‚è¯·è‡ªè¡Œé‰´åˆ«ã€‚</p></p>
            <div class="card-subtext muted-text">
              <p>Posted <time datetime="2020-03-26T17:34:30+08:00">2020-03-26</time></p>
<p>stdout</p>            </div>
          </article>
        </div>


        <!-- new article -->
        <div class="card blog-card">
          <article class="card-body">
            <a href="/202003/stdout-003"  rel="bookmark" >
              <h2 class="card-title">ä¸ºä»€ä¹ˆä¼šæœ‰æ•°å­¦å®¶åå¯¹å¯¹æ— ç©·é›†åˆä½¿ç”¨æ’ä¸­å¾‹ï¼Ÿ</h2>
            </a>
            <p class="card-text"><p>å› ä¸ºç°åœ¨ zhihu è¦ç»‘æ‰‹æœºæ‰èƒ½å›ç­”ï¼Œæ‰€ä»¥è¿˜æ˜¯å†™è‡ªå·± blog ä¸Šå§ã€‚</p>
<p>å¯¹ã€Œ<a href="https://www.zhihu.com/question/375363116">ä¸ºä»€ä¹ˆä¼šæœ‰æ•°å­¦å®¶åå¯¹å¯¹æ— ç©·é›†åˆä½¿ç”¨æ’ä¸­å¾‹</a> ã€è¿™ä¸ªé—®é¢˜ï¼Œæˆ‘æœ‰ä¸€ä¸ªèƒ¡æ€ä¹±æƒ³çš„å›ç­”ï¼š</p>
<p>æˆ¿é—´é‡Œçš„å°æ˜å¦‚æœä¸æ˜¯ç”·ç”Ÿï¼Œé‚£ä¹ˆä»–ä¸€å®šæ˜¯å¥³ç”Ÿã€‚</p>
<p>å…¶å®ä¹Ÿä¸ä¸€å®šã€‚å°æ˜æ˜¯ä¸ªç‰©å“ã€‚</p>
<p>æˆ‘è§‰å¾—äººç±»æ™ºæ…§çš„æœ€å¤§ç§˜å¯†å°±æ˜¯ å¦å®šã€‚å¦å®šä¸€å®šè¦å½“å¿ƒä½¿ç”¨ã€‚å¸¸è§çš„å¦å®šæ˜¯é™å®šåœ¨ã€ŒåŒç±»åˆ«ã€çš„äº‹ç‰©ä¸­ã€‚</p>
<p>ä½†æ˜¯ç”±äºè‡ªç„¶è¯­è¨€çš„ç»“æ„æ€§ç¼ºé™·ï¼Œä¸€äº›å¦å®šå°±æˆäº†è°¬è®ºã€‚</p>
<p>æ¯”å¦‚ï¼Œå¦‚æœä½ æ‰¹è¯„å›½å®¶æ”¿ç­–ï¼Œå°±æ˜¯ä¸çˆ±å›½ã€‚</p>
<p>å–œçˆ±çš„åé¢æ˜¯æ†æ¨ï¼Ÿå…¶å®å–œçˆ±çš„åé¢æ˜¯æ¼ ä¸å…³å¿ƒã€‚</p>
<blockquote>
<p>The opposite of love is not hate but apathyã€‚</p>
</blockquote>
<p>æ‰€è°“ those who are heartless, once cared too much</p></p>
            <div class="card-subtext muted-text">
              <p>Posted <time datetime="2020-03-04T23:17:50+08:00">2020-03-04</time></p>
<p>stdout</p>            </div>
          </article>
        </div>


        <!-- new article -->
        <div class="card blog-card">
          <article class="card-body">
            <a href="/202002/stdout-002"  rel="bookmark" >
              <h2 class="card-title">è¯­éŸ³ç¼–ç¨‹ è®¾æƒ³</h2>
            </a>
            <p class="card-text"><p>åœ¨ <a href="https://news.ycombinator.com/item?id=22404264">HNå¤´æ¡</a> ä¸Šçœ‹åˆ°æœ‰äººè¯´ç”¨è¯­éŸ³è¯†åˆ« å†™ä»£ç ã€‚</p>
<p>ç°åœ¨æ˜¯ç–«æƒ…åœ¨å®¶ä¸Šç­æœŸé—´ï¼Œæ„Ÿè§‰è¿˜æ˜¯å¯ä»¥è¯•è¯•ã€‚æ¯•ç«Ÿå…¬å…±åŠå…¬ç¯å¢ƒæè¿™ä¸ªä¸å¤ªç°å®ï¼Œæ€•æ‰“æ‰°åˆ«äººç”¨ TNT äº†ã€‚ä¹Ÿæ€•è‡ªå·±è¢«æ‰“æ‰°ã€‚23333</p>
<p>æƒ³èµ·äº† 13 å¹´å‰å°±æœ‰å¤§ç¥å°è¯•ç”¨ Vista è‡ªå¸¦çš„è¯­éŸ³è¯†åˆ«åœ¨ notepad å†™ perlã€‚ã€‚ã€‚</p>
<p><a href="https://www.youtube.com/watch?v=MzJ0CytAsec">https://www.youtube.com/watch?v=MzJ0CytAsec</a></p>
<p>ä¸è¿‡è¿™ç¯‡å¸–å­æƒ³è¯´çš„ä¸æ˜¯è¿™ä¸ª è¯­éŸ³ç¼–ç¨‹(voice assisted programming)ï¼Œæˆ‘æƒ³è¯´çš„æ˜¯ å¯ç¼–ç¨‹è¯­éŸ³ (programmable speech)</p>
<p>ç°åœ¨å¸‚é¢ä¸Šæœ‰å¾ˆå¤šã€Œæ™ºéšœéŸ³å“ã€æ¯”å¦‚ Alexaã€å°çˆ±ï¼Œæ‰‹æœºä¸Šéƒ½å¯ä»¥ç›´æ¥è¯´ ok boomerï¼Œä½†æ˜¯æˆ‘è®¾æƒ³çš„ å¯ç¼–ç¨‹éŸ³å“ çš„ä½¿ç”¨åœºæ™¯æ˜¯è¿™æ ·çš„ï¼š</p>
<ol>
<li>ç¦»çº¿wakup word +ã€€ç¦»çº¿è¯†åˆ«ã€‚æ•°æ®éšç§å€¼å¾—ä»˜è´¹</li>
<li>æ¯”å¦‚æˆ‘å¼€å§‹è®¡æ•°ï¼Œè®©éŸ³å“å¬åˆ°3çš„å€æ•°å‘éŸ³è¯´ Fizzï¼Œå¬åˆ°5çš„å€æ•°è¯´ Buzzï¼Œå¬åˆ°åŒæ—¶ä¸º3å’Œ5çš„å€æ•°è¯´ <a href="https://wiki.c2.com/?FizzBuzzTest">Fizzbuzz</a></li>
<li>æ¯”å¦‚è®©éŸ³å“å¬å¯¹è¯ï¼Œå½“æˆ‘ä»¬è°ˆè®ºæŸäº›è¯é¢˜çš„æ—¶å€™å‘å‡ºæé†’ã€‚è¿™å°±æ˜¯ç­‰åŒäºè®¡ç®—æœºç¼–ç¨‹è¯­è¨€é‡Œçš„ <code>if</code> å…³é”®å­—</li>
<li>æ¯”å¦‚æˆ‘å¯ä»¥å½•åˆ¶ä¸€é¦–å¤è¯—ï¼Œè®©éŸ³å“ç›‘å¬å­©å­èƒŒè¯µï¼ŒæŠŠèƒŒé”™çš„æ¼çš„å­—è¯åœ¨ä¸‹ä¸€è½®å¤è¿°ä¸­å¼ºè°ƒå‡ºæ¥ã€‚</li>
<li>å¯ä»¥åœ¨å®¶åº­èšä¼šé‡Œå……å½“ å‡ºè°œè¯­ çš„è§’è‰²ã€‚dungeon master çš„è§’è‰²ã€‚å¯ä»¥äººå·¥å½•å…¥ä¸€äº›æ¸¸æˆè§„åˆ™ã€‚</li>
<li>å®æ—¶å¬å”¤èƒŒæ™¯éŸ³ä¹ã€‚æ¯”å¦‚è¯´ã€Œæ¥æ®µé¼“ç‚¹ï¼Œæˆ‘è¦é—ªäº®ç™»åœºäº†ï¼ã€</li>
<li>å¯ä»¥å­˜å‚¨ä¸€äº›å…¨å±€list/mapå˜é‡ã€‚æ¯”å¦‚æˆ‘å®¶è€äºŒæ˜¯è°ï¼Ÿä»Šæ™šè°æœ€åä¸€ä¸ªç¡è§‰ï¼Ÿ</li>
<li>è¯­éŸ³å¤‡å¿˜ç°¿å’Œæ£€ç´¢å·¥å…·ã€‚å®‰å…¨çš„ç¦»çº¿å­˜å‚¨åœ¨æˆ‘çš„ NAS é‡Œ</li>
<li>æ•™å°å­©å¤–è¯­ã€‚ä½†æ˜¯è¿™ä¸ªå¯ä»¥ç”±å®¶é•¿å½•åˆ¶ã€å‡ºé¢˜ï¼Œå¹¶ä¸”å¯ä»¥åˆ†äº«</li>
<li>å¦‚æœè¯´å­—èŠ‚æ˜¯æ–‡æœ¬ç¼–ç¨‹çš„åŸºæœ¬å•ä½ï¼Œè¯­éŸ³ç¼–ç¨‹çš„è¯åº”è¯¥æ˜¯ phoneme ï¼Ÿç°åœ¨è‹¦äºå­©å­å­¦ä¹ å¤–è¯­æ²¡æ³•æš‚åœã€å¤è¯»ã€‚æŠŠå›°éš¾çš„åœ°æ–¹é‡éŸ³å‡ºæ¥ï¼Œæ”¾æ…¢é€Ÿåº¦åå¤å¬ã€‚</li>
<li>å¬ç”µè§†èŠ‚ç›®çš„ç‰‡å¤´æ›²ã€ç‰‡å°¾æ›²è®©çœ‹å®Œä¹‹åä¼‘æ¯çœ¼ç›ã€‚å®šæ—¶ä¼‘æ¯æ¯”è¾ƒæ­»æ¿å¯èƒ½çœ‹ä¸€åŠè¦æ±‚ä¼‘æ¯ï¼Œç°åœ¨éƒ½æ˜¯ç‚¹æ’­æ—¶ä»£ï¼ŒæŒ‰ é›† æŒæ§ä½œæ¯è§„å¾‹æ›´æœ‰æ„ä¹‰ã€‚</li>
<li>è¯­éŸ³ todolist ã€‚æ¯”å¦‚æé†’è€äººåƒè¯ã€‚è€äººå›ç­”ä¸€å¥ åƒå•¦ å°±ä¸å†åå¤æé†’äº†ã€‚</li>
<li>å®¶é‡Œä¸å‡†è¯´è„è¯ è®¡æ•°å™¨ã€‚è°è¯´äº†å¤šå°‘æ¬¡ã€‚éœ€è¦è¾¨åˆ«å‡ºè¯´è¯äººï¼Œå¤–åŠ ä¸€ä¸ªå¯ä»¥æŒä¹…åŒ–çš„è®¡æ•°å™¨ã€‚è„è¯å¯ä»¥ç”±å®¶é•¿(æˆ–admin)å®šä¹‰å¢åˆ </li>
</ol>
<p>æ€»ä¹‹ï¼Œç°åœ¨ã€ŒSmart speakerã€ æ„Ÿè§‰è¿˜åƒæœºå™¨ç æ—¶ä»£ï¼Œä¸€é—®ä¸€ç­”å¾ˆç¬¨ã€‚éœ€è¦ä¸€ä¸ªæ›´é«˜å±‚çš„ã€ŒCè¯­è¨€ã€ç”šè‡³å¯¹è¯ã€Œåº“ã€æ¥æ›´è‡ªç„¶çš„æ­é…äººä»¬çš„ç”Ÿæ´»ã€‚</p>
<p>å¾ˆæœŸå¾…å¸‚é¢ä¸Šæœ‰è¿™æ ·çš„ç¡¬ä»¶ or å¼€æºè½¯ä»¶å‡ºç°ï¼</p></p>
            <div class="card-subtext muted-text">
              <p>Posted <time datetime="2020-02-25T01:21:34+08:00">2020-02-25</time></p>
<p>stdout</p>            </div>
          </article>
        </div>


        <!-- new article -->
        <div class="card blog-card">
          <article class="card-body">
            <a href="/202002/stdout-001"  rel="bookmark" >
              <h2 class="card-title">å‡é€Ÿç»ç’ƒçš„åŸç†</h2>
            </a>
            <p class="card-text"><p>åŸæ¥<a href="https://www.zhihu.com/question/20084003/answer/490712357">å‘è¡¨åœ¨ zhihu</a>ï¼Œå¯æƒœä¸ç»‘æ‰‹æœºä¸è®©å‘å¸–äº†ã€‚å°±è‡ªå·±å†™ä¸ª blog å¤‡å¿˜ä¸€ä¸‹ã€‚</p>
<p>å‡é€Ÿç»ç’ƒè¿™ä¸ªéƒ½ä¼šä¼ è¯´ï¼Œä¹°è½¦å‰å¬è¯´è¿‡ï¼Œä¹°è½¦åä¹Ÿç™¾æ€ä¸å¾—å…¶è§£ã€‚ä»Šå¤©çªç„¶æƒ³æ˜ç™½äº†ã€‚</p>
<p>å‡é€Ÿç»ç’ƒé çš„ä¸æ˜¯ç»ç’ƒï¼Œè€Œæ˜¯é æŒ¡é£ç»ç’ƒå€¾æ–œè§’åº¦ã€ä¸­æ§å°é•¿åº¦ã€é©¾é©¶è€…åº§ä½ã€A æŸ±å®½åº¦å†³å®šçš„ã€‚</p>
<p>ç®€å•çš„è¯´ï¼Œå’Œ FOV æœ‰å…³ã€‚</p>
<p>äººå¯¹é€Ÿåº¦çš„æ„ŸçŸ¥ï¼Œå…¶å®ä¸æ˜¯è§†é‡ä¸­å¿ƒå†³å®šçš„ï¼Œè€Œæ˜¯è§†é‡å·¦å³è¾¹ç¼˜ä¸¤ä¾§ç‰©ä½“ç§»åŠ¨é€Ÿåº¦å†³å®šçš„ã€‚</p>
<p>25Â° FOV è§†é‡ï¼š</p>
<p><img alt="" src="/images/2020/stdout-001-1.jpg" /></p>
<p>45Â°è§†é‡</p>
<p><img alt="" src="/images/2020/stdout-001-2.jpg" /></p>
<p>90Â°è§†é‡</p>
<p><img alt="" src="/images/2020/stdout-001-3.jpg" /></p>
<p>ä¸åŒè§†é‡è§’åº¦çš„å¯¹æ¯”ï¼š</p>
<p><img alt="" src="/images/2020/stdout-001-4.jpg" /></p>
<p>æ‰€ä»¥å¸‚é¢ä¸Šä¸ºä»€ä¹ˆä½ ä»¬è§‰å¾—æ·è¾¾å°±æ²¡æœ‰å‡é€Ÿç»ç’ƒï¼Ÿå› ä¸ºæŒ¡é£ç»ç’ƒæ¯”è¾ƒå‚ç›´ï¼Œé©¾é©¶è€…å¾ˆå®¹æ˜“çœ‹åˆ°è½¦å¤´ï¼Œå¼€è½¦ä½ç½®è€ƒå‰ï¼Œåœ¨ A æŸ±èŒƒå›´å†…ï¼Œæ›´å®¹æ˜“çœ‹åˆ°æ›´å¼€é˜”çš„è·¯é¢ã€‚ç„¶åä½ çš„è§†è§‰æ„Ÿå—å°±æ˜¯è½¦é€Ÿå¾ˆå¿«</p>
<p>ä¸ºä»€ä¹ˆå¥½ä¸€ç‚¹çš„è½¦å­è§‰å¾—å®‰è£…äº†ã€Œå‡é€Ÿç»ç’ƒã€ï¼Ÿå› ä¸ºä¸­æ§å°åšï¼Œç»ç’ƒæ¯”è¾ƒå€¾æ–œï¼Œçœ‹ä¸åˆ°è½¦å¤´ï¼ŒA æŸ±ç²—ã€‚ä½ ä»¬çš„è§†é‡å—é™ï¼Œå°±è§‰å¾—è§†é‡ä¸¤ä¾§ç‰©ä½“è¿åŠ¨æ…¢ã€‚</p>
<p>è¿™å°±æ˜¯å…¶åŸç†ã€‚å…¶å®å¹¶ä¸æ˜¯ç»ç’ƒçš„åŠŸåŠ³ã€‚</p>
<p>ï¼ˆå½“ç„¶ï¼Œç»ç’ƒå¦‚æœæœ‰ä¸€å®šå¼¯æ›²ï¼Œé‚£ä¹ˆçš„ç¡®å¯èƒ½å¯¼è‡´ç»ç’ƒä¸¤è¾¹çš„ç‰©ä½“çœ‹èµ·æ¥ä¼šæ‰­æ›²å˜å½¢ã€‚æˆ–è®¸æ›´åŠ åŠ æ·±äº†é”™è§‰ï¼Ÿï¼‰</p>
<p>ä¸ºä»€ä¹ˆé«˜é€Ÿä¸Šä¸è§‰å¾—è½¦é€Ÿå¿«ï¼Ÿå› ä¸ºé«˜é€Ÿè·¯å®½å•Šï¼</p>
<p>é«˜é€Ÿå…¬è·¯å®½åº¦çš„æ ‡å‡†æ˜¯å¦‚ä½•è®¾å®šçš„?</p>
<p>é«˜é€Ÿå…¬è·¯è½¦é“éƒ½æ˜¯æŒ‰æœ€å®½çš„ 3.75ç±³æ¥å¼„ï¼Œç„¶åè¿˜æœ‰åº”æ€¥è½¦é“ã€‚ç»¿åŒ–å’Œè½¦é“éƒ½è‡³å°‘æœ‰50å…¬åˆ†çš„è·¯è‚©å®½åº¦ã€‚ä½ ä»è§†é‡ä¸Šçœ‹èµ·æ¥ï¼Œä¸¤ä¾§çš„ç‰©ä½“æ›´è¿œï¼Œç§»åŠ¨å¾—æ›´æ…¢ã€‚æ‰€ä»¥ä¸è§‰å¾—è½¦é€Ÿå¿«ã€‚</p>
<p>è€Œåˆ°äº†åŸå¸‚é“è·¯ï¼Œè·¯å°±çª„äº†ã€‚æŠ¤æ ç¦»ä½ é©¾é©¶ä¾§å¯èƒ½éå¸¸è¿‘ã€‚å‘¼å‘¼å‘¼çš„ä»ä½ çœ¼è¾¹åˆ·è¿‡å»ï¼Œä½ ä¼šè§‰å¾—è½¦é€Ÿéå¸¸å¿«ã€‚</p>
<p>è¿™å°±æ˜¯å…¶åŸç†å§ã€‚</p>
<p>ä¸‹é¢æ˜¯ä¸€ä¸ªæ—¥æœ¬æ•™æˆæ‹æ‘„çš„è§†é¢‘ã€‚å¾ˆå®¹æ˜“è¯´æ˜é—®é¢˜ã€‚</p>
<video src="/images/2020/stdout-001-5.mp4" controls preload="metadata"></video>

<p>TL:DR ä½ çš„è½¦å¤´å®½çª„å†³å®šäº†ä½ çš„æ„Ÿå®˜è½¦é€Ÿã€‚</p></p>
            <div class="card-subtext muted-text">
              <p>Posted <time datetime="2020-02-07T23:51:59+08:00">2020-02-07</time></p>
<p>stdout</p>            </div>
          </article>
        </div>


        <!-- new article -->
        <div class="card blog-card">
          <article class="card-body">
            <a href="/201910/stdout-006"  rel="bookmark" >
              <h2 class="card-title">ä¸€äº›é‡è¦é—®é¢˜çš„ç­”æ¡ˆ Important Why's</h2>
            </a>
            <p class="card-text"><p>å‘ç° blog è¶Šæ¥è¶Šå–œæ¬¢è®°å½•ä¸€äº›å“²å­¦é—®é¢˜ã€‚ã€‚ã€‚</p>
<p>è®°å½•ä¸€äº›é‡è¦é—®é¢˜çš„ç­”æ¡ˆï¼Œæœ‰äº›æ˜¯è‡ªå·±æƒ³å‡ºæ¥çš„ï¼Œæœ‰äº›æ˜¯ç½‘ä¸ŠæŠ„åˆ«äººçš„ï¼Œæœ‰äº›æ˜¯è¢«åˆ«äººå¯å‘è‡ªå·±è¡¥å……ä¸€äº›çš„ã€‚è¿™é‡Œé¢æœ‰äº›æ˜¯å¯¹çš„ï¼Œæœ‰äº›å¯èƒ½æ˜¯é”™çš„ã€‚æ¬¢è¿è¯»è€…åé¦ˆã€‚</p>
<p>Q: ä»€ä¹ˆæ˜¯å­˜åœ¨ What is Being (Dasein)?<br />
A: å­˜åœ¨çš„æœ€æ ¹æœ¬å±æ€§æ˜¯ç¨³å®šæ€§ã€‚<br />
    å¤å¸Œè…Šæœ‰ä¸ªæ‚–è®ºè¯´ä¸€è‰˜èˆ¹å« å¿’ä¿®æ–¯ï¼ˆship of Theseusï¼‰ï¼Œèˆ¹ä¸Šçš„æœ¨å¤´å› ä¸ºæŸåå’Œè…çƒ‚è¢«ä¸€å—ä¸€å—éšç€æ—¶é—´é€æ¸æ›¿æ¢ï¼Œå¦‚æœæœ‰ä¸€å¤©æ‰€æœ‰çš„æœ¨å¤´éƒ½ä¸æ˜¯å‡ºå‚çš„åŸè£…çš„æœ¨å¤´ï¼Œé‚£è¿™è‰˜èˆ¹è¿˜æ˜¯åŸæ¥çš„é‚£è‰˜èˆ¹å—ï¼Ÿ</p>
<pre><code>  æ‰€ä»¥è¿™é‡Œçš„å­˜åœ¨åˆ†ä¸¤ä¸ªå±‚é¢çš„ç¨³å®šã€‚ä»èˆ¹çš„ç”¨é€”æ¥è¯´ï¼Œå¿’ä¿®æ–¯å·å› ä¸ºè®¾è®¡æ²¡å˜ï¼Œç”¨é€”ä¸€è‡´ï¼Œæ‰€ä»¥å¿’ä¿®æ–¯å·ä¾ç„¶å­˜åœ¨ï¼›ä»å¿’ä¿®æ–¯åŸè£…ä»·å€¼æ¥è¯´ï¼Œå› ä¸ºæœ¨å¤´éƒ½è¢«æ¢è¿‡ä¸€è½®äº†ï¼Œæ‰€ä»¥è¿½æ±‚ã€ŒåŸæ±åŸå‘³ã€çš„ä»·å€¼å·²ç»ä¸å­˜åœ¨äº†ã€‚è¿™è‰˜èˆ¹è‡³å°‘è¿˜åœ¨ã€Œè®¾è®¡ç”¨é€”ã€è¿™ä¸ªå±‚é¢ä¿æŒäº†ç¨³å®šï¼Œæ‰€ä»¥è¿™è‰˜èˆ¹è¿˜æœ‰ä¸€å®šçš„å­˜åœ¨æ„ä¹‰ã€‚å¦‚æœè¿™è‰˜èˆ¹çš„æœ¨å¤´è¢«æ‹†ä¸‹æ¥çƒ§æ‰äº†ï¼Œç©ºæ°”ä¸­çš„ Co2 å’Œ åœ°ä¸Šä¸€å †ç°æ²¡æœ‰äººä¼šè®¤ä¸ºè¿™æ˜¯ä¸€è‰˜èˆ¹ã€‚

  å¦‚æœä¸€ä¸ªç‰©ä½“ä¸åœçš„å˜åŒ–ï¼Œå˜åŒ–å‘¨æœŸç”šè‡³å°äºæ™®æœ—å…‹æ—¶é—´é•¿åº¦ï¼Œé‚£ä¹ˆè¿™æ ·çš„ä¸œè¥¿å‹æ ¹æ— æ³•è§‚å¯Ÿï¼Œä¹Ÿæ— æ³•å½±å“æˆ‘ä»¬çš„ç”Ÿæ´»ï¼Œæ‰€ä»¥å°±ä¸å­˜åœ¨ã€‚
</code></pre>
<p>Q: ä»€ä¹ˆæ˜¯ç”Ÿå‘½ï¼Ÿ What is life?<br />
A: ç”Ÿå‘½åŒºåˆ†äºå…¶ä»–äº‹ç‰©ä¸èƒ½ç®€å•ç­‰åŒäºæœ‰æœºç‰©åŒºåˆ†ä¸æ— æœºç‰©ï¼Œç¢³åŸºç”šè‡³ç¡…åŸºä¹Ÿä¸ä¸€å®šã€‚ä½†æ˜¯ç”Ÿå‘½ä¼šæ™®éå¯¼è‡´ç†µå‡å°‘ã€‚</p>
<p>Q: äººå’ŒåŠ¨ç‰©æœ‰ä»€ä¹ˆåŒºåˆ«?<br />
A: <a href="https://blog.est.im/202010/stdout-010">æ–°å†™äº†ä¸ªblog</a>ä¸“é—¨è¯´è¿™ä¸ª</p>
<p>Q: ç†µæ˜¯ä»€ä¹ˆ<br />
A: ç†µæ˜¯ä¸€ä¸ªä¸»è§‚æ¦‚å¿µã€‚</p>
<p>Q: ç”Ÿå‘½çš„æ„ä¹‰æ˜¯ä»€ä¹ˆï¼Ÿ What is the meaning of life?<br />
A: ä»ç”Ÿç‰©å­¦çš„è§’åº¦æ¥è¯´ï¼Œç”Ÿå‘½çš„å”¯ä¸€ç›®æ˜¯è‡ªæˆ‘å¤åˆ¶ã€‚ç¹è¡æ˜¯ç”Ÿå‘½çš„æœ¬èƒ½ã€‚å½“ç„¶äººç±»è¿™ç§é«˜ç­‰ç”Ÿç‰©ï¼Œè¿˜ä¼šè¿½æ±‚å½±å“ä»–äººï¼Œè‘—ä¹¦ç«‹è¨€è¿™ç§ç²¾ç¥å¤åˆ¶</p>
<p>Q: ç‰©ç†å­¦é‡Œä¸ºå•¥é‚£ä¹ˆå¤šå¯¹ç§°æ€§ï¼Ÿ Why symmetry?<br />
A: è¯†åˆ«ç›¸ä¼¼ æ˜¯è®¤çŸ¥ä¸–ç•Œæœ€åŸºç¡€çš„æ–¹æ³•å’Œæ‰‹æ®µã€‚å¦‚æœæ²¡æ³•è¯†åˆ« å¯¹ç§° å’Œ ç›¸ä¼¼ï¼Œé‚£ä¹ˆæ¨¡å¼åªèƒ½è¢«ç©·ä¸¾ã€‚å¯¹ç§°æ˜¯å¯¹åŠæŠ˜å è®¤çŸ¥ç©ºé—´æœ€æœ‰æ•ˆçš„åŠæ³•ã€‚</p>
<p>Q: è®¡ç®—æœºç§‘å­¦é‡Œä¸ºå•¥å­¦é‚£ä¹ˆå¤šç§æ’åºç®—æ³•ï¼Ÿæ’åºæœ‰å•¥å¥½ç©çš„ï¼Ÿ Why learning sorting in CS?<br />
A: äººå·¥æ§åˆ¶çš„ç†µå‡å°‘æ˜¯æ™ºæ…§çš„è¡¨ç°</p>
<p>Q: ä¸ºä»€ä¹ˆç®—æ³•é‡Œé‚£ä¹ˆè®²ç©¶è¿­ä»£å’Œé€’å½’ï¼ŸWhy iteration and recursion?<br />
A: ç”¨å¯¹ç§°çš„æ‰‹æ®µå»è®¤è¯†ä¸–ç•Œã€‚</p>
<p>Q: é€’å½’ã€å¯¹ç§°è¿™äº›æœ‰ä»€ä¹ˆå…±åŒç‚¹<br />
A: å®‡å®™çš„è‡ªæˆ‘ç›¸ä¼¼æ€§ã€‚æ‰€è°“ å…¨æ¯æ€§ æˆ–è€… åˆ†å½¢ã€‚</p>
<p>Q: ä¸ºä»€ä¹ˆé—å¿˜é‚£ä¹ˆç—›è‹¦ï¼Ÿ Why forgetting is painful?<br />
A: å› ä¸ºéº¦å…‹æ–¯éŸ¦ä¹‹å¦–éœ€è¦åœ¨ é—å¿˜ çš„æ—¶å€™åšåŠŸã€‚å†™å…¥æ”¾å¤§ã€‚23333 </p>
<p>Q: å”¯ç‰©ä¸»ä¹‰æœ‰ä»€ä¹ˆé—®é¢˜ï¼Ÿ Why not Materialism?<br />
A: æœ‰ä¸€äº›ä¸œè¥¿ï¼Œä»–ä»¬æ˜¯éç‰©è´¨åœ¨çš„å­˜åœ¨(<a href="https://plato.stanford.edu/entries/nothingness/">nothingness</a>)ã€‚<br />
    æ¯”å¦‚ æ´ï¼Œå½±å­ï¼Œç¼éš™ã€‚å¯ä»¥æŠŠè¿™äº›ä¸œè¥¿ç†è§£ä¸º è´Ÿå­˜åœ¨ã€‚æ¯”å¦‚æ´å¡«æ»¡äº†å°±æ²¡æœ‰æ´äº†ï¼Œå½±å­å»æ‰é®æŒ¡å°±æ²¡å½±å­äº†ï¼Œç¼éš™åˆä¸Šå°±æ²¡æœ‰ç¼éš™äº†ã€‚<br />
    ä½†æ˜¯è¿™ç§ ã€Œè´Ÿå­˜åœ¨ã€ å…·å¤‡å‡ ä¹ä¸€åˆ‡å®ä½“ç‰©è´¨çš„å±æ€§ï¼Œæ¯”å¦‚å¤§å° å°ºå¯¸ é¢œè‰² æ–¹å‘ é¢œè‰² ç­‰ç­‰ï¼Œè€Œä¸”éå¸¸é‡è¦ã€‚åŸå§‹äººæ‰¾ä¸åˆ° æ´ ä½œä¸ºæ –æ¯åœ°å¯èƒ½ä¹Ÿå°±æ²¡æœ‰äººç±»äº†ã€‚</p>
<p>Q: ä»€ä¹ˆæ˜¯æ„è¯†ï¼ŸWhat is consciousness?<br />
A: å¦‚æœæŠŠäººç±»è¿™ç§ç”Ÿç‰©çœ‹æˆä¸€ç±»è‚‰ä½“(class)ï¼Œé‚£ä¹ˆæ„è¯†å°±æ˜¯æ¯ä¸ªä¸ªä½“(instance)çš„ this æŒ‡é’ˆã€‚å­¦è¿‡ OOP é¢å‘å¯¹è±¡ç¼–ç¨‹çš„å®¹æ˜“ç†è§£è¿™ä¸ªã€‚æ„è¯†æ˜¯å¦å­˜ç‰©ç†åœ¨å‘¢ï¼Ÿå½“ç„¶ã€‚this æŒ‡é’ˆéœ€è¦å æ®å†…å­˜ç©ºé—´ã€‚æ„è¯†å¯å¦è¿ç§»å‘¢ï¼Ÿæ„è¯†æˆ–è®¸å¯ä»¥è¢«æŒä¹…åŒ–(serialization)ï¼Œä½†æ˜¯åš migration å¹¶ä¸å®¹æ˜“ã€‚æ„è¯†ä¹Ÿæ— æ³•åˆå¹¶ã€‚åªèƒ½ç›¸äº’ä¼ å€¼(pass by value)</p>
<p>Q: ä¸ºä»€ä¹ˆä¸è®²å“²å­¦ä¸‰å¤§é—®ï¼Ÿ<br />
A: æˆ‘åˆä¸æ˜¯ä¿å®‰ã€‚ã€‚ã€‚ã€‚å“²å­¦ä¸‰å¤§é—®é¢˜æ˜¯ï¼šç»ˆæå­˜åœ¨æ˜¯ä»€ä¹ˆï¼Œç»ˆæè§£é‡Šæ˜¯ä»€ä¹ˆï¼Œç»ˆæä»·å€¼æ˜¯ä»€ä¹ˆï¼›ç®€è€Œè¨€ä¹‹å°±æ˜¯ çœŸ ç¾ å–„ æ˜¯ä»€ä¹ˆï¼Œå¯¹åº”å“²å­¦çš„æ–¹å‘ï¼šæœ¬ä½“è®ºã€è®¤è¯†è®ºã€ä»·å€¼è®ºã€‚</p>
<p>åè®°ï¼š</p>
<p>æˆ‘ä»å­¦æ ¡æ—¶ä»£çš„ä¸€ä¸ªå”¯ç‰©ä¸»ä¹‰è€…ï¼Œå˜å¾—æ›´åŠ å€¾å‘ ç»“æ„ä¸»ä¹‰ã€‚ é‚£äº›è‡ªç„¶å…ƒç´ ä¹‹é—´çš„ç§ç§ç¥å¥‡åŒ–å­¦ååº”ï¼Œæ²¡æƒ³åˆ°æœ‰æœºç‰©ç”šè‡³åªè¦ C H O å°±èƒ½ç©å‡ºæ¥é‚£ä¹ˆå¤šèŠ±æ ·ã€‚ææ–™é‡Œé¢æœ‰æ‹“æ‰‘ç»ç¼˜ä½“å’Œæ‹“æ‰‘è¶…å¯¼ä½“è¿™ç§å› ä¸ºç»“æ„ä¸åŒæ€§è´¨å°±å‘ç”Ÿå¤§å˜åŒ–çš„ä¸œè¥¿ã€‚å½“ç„¶æˆ‘ä¸æ˜¯ç”ŸåŒ–ç¯æä¸“ä¸šçš„ï¼Œåªæ˜¯å¤–è¡Œæ¯”è¾ƒå¥½å¥‡(facinating!)</p></p>
            <div class="card-subtext muted-text">
              <p>Posted <time datetime="2019-10-04T18:16:00+08:00">2019-10-04</time></p>
<p>stdout</p>            </div>
          </article>
        </div>


        <!-- new article -->
        <div class="card blog-card">
          <article class="card-body">
            <a href="/201908/stdout-005"  rel="bookmark" >
              <h2 class="card-title">Fix Paladins stuck at Completing Login</h2>
            </a>
            <p class="card-text"><p><a href="https://store.steampowered.com/app/444090/Paladins/">Paladins</a> is one of the F2P games on Steam. It's called æªç«æ¸¸ä¾  in Chinese market with Tencent as its Partner operator.</p>
<p>To play it on Steam:</p>
<ol>
<li>Add any game to cart</li>
<li>Modify region to US on the checkout page</li>
<li>Type the following script into browser's DevTool<br />
<code>jQuery.post('//store.steampowered.com/checkout/addfreelicense', {
        action: 'add_to_cart',
        sessionid: g_sessionID,
        subid:94404})</code></li>
<li>Go to <a href="https://store.steampowered.com/account/licenses/">https://store.steampowered.com/account/licenses/</a> and see if Paladins were added to your account</li>
<li>To install the game, run <code>steam://install/444090</code> in Win+R</li>
</ol>
<p>However it appears to be stuck on "Completing Login" screen from time to time.</p>
<p>To fix it, run <code>cmd</code> with Administrator provilege type these commands:</p>
<pre><code>  ipconfig /flushdns
  netsh winsock reset category
  netsh int ip reset reset.log
</code></pre>
<p>Then go to <code>Steam\steamapps\common\Paladins\Binaries\EasyAntiCheat</code>, run <code>EasyAntiCheat_Setup.exe</code> as Administrator and repair Paladins.</p>
<p>And restart the PC. </p>
<p>Now try play again. 80% of the case the issue will go away.</p>
<p>If it still doesn't work, and you are still stuck at the "Completing Login", try hit the "Settings" button during login, then hit Esc to close the settings window, the login screen will display a message saying "Player is offline", and a "Reconnect" button magically appears. Now hit the button exactly once! I captured the in/out packets to TCP port 9000 and found that you after you click the "Reconnect" button, the Paladins client will retry negociating login process. Don't hit it too many times. </p>
<p>Once you see "Loading Vendors" you are 99% through this, just be patient and you will load to main menus.</p>
<p>Hope this helps.</p></p>
            <div class="card-subtext muted-text">
              <p>Posted <time datetime="2019-08-21T20:43:54+08:00">2019-08-21</time></p>
<p>stdout</p>            </div>
          </article>
        </div>


        <!-- new article -->
        <div class="card blog-card">
          <article class="card-body">
            <a href="/201907/stdout-004"  rel="bookmark" >
              <h2 class="card-title">å…¬å¸æ–‡åŒ–çš„ä¸‰ç§ç±»å‹</h2>
            </a>
            <p class="card-text"><p>æœ€è¿‘æ’­éŸ³737ä¸¤æ¬¡ç©ºéš¾é—¹å¾—å…¨çƒæ²¸æ²¸æ‰¬æ‰¬ï¼Œä¸­å›½æ°‘èˆªå±€æ•¢ä¸ºå¤©ä¸‹å…ˆç›´æ¥åœé£ï¼ŒFAA æœ€åä¹Ÿåªèƒ½è·Ÿè¿›ç„¶åå…¨çƒåœé£ï¼Œé£æš´çš„ä¸­å¿ƒå°±æ˜¯æ³¢éŸ³å…¬å¸ã€‚çœ‹åˆ°ä¸€ç¯‡æŠ¥é“ï¼Œæ³¢éŸ³çš„ä¸€ä½å·¥ç¨‹å¸ˆã€èµ„æ·±å·¥ä¼šStan Sorscherï¼Œä¹Ÿæ˜¯ SPEEA çš„ä¸€ä½è¡Œä¸šä»£è¡¨ (the Society for Professional Engineering Employees in Aerospace)ï¼Œç”»äº†ä¸€å¼ æœ‰æ„æ€çš„å›¾ï¼š</p>
<p><img alt="" src="/images/2019/77d64a0b1331588db82efa7812b7c028.jpg" /></p>
<p>æ³¢éŸ³å…¬å¸æ˜¯ç”±å·¥ç¨‹å¸ˆåˆ›ç«‹çš„å…·æœ‰å·¥åŒ æ°”è´¨çš„å°–ç«¯ç§‘æŠ€å…¬å¸ã€‚è¿™é‡Œæ’ä¸€ä¸ªé¢˜å¤–è¯ï¼Œæ³¢éŸ³ä¹‹çˆ¶å…¶å®æ˜¯ä¸€ä¸ªä¸­å›½äºº <a href="https://en.wikipedia.org/wiki/Wong_Tsu">ç‹åŠ©(Wong Tsu)</a></p>
<p><img alt="" src="https://upload.wikimedia.org/wikipedia/commons/thumb/5/5c/Jianqiao-camco_Wangzhu.jpg/440px-Jianqiao-camco_Wangzhu.jpg" /></p>
<p>æ³¢éŸ³åœ¨90å¹´ä»£åˆï¼Œæ”¶åˆ°æ—¥æœ¬åˆ¶é€ çš„å†²å‡»ï¼Œæ‹¥æŠ±äº†ã€Œè´¨é‡ã€ä¸ºé‡çš„å›¢é˜Ÿæ–‡åŒ–æ¨¡å¼ï¼Œå¼ºè°ƒåŸºå±‚å‚ä¸ï¼Œæµç¨‹æ”¹è¿›å’Œæ•ˆç‡æå‡ã€‚ä½†æ˜¯90å¹´ä»£æœ«æœŸï¼Œæ³¢éŸ³å…¬å¸æ–‡åŒ–å†æ¬¡æ”¹å˜ï¼Œæ‹¥æŠ±ç æˆæœ¬å’Œç»™è‚¡ä¸œåˆ›é€ åˆ©æ¶¦ã€‚è¿™é‡Œçœ‹åˆ°787çœŸæ˜¯å“å¾—ä¸€èº«æ±—å•Šã€‚è¦çŸ¥é“ä½ åçš„æ¢¦æƒ³é£æœºæ¯ä¸€ä¸ªé›¶éƒ¨ä»¶éƒ½æ˜¯ç”±æœ€ä½ä»·ä¸­æ ‡å•†ä¾›åº”çš„ã€‚</p>
<p>ä¸ºäº†æ–¹ä¾¿ä½ ä»¬æŠ„è¢­è¿™ç¯‡åšå®¢æ–‡ç« ï¼Œæˆ‘ç¿»è¯‘æˆä¸­æ–‡äº†ã€‚è½¬è½½è¯·æŒ‰ç…§ä¼ ç»Ÿåšæˆjpegæˆªå›¾ï¼Œå°½é‡é€ æˆè¯»è€…å¤åˆ¶ä¸ä¾¿ã€‚</p>
<table>
<thead>
<tr>
<th></th>
<th>å·¥ç¨‹å¸ˆä¸ºå¯¼å‘</th>
<th>å›¢é˜Ÿä¸ºå¯¼å‘</th>
<th>ç æˆæœ¬ä¸ºå¯¼å‘</th>
</tr>
</thead>
<tbody>
<tr>
<td>å•†ä¸šç›®æ ‡</td>
<td>åˆ›æ–°ï¼Œæ€§èƒ½</td>
<td>äº§å‡ºï¼Œä¸Šæ‰‹æˆæœ¬</td>
<td>è´Ÿè´£äººå‘æŠ•èµ„è€…è´Ÿè´£</td>
</tr>
<tr>
<td>ä¸»è¦ä¼˜åŠ¿</td>
<td>é¡¶å±‚è®¾è®¡ï¼Œå¤§ç‰›å¸¦é˜Ÿ</td>
<td>è‡ªä¸‹è€Œä¸Šçš„è´¨é‡ä½“ç³»ï¼ŒåŸºå±‚å‚ä¸</td>
<td>ä¾›åº”é“¾</td>
</tr>
<tr>
<td>æ¼”è¿›æ‰‹æ®µ</td>
<td>å¤§ç‰›æŒ‡æŒ¥é¡¹ç›®</td>
<td>å›¢é˜Ÿç´§å¯†åä½œ</td>
<td>ç…§æœ¬å®£ç§‘å³å¯ï¼Œå¦‚æœæœªå®šä¹‰çš„æƒ…å†µå‘ç”Ÿå°±æ‡µé€¼</td>
</tr>
<tr>
<td>è·ç›Šè€…</td>
<td>é¡¾å®¢</td>
<td>é¡¾å®¢</td>
<td>è‚¡ä¸œ</td>
</tr>
<tr>
<td>èˆå°ä¸­å¿ƒ</td>
<td>å·¥ç¨‹å¸ˆ</td>
<td>åŠ³åŠ¨è€…</td>
<td>ç®¡ç†å±‚æ‰§è¡Œå±‚</td>
</tr>
<tr>
<td>æ–‡åŒ–äº§ç‰©</td>
<td>æ³¢éŸ³747ç³»åˆ—</td>
<td>æ³¢éŸ³777ç³»åˆ—</td>
<td>æ³¢éŸ³787ç³»åˆ—</td>
</tr>
<tr>
<td>ä¿¡ä»»å’Œåä½œç¨‹åº¦</td>
<td>ç‰¹åˆ«é«˜</td>
<td>æ¯”è¾ƒé«˜</td>
<td>å±±å¤´æ—ç«‹</td>
</tr>
<tr>
<td>å¤–åŒ…ç¨‹åº¦</td>
<td>å°‘</td>
<td>å¤š</td>
<td>å¤š</td>
</tr>
</tbody>
</table>
<p>çœ‹åˆ°è¿™ä¸ªï¼Œè®©æˆ‘æƒ³èµ·å›½å†…ä¸€ä¸ªå¾ˆæµè¡Œçš„åæ™ºè®ºæ–­ï¼šé‚£å°±æ˜¯ä»¥æŠ€æœ¯ä¸ºå¯¼å‘çš„å…¬å¸æ˜¯ä¸å­˜åœ¨çš„ã€‚æˆ‘åœ¨å·¥ä½œç”Ÿæ´»ä¸­ï¼Œè¿˜é‡åˆ°ä¸€äº›äº§å“ç»ç†æŠŠè¿™ä¸ªå‚»é€¼è®ºæ–­å‘æŒ¥åˆ°æè‡´ï¼Œé‚£å°±æ˜¯ æŠ€æœ¯å€ºæ˜¯æˆä¸ºå¤§å…¬å¸çš„å¿…è¿›ä¹‹è·¯ã€‚æ‰€ä»¥å€ºå¤šä¸æ„ã€‚é‚“å…¬çš„æ‘¸çŸ³å¤´è®ºå…‰è¾‰ç…§è€€ç€è¿™æ‰¹äººã€‚</p>
<p>ä½†æ˜¯æ— è®ºå¦‚ä½•ï¼Œæœ€é‡è¦çš„ä¸€ç‚¹ï¼Œè¿™ä¸‰è€…æ²¡æœ‰ç»å¯¹çš„å¥½åä¹‹åˆ†ï¼Œä¸Šé¢ä¸‰ä¸­æ–‡åŒ–ï¼Œæœ‰äº›é€‚åˆåˆ¶é€ å¤§è·¯è´§(commodity-like)å•†å“ï¼Œä½†å¯¹äºå°–ç«¯ç§‘æŠ€æ€§èƒ½ä¸ºå¯¼å‘æ¥è¯´ï¼Œæ¥è¯´å´æ˜¯ç³Ÿç³•çš„é€‰æ‹©ã€‚</p>
<p>é‚£ä¹ˆé—®é¢˜æ¥äº†ï¼šæ°‘èˆªé£æœºç©¶ç«Ÿæ˜¯å¤§è·¯è´§(commodity-like)ï¼Œè¿˜æ˜¯æ€§èƒ½è´§(performance-driven)å‘¢ï¼Ÿ</p>
<p>å¯¹äºèˆªç©ºå…¬å¸æ¥è¯´ï¼Œä»·æ ¼ã€äº¤ä»˜æ—¥æœŸã€åŸ¹è®­æˆæœ¬ã€é…ä»¶æ”¯å‡ºã€ä¿å…»æˆæœ¬æ‰æ˜¯ä»–ä»¬å…³å¿ƒçš„ã€‚æ°‘èˆªå·¥ä¸šæœ€åä¸€æ¬¡é©å‘½å‘ç”Ÿåœ¨ä¸Šä¸ªä¸–çºª50å¹´ä»£ï¼Œä¹Ÿå°±æ˜¯å–·æ°”å¼å¼•æ“çš„åº”ç”¨ã€‚ä¸“å®¶ä»¬è®ºæ–­ï¼Œè¿™ä»£è¡¨ç€æ°‘èˆªè¡Œä¸šå°±æ­¤æˆç†Ÿäº†ï¼Œå˜æˆcommodity-likeçš„å¤§è·¯è´§äº†ã€‚</p>
<p>ä½†æ˜¯æˆ‘ä»¬æŠŠè¿™ä¸ªé—®é¢˜æ¢ä¸ªé—®æ³•ï¼šè®¾è®¡ã€ç ”å‘ã€æµ‹è¯•ã€ç”Ÿäº§åˆ¶é€ é£æœºæ˜¯å¤§è·¯è´§ä¹ˆï¼Ÿæ˜¯ä¸æ˜¯è§‰å¾—è¿™ä¸ªé—®é¢˜å°±è¿¥å¼‚äº†ï¼Ÿ</p>
<p>åˆ¶é€ é£æœºçš„æˆè´¥ï¼Œå°±æ˜¯äº§å‡ºã€‚ç¬¬ä¸€æ¶ä¸‹çº¿çš„é£æœºè‚¯å®šæ˜¯äºæœ¬çš„ï¼Œåªèƒ½é å¤§é‡é“ºè´§æ‰èƒ½æ‘Šå¹³æˆæœ¬ã€‚æ‰€ä»¥åæœŸäº§èƒ½ä¸Šå»å¾—è¶Šå¿«è¶Šå¥½ï¼Œå–å¾—è¶Šå¤šè¶Šå¥½ã€‚å¦‚æœå•†ä¸šæ¨¡å¼æ˜¯é¢å‘æœ€ç»ˆç»“æœ(performance)çš„ï¼Œé‚£ä¹ˆå°±å¾—å¼ºè°ƒç”Ÿäº§æ•ˆç‡ï¼Œå‘˜å·¥å‚ä¸ï¼Œæµç¨‹æ”¹è¿›ï¼ŒèŠ‚çº¦æˆæœ¬ã€‚è¿™å°±æ˜¯90å¹´ä»£ä¸­æœŸæ—¥å¼æˆåŠŸçš„ç§˜è¯€</p>
<p>æ³¢éŸ³777ç³»åˆ—å°±æ˜¯è¿™ä¸€æ–‡åŒ–å¯¼å‘ä¸‹æœ€æˆåŠŸçš„äº§ç‰©ï¼Œå·ç§°ã€Œä¸Šæ‰‹æˆæœ¬æœ€ä½ã€ã€‚è¿™ä¸ªæ—¶å€™ä¸“å®¶å°±è·³å‡ºæ¥äº†ï¼Œä¸€æ–¹é¢è¡Œä¸šå·²ç»ç›¸å½“æˆç†Ÿäº†ï¼Œå¦ä¸€æ–¹é¢é£æœºå·²ç»æ˜¯ã€Œå¤§è·¯è´§ã€äº†ï¼Œæ‰€ä»¥æ‹¥æŠ±ç æˆæœ¬æ¨¡å¼å§ã€‚å­¦ä¹ æ²ƒå°”ç›ï¼Œå­¦ä¹  Amazonã€‚</p>
<p>è¿™ä¸€æ¨¡å¼å…·ä½“å¦‚ä½•è¿ä½œå‘¢ï¼Ÿæœ‰å¸‚åœºå†³å®šæƒçš„è´£ä»»äººï¼ˆstakeholderï¼Œåˆ©ç›Šç›¸å…³äººå£«ï¼‰ä¼šæœ€å¤§é™åº¦å‘ä¾›åº”é“¾å‹æ¦¨å‡ºåˆ©æ¶¦ï¼Œè€Œä¸”å¾€å¾€æ˜¯ä¸ºäº†çŸ­æœŸåˆ©ç›Šï¼ˆåˆ†çº¢ï¼Œå‡èŒï¼‰ã€‚ä¾›åº”é“¾å†…éƒ¨çš„ å­è´£ä»»äºº ä¹Ÿæ˜¯ä¸€æ ·çš„æ¨¡å¼ï¼Œä¸€ç¯å‹æ¦¨ä¸€ç¯ã€‚ç„¶ååŒè¡Œå€¾æ‰ï¼Œç«å“ä¹‹é—´ç›¸äº’æ‰“ä»·æ ¼æˆ˜ï¼Œåšå‡ºå¤§å®¶éƒ½æ´»ä¸ä¸‹å»çš„çº¢æµ·ã€‚åæ­£å°±ä¸€ä¸ªå­—ï¼šåšå†³ä¸è¦æ€‚(never say no)ã€‚å‘˜å·¥ä¸èƒ½è¯´åšä¸åˆ°ï¼Œä¾›åº”å•†ä¸èƒ½è¯´æ‹¿ä¸å‡ºï¼Œå¯¹éœ€æ±‚æ–¹ä¸èƒ½è¯´åŠä¸æˆï¼Œå¯¹åˆè§„æ–¹åšå†³è¦æƒ³åŠæ³•æ»¡è¶³ï¼</p>
<p>èŠ‚çœæˆæœ¬ä¸ºå¯¼å‘ï¼Œç­‰äºæ˜¯æ”¾å¼ƒäº†äº§å‡ºã€åˆ›æ–°ã€å®‰å…¨å’Œè´¨é‡ã€‚high-performance çš„å·¥ä½œæ–‡åŒ–å€¡å¯¼äº’ä¿¡ã€é…åˆã€è§£å†³é—®é¢˜ã€å…¬å¼€ä¿¡æ¯æµåŠ¨å’Œå¯¹æœ€ç»ˆäº§å‡ºçš„ä»˜å‡ºã€‚åœ¨è¿™æ ·çš„æ–‡åŒ–é‡Œï¼Œè´Ÿè´£äººå¿…é¡»ç‰ºç‰²çŸ­æœŸåˆ©ç›Šæ»¡è¶³é•¿è¿œéœ€è¦ã€‚</p>
<p>From <a href="https://www.seattletimes.com/opinion/what-will-it-be-boeing-great-airplanes-that-generate-cash-flow-or-great-cash-flow-period/">Seattle Times</a> via <a href="https://news.ycombinator.com/item?id=20365770">HN</a></p></p>
            <div class="card-subtext muted-text">
              <p>Posted <time datetime="2019-07-06T05:42:42+08:00">2019-07-06</time></p>
<p>stdout</p>            </div>
          </article>
        </div>


        <!-- new article -->
        <div class="card blog-card">
          <article class="card-body">
            <a href="/201906/stdout-003"  rel="bookmark" >
              <h2 class="card-title">Open Source projects Chinese companies and individuals contributed to</h2>
            </a>
            <p class="card-text"><p>Chinese companies have very little presence online and many people may believe that Chinese are reluctant to engage in open source projects.</p>
<p>Last year, <a href="https://twitter.com/mjasay/status/960563592683667456">@filmaj</a> used the GitHub REST API to pull public profile information from all 2,060,011 GitHub users who were active in 2017 (10+ commits to public projects) yields this ranking of the top-30 corporate open source contributors, the result is like </p>
<p><img alt="" src="/images/2019/DVSbEP1U0AA6E83.jpeg" /></p>
<p>So Alibaba ranked at #9 and Tencent ranked at #12. Not bad.</p>
<p>I also did some research, Reposted from <a href="https://news.ycombinator.com/item?id=20271898">my comment on Hacker News</a>, the following is the list of open source projects which has Chinese companies as active supportors.</p>
<ul>
<li><a href="https://www.fsf.org/patrons">Free software Foundation patrons</a></li>
<li><a href="https://www.linuxfoundation.org/membership/members/">Linux Foundation</a>. If you frequent Kernel lists you can find many Chinese contributors (from Redhat, Huawei, etc.)</li>
<li><a href="https://www.eclipse.org/membership/exploreMembership.php#allmembers">Eclipse Foundation</a></li>
<li><a href="https://www.apache.org/foundation/thanks">Apache Foundation</a>, and many Apache projects like <a href="https://blogs.apache.org/foundation/entry/the-apache-software-foundation-announces52">Apache Dubbo</a></li>
<li>OpenSSL <a href="https://www.openssl.org/support/acks.html">exceptional support</a>. Smartisian is a mobile phone vendor which donates their release event tickets to OpenSSL back when the HEARTBLEED security bug was a great threat.</li>
<li><a href="https://ceph.com/foundation/">Ceph Foundation</a></li>
<li><a href="https://www.opencontainers.org/about/members">OpenContainers Initiative</a></li>
<li><a href="https://www.cncf.io/about/members/">CNCF members</a></li>
<li><a href="https://www.openstack.org/foundation/companies/">OpenStack foundation</a></li>
<li><a href="https://xenproject.org/about-us/project-members/">Xen members</a></li>
<li><a href="https://riscv.org/membership/">RISC-V Foundation</a></li>
<li><a href="https://openpowerfoundation.org/membership/current-members/">OpenPOWER members</a></li>
</ul>
<p>Notable Open Source projects started by Chinese:</p>
<ul>
<li><a href="https://github.com/vuejs/vue">vuejs</a>, popular javascript framework comparable to ReactJS.</li>
<li><a href="https://github.com/openresty/openresty">OpenResty</a>, full-fledged scriptable nginx with LuaJIT2</li>
<li><a href="http://www.linuxvirtualserver.org/">LVS: The Linux Virtual Server Project</a></li>
<li><a href="https://github.com/pingcap/tidb">TiDB, TiKV</a>: Distributed Transactional Database with MySQL-compatible protocol.</li>
<li><a href="https://echarts.apache.org">ECharts: A powerful, interactive charting and visualization library for browser</a></li>
<li><a href="https://d7y.io/">Dragonfly</a>: P2P Container Image Distribution</li>
<li><a href="https://github.com/goharbor/harbor">Harbor: Container Image Storage</a></li>
</ul>
<p>This list is incomplete, I hope one day there will be a Chinese company out reach even more open source communities <a href="https://community.redhat.com/software/">like Redhat</a>. If I have some projects missing please leave a comment!</p></p>
            <div class="card-subtext muted-text">
              <p>Posted <time datetime="2019-06-25T21:35:40+08:00">2019-06-25</time></p>
<p>stdout</p>            </div>
          </article>
        </div>


        <!-- new article -->
        <div class="card blog-card">
          <article class="card-body">
            <a href="/201904/stdout-002"  rel="bookmark" >
              <h2 class="card-title">Ubuntu Server ä¸ºä»€ä¹ˆè¿™ä¹ˆæˆåŠŸï¼ŸWardley åœ°å›¾</h2>
            </a>
            <p class="card-text"><p>ä» <a href="https://www.thoughtworks.com/cn/radar">https://www.thoughtworks.com/cn/radar</a> çœ‹åˆ°çš„ä¸€ä¸ªæ–°æ¦‚å¿µï¼ŒWardley mapping</p>
<p>å…¶å®ä¹Ÿä¸æ–°äº†ï¼Œ2014å¹´å°±å‡ºæ¥äº†ã€‚è§ï¼š</p>
<p><a href="https://www.youtube.com/watch?v=NnFeIt-uaEc">Simon Wardley OSCON 2014 Keynote: "Introduction to Value Chain Mapping"</a></p>
<p>å¦‚æœä½ è§‰å¾—å„ç§è½¯ä»¶å·¥ç¨‹ å’Œ å•†ä¸š diagram å¾ˆæ— èŠï¼Œå…¶å®è¿™è§†é¢‘å‰åŠéƒ¨åˆ†ä¹Ÿæ˜¯è®²ä¸ºä»€ä¹ˆä»–ä»¬å¾ˆæ— èŠã€‚</p>
<p>ä½†æ˜¯åé¢å°±æœ‰è¶£äº†ã€‚ä½œè€… Wardley å‘æ˜äº†ä¸€ä¸ªæ–°çš„ä¸œè¥¿ï¼š</p>
<ul>
<li>æ¨ªåæ ‡åˆ†ä¸ºï¼šGenesis, Custom built, Product, Commodity, Utillity, Evolution</li>
<li>çºµåæ ‡è®² Value-chainã€‚ä» visible åˆ° invisible</li>
</ul>
<p>å…¶å®å¾ˆå¤š IT æˆ–è€…äº’è”ç½‘ä»ä¸šè€…ï¼Œä»–ä»¬éƒ½å¤„åœ¨æ¨ªåæ ‡çš„å‰ä¸‰éƒ¨åˆ†ï¼š</p>
<ul>
<li>åˆ›ä¸šè€…ï¼šGenesisã€‚æœ‰çš„æ˜¯ copy æœ‰çš„æ˜¯å­•è‚²äº†æ–°çš„è“æµ·</li>
<li>è¿›å…¥å®šåˆ¶åŒ–å¼€å‘é˜¶æ®µã€‚è¿™ä¸ªæ—¶å€™ä¹Ÿè¢«ç§°ä¸ºã€Œå¤–åŒ…ã€</li>
<li>åšäº§å“ã€‚</li>
</ul>
<p>å¾ˆå¤šäººä¸€è¾ˆå­èŒä¸šç”Ÿæ¶¯å°±åœ¨è¿™ä¸‰ä¸ªé˜¶æ®µæ™ƒè¡ï¼ˆåŒ…æ‹¬æˆ‘ï¼Œæ±—ï¼‰</p>
<p>æ¨ªåæ ‡åé¢å‡ ä¸ªæ¯”è¾ƒæœ‰æ„æ€ã€‚ commodityï¼Ÿè¿™è¯è¯­ç¿»è¯‘è¿‡æ¥å« å•†å“ã€‚æ¯«æ— ç‰¹æ€§çš„ä¸€ä¸ªå¹³å‡¡è¯æ±‡ã€‚</p>
<p>ä½†æ˜¯ä¹‹å‰æˆ‘äº†è§£åˆ°ï¼Œç¾å›½ SEC æŠŠ bitcoin å®šä¹‰ä¸ºä¸€ä¸ª commodityï¼Ÿä»€ä¹ˆæ˜¯ commodityï¼Ÿå°±æ˜¯ ç›ã€è¾£æ¤’ç­‰ç­‰é‚£ç§æ‰¹å‘å¸‚åœºéšä¾¿èƒ½ä¹°åˆ°çš„ï¼Œæœ‰é«˜åº¦äº’æ¢ã€å¯æ›¿ä»£æ€§çš„ä¸œè¥¿ã€‚</p>
<p>æ‰€ä»¥äº§å“æˆä¸ºæ½®æµä¹‹åï¼Œå°±å˜å¾—è¡Œä¸šåŒ–ã€ç»„ä»¶åŒ–ã€æ ‡å‡†åŒ–äº†ã€‚è¿™ä¸ªæ—¶å€™å°±æ˜¯åšã€Œæ ‡å‡†ã€</p>
<p>åšæ ‡å‡†ä¹‹åå‘¢ï¼Ÿæœ‰æ„æ€ï¼Œå°±æ˜¯åš utilityã€‚è¿™ä¸ªæ—¶å€™å°±åˆ«ä¹° commodity äº†ã€‚ç›´æ¥ç§Ÿã€‚å°±åƒä½ ç”¨æ°´ç”¨ç”µä¸€æ ·ã€‚æƒ³èµ·äº†å°±ç”¨ã€‚åˆ«æ‹…å¿ƒã€‚æ¯”å¦‚äº‘è®¡ç®—å°±æ˜¯è¿™æ ·çš„ã€‚</p>
<p>è§†é¢‘åˆè®²äº†ï¼Œå¾ˆå¤šäº‹åŠ¡ï¼Œå‘å±•åˆ° utility å°±ç®—æˆç†Ÿäº†ã€‚è¿™ä¸ªæ—¶å€™å¸‚åœºåˆä¼šå‡ºç°æ…å±€è€…ï¼Œdisruptive æŠŠè¡Œä¸šè§„åˆ™ å’Œ paradigm å®Œå…¨æ”¹å˜ï¼Œåˆäº§ç”Ÿäº† genesis ã€‚å¾ªç¯å¾€å¤èºæ—‹ä¸Šå‡</p>
<p>å¥½äº†è¯´è¯´çºµåæ ‡ï¼Œæ¯”å¦‚æˆ‘ä»¬çœ‹ä¸€å¥—ã€Œé€‰è¯¾ç³»ç»Ÿã€ï¼Œå¯è§çš„æ˜¯ä»€ä¹ˆï¼Ÿç™»å½•å…¥å£ï¼Œå¯é€‰è¯¾æ—¶åˆ†å¸ƒï¼Œç„¶åä½ è‡ªå·±å®‰æ’ä½ çš„æ¡£æœŸï¼Œæäº¤ï¼Œä¿å­˜</p>
<p>ä¸å¯è§çš„æ˜¯ä»€ä¹ˆï¼Ÿæœ€æ ¸å¿ƒçš„ç®—æ³•ï¼Œè¿ç­¹å­¦å•Šï¼</p>
<blockquote>
<p>æ’è¯¾é—®é¢˜çš„æœ¬è´¨æ˜¯å°†è¯¾ç¨‹ã€æ•™å¸ˆå’Œå­¦ç”Ÿåœ¨åˆé€‚çš„æ—¶é—´æ®µå†…åˆ†é…åˆ°åˆé€‚çš„æ•™å®¤ä¸­ï¼Œæ¶‰åŠåˆ°çš„å› ç´ è¾ƒå¤šï¼Œæ˜¯ä¸€ä¸ªå¤šç›®æ ‡çš„è°ƒåº¦é—®é¢˜ï¼Œåœ¨è¿ç­¹å­¦ä¸­è¢«ç§°ä¸ºæ—¶é—´è¡¨é—®é¢˜ï¼ˆTimetable Problemï¼Œç®€ç§°TTPï¼‰ã€‚ç›®å‰ç”±äºå­¦æ ¡æ‰©æ‹›ï¼Œå­¦ç”Ÿå’Œè¯¾ç¨‹æ•°é‡æ¯”ä»¥å¾€å¤§å¤§å¢åŠ ï¼Œæ•™å®¤èµ„æºæ˜æ˜¾ä¸è¶³ï¼Œåœ¨è¿™ç§æƒ…å†µä¸‹æ’è¯¾äººå‘˜å¾ˆéš¾åœ¨åŒæ—¶å…¼é¡¾å¤šé‡æ¡ä»¶é™åˆ¶çš„æƒ…å†µä¸‹ç”¨äººå·¥æ–¹å¼æ’å‡ºä»¤æ•™å¸ˆå’Œå­¦ç”Ÿéƒ½æ»¡æ„çš„è¯¾è¡¨ã€‚</p>
</blockquote>
<p>è¿˜æœ‰ä»€ä¹ˆä¸å¯è§çš„ï¼Ÿé˜²æ­¢å¹¶å‘è¯»å†™ï¼ˆç±»ä¼¼ç§’æ€ç³»ç»Ÿï¼‰ï¼Œé˜²æ­¢çˆ¬è™«åˆ·é¡µé¢ï¼Œå®ååˆ¶ç™»å½•éªŒè¯ç­‰ç­‰ã€‚è¿™äº›éƒ½æ˜¯éœ€è¦å…·ä½“å¼€å‘æ—¶å€™é‡åˆ°çš„é—®é¢˜ã€‚</p>
<p>ä½œè€… Simon Wardley åé¢è®²äº†ä¸ª  Wardley mapping å›¾çš„å…·ä½“æ¡ˆä¾‹ï¼šUbuntu Server</p>
<p>å…¶å®åˆ°ç°åœ¨ä¸ºæ­¢å¾ˆå¤šäººæ˜¯æ‹’ç»æ‰¿è®¤ Ubuntu Server çš„æˆåŠŸçš„ã€‚ä¸€ä¸ªè€æ‰ç‰™çš„è¯´æ³•æ˜¯ redhat æ›´åŠ ç¨³å®šï¼Œä¼ä¸šçº§ RHEL ç‰›é€¼ã€‚æˆ‘ä¹‹å‰ä¸€ä¸ªè‚¤æµ…çš„ä½“ä¼šæ˜¯ Ubuntu ç‰ˆæœ¬æ›´æ–°å¥½å¿«å•Šã€‚CentOS 6 è¿˜åœ¨ç”¨ python 2.6ä½ ä»¬æ•¢ä¿¡ä¸ï¼</p>
<p>Simon Wardley æ—©åœ¨ 2008 å¹´ç»™ Canonical åšäº† Ubuntu Server çš„å•†ä¸šè§„åˆ’ï¼š</p>
<p><img alt="" src="/images/2019/stdout-001-1.png" /></p>
<p>ä»…ä»…ä¸¤å¹´ä¹‹åï¼š</p>
<p><img alt="" src="/images/2019/stdout-001-2.png" /></p>
<p>é€šè¿‡é€å½»çš„åˆ†ææ–¹æ³•å½¢æˆä¸€ä¸ªè¶…å‰ vision çš„ä»·å€¼ä¸è¨€è€Œå–»ã€‚</p></p>
            <div class="card-subtext muted-text">
              <p>Posted <time datetime="2019-04-24T18:28:35+08:00">2019-04-24</time></p>
<p>stdout</p>            </div>
          </article>
        </div>


        <!-- new article -->
        <div class="card blog-card">
          <article class="card-body">
            <a href="/201903/stdout-001"  rel="bookmark" >
              <h2 class="card-title">Jinja2 ä¸èƒ½è¦†ç›– include é‡Œçš„ block</h2>
            </a>
            <p class="card-text"><p>è®°å½•ä¸€ä¸‹</p>
<p>https://github.com/pallets/jinja/issues/169</p>
<p>https://github.com/pallets/jinja/issues/243</p>
<p>å¼€å‘è¿™ä¸ªä¸»é¢˜ <a href="https://github.com/est/aether-pelican">https://github.com/est/aether-pelican</a> æ—¶å€™é‡åˆ°çš„ã€‚</p>
<p>btw è¿˜æœ‰å¥½å¤š css é—®é¢˜éœ€è¦æ”¹ã€‚æœ‰é—®é¢˜å¯ä»¥ <a href="https://github.com/est/estblog/issues">æissue</a></p></p>
            <div class="card-subtext muted-text">
              <p>Posted <time datetime="2019-03-31T23:51:56+08:00">2019-03-31</time></p>
<p>stdout</p>            </div>
          </article>
        </div>

    </main>
    <nav class="pagination-nav side-padding">
<a href="/category/stdout.html" class="pagination-newer">&lt; Newer Posts</a>    </nav>


  </body>
</html>