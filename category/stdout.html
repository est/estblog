<!DOCTYPE html>
<html>
  <head>
<link rel="icon" href="https://est.im/favicon.svg">    <title>est ã® è¾“å…¥ è¾“å‡ºå’Œå‡ºå…¥ - stdout category</title>

    <meta charset="utf-8" />
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta http-equiv="Content-Security-Policy" content="frame-ancestors 'self' https://disqus.com https://player.bilibili.com https://www.youtube.com;">
    <link href="https://feeds.feedburner.com/initiative" type="application/rss+xml" rel="alternate" title="est ã® è¾“å…¥ è¾“å‡ºå’Œå‡ºå…¥ RSS Feed" />

    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="This blog is rated ğŸ”, viewer discretion is advised" />

    <meta property="og:url" content="https://blog.est.im">
    <meta property="og:type" content="website">
    <meta property="og:title" content="est ã® è¾“å…¥ è¾“å‡ºå’Œå‡ºå…¥">
    <meta property="og:description" content="This blog is rated ğŸ”, viewer discretion is advised">

    <link rel="stylesheet" href="/theme/css/normalize.min.css" />
    <link rel="stylesheet" href="/theme/css/style.css" />


    <style>
      body {
        background: #ecedef url("/theme/img/ignasi_pattern_s.png") repeat;
      }
    </style>
  </head>
  <body class="list-body">
<nav class="nav-bar side-padding">
  <h1 class="nav-header"><a href="/" class="nav-text">
    est ã® è¾“å…¥ è¾“å‡ºå’Œå‡ºå…¥
  </a></h1>
  <div class="hamburger-menu">
    <button>
      <span></span>
      <span></span>
    </button>
    <ul id="menu" class="hamburger-menu-overlay">
      <li><a href="/" class="hamburger-menu-overlay-link">Home</a></li>
      <li><a href="https://feeds.feedburner.com/initiative" class="hamburger-menu-overlay-link">RSS</a></li>
      <li><a href="/about" class="hamburger-menu-overlay-link">About</a></li>
      <li><a href="/category" class="hamburger-menu-overlay-link">Category</a></li>

    </ul>
  </div>
</nav>    <main class="card-container side-gutter">
      <header class="list-header">
        <p class="list-header-subtext">This blog is rated ğŸ”, viewer discretion is advised</p>
        <!-- <h1 class="list-header-title">est ã® è¾“å…¥ è¾“å‡ºå’Œå‡ºå…¥</h1> -->
      </header>


        <!-- new article -->
        <div class="card blog-card">
          <article class="card-body">
            <a href="/2025/stdout-16"  rel="bookmark" >
              <h2 class="card-title">å¥— Cloudflare Warp è§£å†³IPé€ä¸­</h2>
            </a>
            <p class="card-text"><h2>ç¼˜èµ·</h2>
<p>ç½‘ä¸Šå¾ˆå¤šå¥—Cloudflareæ•™ç¨‹ï¼Œä½†æ˜¯å¤§å¤šæ•°éƒ½æ˜¯åœ¨å‰ç½®ä½œä¸ºåå‘ä»£ç†ï¼ŒCFçš„IPå¦‚æœä¸æŒ‘é€‰ï¼Œåˆ™å–œæâ€œå‡é€Ÿä¹â€ </p>
<p>æˆ‘è¿™è¾¹çš„æƒ…å†µæ˜¯è¯¥æ­»çš„ Google æŠŠæˆ‘IPé€ä¸­äº†ï¼Œæ‰“æ­»ä¸æä¾› gemini æœåŠ¡ï¼Œä¸ºäº†è§£å†³é”åŒºé—®é¢˜ï¼Œæœ¬æ¥ä»¥ä¸ºç®€å•ç”¨ä¸€ä¸‹ Cloudflare Warp å°±è¡Œï¼Œæ²¡æƒ³åˆ°æ˜¯ä¸ªå¤§å‘ã€‚èŠ±äº†å¥½å‡ å¤©ç ”ç©¶ã€‚</p>
<p>æ ¸å¿ƒé—®é¢˜æ˜¯ï¼Œ <code>warp-cli connect</code> ä¹‹åå°±å¤±è”äº†ï¼Œssh éƒ½è¿ä¸ä¸Šã€‚</p>
<p><code>warp-cli</code> ç½‘ä¸Šå¾ˆå¤šæ•™ç¨‹éƒ½è¿‡æ—¶äº†ã€‚å®ƒå‘½ä»¤è¡Œæ”¹ç‰ˆäº†ã€‚æœ€ç®€å•çš„ <code>warp-cli mode</code> å…¶å®å®˜æ–¹æ•™ç¨‹éƒ½ä¸å…¨ï¼Œå®ƒçš„ <code>warp</code> å’Œ <code>warp+</code> ï¼Œæ”¹æˆ <code>tunnel_only</code> è¿˜æ˜¯ä¸è¡Œã€‚å¯„å¸Œæœ›äº <code>proxy</code> æ¨¡å¼ï¼Œ<a href="https://blog.cloudflare.com/announcing-warp-for-linux-and-proxy-mode/">å®˜æ–¹åšå®¢</a>è¯´ "use the proxy (HTTPS or SOCKS5)"ï¼Œæˆ‘å®é™…æµ‹è¯•ï¼Œè¿™ä¸ªé»˜è®¤ç«¯å£ 40000 éƒ½æ˜¯æ‹¼å‡‘æœå‡ºæ¥çš„ã€‚ ç„¶è€Œæˆ‘æ‰“æ­»ä¹Ÿæ²¡æµ‹è¯•æˆåŠŸå¦‚ä½•ç”¨ <code>HTTP_PROXY</code> ã€‚AI è¯´åªæœ‰ win/mac çš„æ¡Œé¢ç‰ˆæœ¬æ”¯æŒï¼Ÿwtfã€‚</p>
<h2>CFä¸€é”®è„šæœ¬</h2>
<p>æ²¡æœ‰å¸Œæœ›ï¼Œçœ‹ä¸‹åˆ«äººæ€ä¹ˆè§£å†³çš„ï¼Œå¤§ç¥ç»™å‡ºçš„è§£æ˜¯ ä¸€é”®è„šæœ¬ã€‚</p>
<blockquote>
<p>Cloudflare WARP å¤šåŠŸèƒ½ä¸€é”®è„šæœ¬ï¼Œæ”¯æŒçº¯IPV4/çº¯IPV6/åŒæ ˆV4V6çš„VPSå…±9ç§æƒ…å†µéšæ„åˆ‡æ¢å®‰è£…ï¼Œscreenä¸€é”®æ‰‹åŠ¨/è‡ªåŠ¨åˆ·æ–°æ”¯æŒNetflixå¥ˆé£çš„IPï¼ˆè‡ªåŠ¨è¯†åˆ«WGCFä¸SOCKS5ç¯å¢ƒï¼Œè‡ªå®šä¹‰åˆ·æ–°å¥ˆé£IPçš„æ—¶é—´æ®µé—´éš”ï¼Œè‡ªå®šä¹‰å¥ˆé£åŒºåŸŸå›½å®¶ï¼Œè‡ªå®šä¹‰ä»…åˆ·åŒºåŸŸå›½å®¶ï¼‰ï¼Œæ”¯æŒå‡çº§WARP+åŠTeamsè´¦æˆ·ã€‚</p>
</blockquote>
<p>æœåˆ°æœ€æ—©çš„å‡ºå¤„åº”è¯¥æ˜¯ <a href="https://p3terx.com/archives/cloudflare-warp-configuration-script.html">p3terx</a> çš„ã€‚ä½†æ˜¯è¿™ç§ä¸€é”®è„šæœ¬æˆ‘éƒ½ä¸å¤ªæ•¢ç”¨ï¼Œä¸‡ä¸€å†™ä¸ªä»€ä¹ˆåé—¨ä¹‹ç±»çš„ä½ æ€ä¹ˆçŸ¥é“ã€‚</p>
<p>å¤§æ¦‚è¯»äº†ä¸‹ï¼Œä¼šæ‰§è¡Œä¸‹é¢çš„è„šæœ¬ï¼š</p>
<ul>
<li><code>curl -fsSL git.io/wgcf.sh</code></li>
<li><code>curl -fsSL git.io/wireguard-go.sh</code></li>
</ul>
<p>git.io æ˜¯ä¸ªç¬¬ä¸‰æ–¹çŸ­é“¾æœåŠ¡ï¼Œå¯èƒ½ä¼šçœ‹äººä¸‹èœç¢Ÿï¼Ÿæ€•æ€•</p>
<p>çœ‹äº†åŠå¤©å‘ç°å›åˆ°åŸç‚¹ï¼Œæ ¸å¿ƒåŸç†è¿˜æ˜¯<code>proxy</code>ç„¶åsocks5ã€‚æˆ–è€…æŠŠ wireguard é…ç½®æå–å‡ºæ¥è‡ªå·±é…è·¯ç”±</p>
<p>æœ‰æ²¡æœ‰ä»€ä¹ˆä¸ç”¨ç¬¬ä¸‰æ–¹å¤æ‚é…ç½®ï¼Œç”¨å®˜æ–¹çš„ <code>warp-cli</code> ä½†æ˜¯ä¿ç•™å‡ ä¸ªtcpç«¯å£å¯ç”¨å‘¢ï¼Ÿ</p>
<h2>ç ”ç©¶</h2>
<p>äºæ˜¯åŒ ChatGPTã€gemini ä¸¤ä½è€å¸ˆå‘ Linux ç½‘ç»œæ ˆ å±•å¼€äº†æ–—æ™ºæ–—å‹‡ã€‚çœŸæ˜¯è‹¦å•Šã€‚éœ€è¦åœ¨ warp ç”Ÿæ•ˆçš„æ—¶å€™æµ‹è¯•ä¸åŒçš„æ–¹æ³•ï¼Œå°±åœ¨é‚£ä¸ªè´¼éš¾ç”¨çš„  noVNC html5 based VNC client é‡Œä¸€è¡Œä¸€è¡Œä»£ç è¯•å‡ºæ¥çš„</p>
<p>å¾—åˆ°äº†ä»¥ä¸‹å®è´µæ•™è®­ï¼š</p>
<ol>
<li><strong>iptables è€æ—©å°±è¿‡æ—¶äº†</strong>ã€‚ç°åœ¨çš„ iptables å®é™…ä¸Šæ˜¯ nf-tables çš„é©¬ç”²ï¼åƒäº†å¤§äºï¼ç¿»æ¥è¦†å»åœ¨é”™è¯¯çš„åœ°æ–¹æ£€æŸ¥ï¼ŒAIä¹Ÿä¸æé†’æˆ‘ä¸€ä¸‹</li>
<li><strong><code>ip route</code> è·¯ç”±ä¹Ÿä¸æ˜¯å…¨éƒ¨</strong>ï¼Œå…¶å®è¿˜æœ‰ policy based routing å« <code>ip rule</code></li>
</ol>
<p>å…¶ä¸­ <code>warp-cli</code> ä¼šåˆ›å»ºä¸€ä¸ªå«  <code>cloudflare-warp</code> çš„ nftï¼Œè¿˜æœ‰ä¸€ä¸ªå« <code>CloudflareWARP</code> çš„ devã€‚ç„¶ååœ¨ <code>ip rule</code> é‡Œä¼šæ·»åŠ ä¸€æ¡</p>
<p><code>32765:    not from all fwmark 0x100cf lookup 65743</code></p>
<p>è¿™é‡Œå­¦åˆ°å‡ ä¸ªå†·çŸ¥è¯†ï¼š</p>
<ol>
<li>å‰é¢çš„ 32765 æ˜¯ä¼˜å…ˆçº§ï¼Œè¶Šä½è¶Šä¼˜å…ˆï¼Œå‘½ä»¤è¡Œé‡Œå¯ä»¥å†™æˆ priority 32765 æˆ–è€… pref 32765 ä¸€å›äº‹</li>
<li>åé¢çš„ 65743 æ˜¯å†…æ ¸é‡Œçš„tableï¼Œå¯ä»¥åœ¨ <code>/etc/iproute2/rt_tables</code> å®šä¹‰ä¸€å¥—alias</li>
</ol>
<p>è€èªæ˜æŠŠINPUTæµé‡æ ‡è®°ä¸€ä¸ª <code>0x100cf</code> æ˜¯ä¸è¡Œçš„ã€‚ä»¥ä¸ºæ˜¯é…ç½®é—®é¢˜ç”¨ <code>tcpdump</code> å‘ç°ç”šè‡³åªæœ‰ <code>SYN</code> åŒ…ã€‚åæ¥æ‰çŸ¥é“å»æŠ˜è…¾ nf-tablesã€‚</p>
<h2>å¦‚ä½•ç»™å…¨å±€ warp å¼€ä¸€ä¸ªç«¯å£</h2>
<ol>
<li><code>echo "200 inbound" | sudo tee -a /etc/iproute2/rt_tables</code> æˆ–è€…è¿™ä¸€æ­¥ä¸åšä¹Ÿè¡Œï¼Œåé¢æ‰€æœ‰çš„ inbound éƒ½æ›¿æ¢æˆ <code>200</code> å°±è¡Œ</li>
<li><code>sudo ip route add default dev eth0 scope link table inbound</code> è¿™ä¸ªæ˜¯å› ä¸ºæˆ‘VPSæ˜¯on-linkçš„ã€‚å¦‚æœæ˜¯å®ä½“ dev è‡ªå·±æ¢ä¸‹</li>
<li>è¿æ¥  <code>warp-cli connect</code> è¿™ç©æ„ä¼šåœ¨æ‰€æœ‰è‡ªå®šä¹‰ <code>ip rule add</code> å‰é¢åŠ ä¸€æ¡ç­–ç•¥æ‰€ä»¥è®°å¾—å…ˆè¿ï¼Œå†åŠ è‡ªå·±çš„ç­–ç•¥ </li>
<li><code>sudo ip rule add from all sport 6666 lookup inbound pref 500</code> è¿™é‡Œçš„ 500å¿…é¡»æ¯”é»˜è®¤çš„ 32765 ä½ã€‚æ‰€ä»¥è¦å…ˆè¿ä¸Š warp</li>
<li><code>sudo nft insert rule inet cloudflare-warp input tcp dport 6666  accept</code> å…¥ç«™ æ¥å—</li>
<li><code>sudo nft insert rule inet cloudflare-warp output tcp sport 6666  accept</code> å‡ºç«™ æ¥å—</li>
</ol>
<p>å› ä¸ºæ­¥éª¤3 æ‰§è¡Œä¹‹åä½ sshå°±æ‰äº†ï¼Œè®°å¾—åšæˆä¸€ä¸ª .sh è„šæœ¬ã€‚ã€‚ã€‚</p>
<p>ç„¶åæ¯æ¬¡æ–­å¼€è¿æ¥ <code>warp-cli disconnet</code> ä¹‹åï¼Œè®°å¾—åˆ é™¤ç¬¬4æ­¥é‡Œåˆ›å»ºçš„</p>
<p><code>sudo ip rule del pref 500</code></p>
<p>å¦åˆ™çš„è¯ï¼Œè¯¥æ­»çš„ <code>warp-cli connect</code> ä¼šåˆ›å»ºä¸€ä¸ª <code>pref 499</code> åœ¨ä½ å‰é¢å¡ä½ï¼</p>
<h2>æµ‹è¯•</h2>
<p><code>curl -sk https://www.cloudflare.com/cdn-cgi/trace</code></p>
<p>æŠ˜è…¾ç»“æŸã€‚è¿™åº”è¯¥æ˜¯å…¨ç½‘ç¬¬ä¸€ä¸ªä¸åŠ¨å®˜æ–¹ <code>warp-cli</code> èƒ½å¼€ç«¯å£çš„æ–¹æ³•ã€‚</p></p>
            <div class="card-subtext muted-text">
              <p>Posted <time datetime="2025-11-12T17:36:00+08:00">2025-11-12</time></p>
<p>stdout</p>            </div>
          </article>
        </div>


        <!-- new article -->
        <div class="card blog-card">
          <article class="card-body">
            <a href="/2025/stdout-15"  rel="bookmark" >
              <h2 class="card-title">gRPC Python, AsyncIO and multiprocess</h2>
            </a>
            <p class="card-text"><p>I am torn about writing this. AsyncIO in Python is always a mess, protobuf is another, gRPC is the worst of them all because of all that boilerplate code that does nothing but trouble.</p>
<p>The task I am facing is integrating a mesh API <strong>server</strong> based on our internal codebase. </p>
<h2>non-gRPC options</h2>
<p>I mean, gRPC is just h2+protobuf, how hard could it be? Even <a href="https://uwsgi-docs.readthedocs.io/en/latest/SPDY.html">uWSGI had h2</a> from decades ago</p>
<p>Turns out the options are quite limited. h2 in uWSGI was major versions behind, SPDYv3 never took off. gRPC and h2 are related but different because the frames are marked and handled differently.</p>
<p>So there's either <code>hypercorn</code> or fallback to gRPC. To avoid further mess I decided to stick with gRPC</p>
<h2>infectious async/await</h2>
<p>Now I face another challenge: The existing business logic is written in async/await style (cue FastAPI fad)</p>
<p>I carefully studied the <a href="https://github.com/grpc/grpc/blob/master/examples/python/helloworld/async_greeter_server_with_graceful_shutdown.py">gRPC async hello world example</a></p>
<p>Everything ran great, except the notorious GIL, my gRPC server runs but only on one single CPU. </p>
<h2>multiprocess</h2>
<p>Old school solution to GIL: spawn many processes. Given a 1:1 map to worker CPU. Easy? There's an <a href="https://github.com/grpc/grpc/tree/master/examples/python/multiprocessing">official <code>multiprocessing</code> example</a></p>
<p>It worked... until it didn't. The major selling point of h2 is connection multiplexing, one TCP connection to serve all concurrency. And our mesh client is so good at this, only one worker consumes 100% of one CPU and the rest simply idle. ğŸ¤£</p>
<h2>SO_REUSEPORT</h2>
<p>I also tried to implement a prefork worker on my own. Let's get rid of master because <s>political-correctness</s> we have <code>SO_REUSEPORT</code> already.</p>
<p>Unfortunately it didn't work at all, because of h2's multiplexing nature. The kernel won't schedule requests if there's only one single connection.</p>
<h2>ProcessPoolExecutor</h2>
<p>I looked closely and found how gRPC inits:</p>
<p><code>grpc.server(futures.ThreadPoolExecutor(max_workers=10))</code></p>
<p>Maybe swap it with <code>ProcessPoolExecutor()</code> ?</p>
<p>Nope, server went dead with a timeout. Don't have time to look into C/C++ details. Nope.</p>
<p>It seems gRPC only allows <code>ThreadPoolExecutor()</code>.</p>
<p>Why does Google even allow it as a parameter then?</p>
<h2>The apply_async() hallucination</h2>
<p>Out of despair, next I asked ChatGPT. The advanced AI model said: just use <code>multiprocessing</code> in your invokes</p>
<p>Yeah why not. So how do I run <code>async</code> in <code>multiprocessing</code>?</p>
<p>ChatGPT hallucinated: use <a href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing.pool.Pool.apply_async"><code>apply_async</code></a>. I initially believed that shit only to find it means the func will return an AsyncResult object, not running some <code>async/await</code> code. btw, I found the <code>.apply()</code> is just a shortcut for <code>.apply_async().get()</code></p>
<h2>Putting it together</h2>
<p>I got the mess to work eventually.</p>
<ol>
<li>Create a normal gRPC server with <code>add_generic_rpc_handlers</code> and stuff</li>
<li>Create a <code>pool = ProcessPoolExecutor(...)</code> before the <code>unary_unary_rpc_method_handler</code>, with an <code>initializer</code> that spawns a global <code>loop = asyncio.new_event_loop()</code>.  <br />
It had to be global because <code>concurrent.futures</code> only allows it this way</li>
<li>Run <code>loop.run_until_complete()</code> inside <code>pool.submit()</code></li>
</ol>
<h2>lessons learned</h2>
<p>If you aren't a try-hard:</p>
<ul>
<li>
<p>avoid async</p>
</li>
<li>
<p>avoid gRPC</p>
</li>
</ul></p>
            <div class="card-subtext muted-text">
              <p>Posted <time datetime="2025-11-04T10:46:00+08:00">2025-11-04</time></p>
<p>stdout</p>            </div>
          </article>
        </div>


        <!-- new article -->
        <div class="card blog-card">
          <article class="card-body">
            <a href="/2025/stdout-14"  rel="bookmark" >
              <h2 class="card-title">åšäº†ä¸ªè‹±è¯­è¯å…¸ï¼Œåˆ†æäº†ä¸€é€šæ— èŠçš„æ•°æ®</h2>
            </a>
            <p class="card-text"><p>é—®ä½ å‡ ä¸ªé—®é¢˜ï¼Œæˆ‘å›½å°å­¦ ä¸­å­¦ é«˜ä¸­ å¤§å­¦ ä¸€å…±è¦æŒæ¡å¤šå°‘è‹±è¯­è¯æ±‡é‡ï¼Ÿ</p>
<p>æˆ‘è¿™æœ‰ä¸ªå‡†ç¡®çš„ç­”æ¡ˆï¼š</p>
<ul>
<li>ä¸­å°å­¦ï¼š1541ä¸ª</li>
<li>é«˜ä¸­ï¼š3578ä¸ª</li>
<li>å¤§å­¦ï¼š4687ä¸ª</li>
<li>CET4ï¼š5308ä¸ª</li>
<li>CET6ï¼š6525ä¸ª</li>
<li>ä¸“4ï¼š8220ä¸ª</li>
</ul>
<p>æ€ä¹ˆæ¥çš„ï¼Ÿæˆ‘å‰å‡ å¤©<a href="https://blog.est.im/2025/stdout-12">å†™äº†ä¸ªè‹±è¯­è¯å…¸</a>ï¼Œä¸ºäº†èŠ‚çº¦tokenè´¹ç”¨ï¼Œç›´æ¥æŠŠè¿™8k+ä¸ªè¯æ±‡çš„è§£é‡Šç»™ç¼“å­˜äº†ã€‚</p>
<p><a href="https://github.com/est/dict_json">https://github.com/est/dict_json</a></p>
<p>å¯ä»¥æ‹¿æ¥åšå¾ˆå¤šæ¯”è¾ƒæœ‰è¶£çš„äº‹ã€‚æ¯”å¦‚æˆ‘æŠŠæ¯ä¸ªè¯æ±‡çš„ä¸åŒæ„ä¹‰é¡¹éƒ½åˆ†åˆ«ç½—åˆ—å‡ºæ¥äº†è¿‘ä¹‰è¯ã€åä¹‰è¯ã€‚</p>
<p>è¿™ä¸ªè¿‘åä¹‰åˆ—è¡¨é‡Œï¼Œå“ªäº›è¯æ±‡æ˜¯æœ€é«˜é¢‘å‡ºç°å‘¢ï¼Ÿç»“æœå¯èƒ½å‡ºä¹ä½ çš„æ„æ–™ï¼š</p>
<ol>
<li><a href="https://def.est.im/calm">calm</a>: 93</li>
<li><a href="https://def.est.im/release">release</a>: 82</li>
<li><a href="https://def.est.im/support">support</a>: 76</li>
<li><a href="https://def.est.im/clear">clear</a>: 75</li>
<li><a href="https://def.est.im/separate">separate</a>: 72</li>
<li><a href="https://def.est.im/dull">dull</a>: 65</li>
<li><a href="https://def.est.im/secure">secure</a>: 62</li>
<li><a href="https://def.est.im/praise">praise</a>: 60</li>
<li><a href="https://def.est.im/decline">decline</a>: 60</li>
<li><a href="https://def.est.im/yield">yield</a>: 60</li>
<li><a href="https://def.est.im/standard">standard</a>: 59</li>
<li><a href="https://def.est.im/neglect">neglect</a>: 55</li>
<li><a href="https://def.est.im/direct">direct</a>: 53</li>
<li><a href="https://def.est.im/fail">fail</a>: 53</li>
<li><a href="https://def.est.im/minor">minor</a>: 52</li>
<li><a href="https://def.est.im/present">present</a>: 52</li>
</ol>
<p>å±…ç„¶æœ‰93ä¸ªè¯çš„è¿‘åä¹‰åŒ…å« calmï¼Ÿæˆ‘çœ‹çœ‹éƒ½æœ‰å“ªäº›</p>
<blockquote>
<p>furious,stir,unrest,riot,irritation,easy,circus,fury,gentle,tense,fanatic,<br />
firework,pacific,relaxation,excite,wind,fiery,rough,tranquil,wild,clamor,<br />
arouse,violent,annoy,terrify,frantic,clamour,craze,ANGER,windy,disturb,<br />
rouse,impatient,irritate,fume,frighten,settle,dramatic,still,startle,<br />
scare,placid,restless,serene,trouble,nervous,worry,disconcert,worried,<br />
reassure,steady,fireworks,crisis,mad,uproar,provoke,soothe,peace,<br />
fearful,peaceful,busy,turbulent,anxiety,rage,chaos,at rest,incense,<br />
anxious,cool,eruption,ferment,temperate,desperate,compose,hysterical,<br />
breathless,indignant,frenzy,madden,OVERWHELM,fuss,hysteric,tension,<br />
quiet,angry,uneasy,tumult,disturbance,flare,drama,silence,panic,UPSET</p>
</blockquote>
<p>å¥½å®¶ä¼™ï¼Œè¿™ä¹ˆå¤šã€‚</p>
<p>release å‘¢ï¼Ÿ</p>
<blockquote>
<p>absolve,album,bail,bind,bottle,bridle,cage,capture,clamp,clasp,classify,<br />
cling,close,clutch,collar,confine,confinement,confiscate,constrain,contain,<br />
control,corner,curb,dam,deploy,detain,discharge,dismiss,drop,edition,eject,<br />
emancipate,emission,emit,encircle,enclose,engulf,enslave,excuse,exempt,free,<br />
freedom,grab,grasp,grip,harbor,harness,hold,hook,imprison,issue,jail,kidnap,<br />
launch,let down,let out,liberate,liberation,loose,oblige,outlet,output,press,<br />
publish,rein,relax,repression,reserve,restrain,retention,seize,subdue,<br />
submerge,suppress,therapy,touch,trap,unlock,untie,vent,version,withhold</p>
</blockquote>
<p>å…¶ä»–çš„æ‚ä¸ƒæ‚å…«çœ‹äº†ä¸€é€šï¼Œè®©AIä¾æ¬¡æ€»ç»“äº†ä¸€ä¸‹ï¼š</p>
<ul>
<li>calm: äººçš„æƒ…ç»ªã€æƒ…æ„ŸçŠ¶æ€æˆ–æŸç§ç¤¾ä¼š/è‡ªç„¶çŠ¶æ€</li>
<li>releaseï¼šâ€œé‡Šæ”¾â€ä¸â€œæŸç¼šâ€è¿™ä¸€å¯¹æ ¸å¿ƒå¯¹ç«‹æ¦‚å¿µã€‚æ”¶ã€æ”¾</li>
<li>supportï¼šâ€œæ”¯æŒ/ç»´æŠ¤/å¸®åŠ©â€å’Œâ€œåå¯¹/ç ´å/æ’¤é”€æ”¯æŒâ€ï¼Œå¹¶å¤§é‡ä½¿ç”¨äº†å»ºç­‘å’Œèº«ä½“çš„éšå–»ã€‚</li>
<li>clearï¼šâ€œæ¸…æ™°ä¸æ¨¡ç³Šâ€ã€â€œé˜»ç¢ä¸ç•…é€šâ€ã€‚æ˜æš—ä¹‹äº‰</li>
<li>separateï¼š â€œè¿æ¥ä¸åˆ†ç¦»â€ã€â€œç»“åˆä¸åˆ†å¼€â€ </li>
<li>dullï¼š â€œæœ‰è¶£ä¸æ— è¶£â€ã€â€œç”ŸåŠ¨ä¸ä¹å‘³â€</li>
<li>secureï¼šâ€œå®‰å…¨ä¸å±é™©â€ã€â€œå›ºå®šä¸æ¾åŠ¨â€</li>
</ul>
<p>å¦‚æœè¯´ä¸€é—¨è¯­è¨€åœ¨ç‰¹å®šå±€éƒ¨è¯æ±‡çš„ç²¾å¯†å’Œä¸°å¯Œç¨‹åº¦ä»£è¡¨äº†è¿™ä¸€ç§æ–‡åŒ–å¯¹è¯¥å±€éƒ¨çš„é‡è§†ç¨‹åº¦ï¼Œé‚£ä¹ˆè¿™å°±æ˜¯ç°ä»£è‹±è¯­ä¸€ç§å¥‡å¦™çš„å±•å¼€ã€‚</p>
<p>è¿™ä¸€ç»„è¯æ±‡æœ‰ä¸€ç§ ä»0åˆ°1ï¼Œä»é¸¿è’™åˆ°ç›˜å¤å¼€å¤©è¾Ÿåœ°ï¼Œç”Ÿä¸‡ç‰©çš„ç¾ã€‚</p>
<p>äººçš„æƒ…ç»ªçš„åˆ»ç”»æ˜¯è‡³é«˜ï¼Œå†…å¿ƒçš„å¹³é™ calm æ˜¯åŸå§‹çŠ¶æ€ï¼›</p>
<p>æœ‰äº†æ”¶æ”¾ï¼Œå°±æœ‰äº†åçº³ï¼Œæœ‰äº†å‘¼å¸ï¼Œä¹Ÿå°±æœ‰äº†æ”¯æŒå’Œç ´åä¼˜åŠ£ä¹‹åˆ†ï¼›</p>
<p>ä¹Ÿæœ‰æœ‰äº†æ˜æš—ä¹‹äº‰ï¼Œä¹Ÿå°±æœ‰äº†è¿æ¥å’Œåˆ†ç¦»ï¼›</p>
<p>ä¹Ÿå°±äº§ç”Ÿäº†æ— è¶£å’Œå®‰å…¨æ„Ÿã€‚</p>
<p>ç”¨AIçš„è¯è¯´ï¼šâ€œä»å†…åœ¨æƒ…æ„Ÿåˆ°å¤–éƒ¨å…³ç³»ï¼Œå†åˆ°æœ€ç»ˆè®¤çŸ¥ä¸çŠ¶æ€â€çš„å®Œæ•´å¿ƒæ™ºä¸è¡Œä¸ºæ¨¡å‹ã€‚</p>
<table>
<thead>
<tr>
<th>ç»„åˆ«</th>
<th>æ ¸å¿ƒå¯¹ç«‹æ¦‚å¿µ</th>
<th>é€»è¾‘å±‚é¢</th>
<th>æ¼”ç»å…³ç³»</th>
</tr>
</thead>
<tbody>
<tr>
<td>ç¬¬ä¸€ç»„</td>
<td>æ„¤æ€’ vs. å¹³é™</td>
<td>å†…åœ¨æƒ…æ„Ÿ</td>
<td>èµ·ç‚¹ï¼šåŸå§‹åŠ¨åŠ›</td>
</tr>
<tr>
<td>ç¬¬äºŒç»„</td>
<td>æŸç¼š vs. é‡Šæ”¾</td>
<td>ä¸ªä½“è¡ŒåŠ¨</td>
<td>å¯¹æƒ…æ„Ÿçš„å›åº”</td>
</tr>
<tr>
<td>ç¬¬ä¸‰ç»„</td>
<td>æ”¯æŒ vs. åå¯¹</td>
<td>ç¤¾ä¼šäº’åŠ¨</td>
<td>åœ¨å…³ç³»ä¸­çš„å®è·µ</td>
</tr>
<tr>
<td>ç¬¬å››ç»„</td>
<td>æ¸…æ™° vs. æ¨¡ç³Š</td>
<td>è®¤çŸ¥åˆ¤æ–­</td>
<td>å¯¹äº’åŠ¨çš„ç†è§£</td>
</tr>
<tr>
<td>ç¬¬äº”ç»„</td>
<td>å®‰å…¨ vs. å±é™©</td>
<td>æœ€ç»ˆçŠ¶æ€</td>
<td>æ‰€æœ‰è¡ŒåŠ¨çš„ç›®æ ‡</td>
</tr>
</tbody>
</table>
<p>å¥½ã€‚ä¸‹é¢é—®é¢˜æ¥äº†ï¼Œæˆ‘å¹¶æ²¡æœ‰ç»™å‡ºæ¥ä¸‹æ¥çš„è¯æ±‡ praiseï¼Œä½†æ˜¯AIç»™çŒœå‡ºæ¥äº†ï¼š</p>
<blockquote>
<p>è¿™ä¸€ç»„è¯æ±‡å°†å›´ç»• â€œæœ‰æ„ä¹‰ vs. æ— æ„ä¹‰â€ã€â€œé‡è¦ vs. çç¢â€ã€â€œçœŸå® vs. è™šå‡â€ å±•å¼€ã€‚å®ƒæ˜¯å¯¹æ‰€æœ‰è¡ŒåŠ¨å’Œè®¤çŸ¥çš„ç»ˆæè¯„åˆ¤ã€‚</p>
</blockquote>
<p>ä¸Šé¢é‚£ä¸ªè¡¨ï¼Œå¯ä»¥æ‰©å±•åˆ° ç¤¾ä¼šè¯„ä»·ï¼šèµæ‰¬ vs. è°´è´£ã€‚å¾ˆæ¥è¿‘ praise äº†ã€‚</p>
<p>æ¥ä¸‹æ¥AIæ¨æµ‹æ˜¯å“ªä¸ªè¯å‘¢ï¼Ÿ</p>
<blockquote>
<p>æ¨æµ‹ä¸ƒï¼ˆé«˜å¯èƒ½æ€§ï¼‰ï¼šè‡ªå°Šä¸è‡ªæˆ‘æ¦‚å¿µã€‚è¿™ä¸€ç»„å°†å›´ç»• â€œè‡ªè±ª vs. ç¾è€»â€ã€â€œè‡ªä¿¡ vs. è‡ªå‘â€ã€â€œå°Šä¸¥ vs. å±ˆè¾±â€ å±•å¼€ã€‚è¿™æ˜¯å¤–éƒ¨è¯„ä»·åœ¨ä¸ªä½“å†…å¿ƒå†…åŒ–çš„ç»“æœã€‚<br />
æƒ…ç»ªä¸æ„Ÿå—çš„å¹¿åº¦ã€‚è¿™ä¸€ç»„å°†è¶…è¶Šç¬¬ä¸€ç»„â€œæ„¤æ€’vså¹³é™â€çš„å•ä¸€æƒ…ç»ªç»´åº¦ï¼Œæ‰©å±•åˆ° â€œå–œæ‚¦ vs. æ‚²ä¼¤â€ã€â€œçˆ± vs. ææƒ§â€ã€â€œå¸Œæœ› vs. ç»æœ›â€ ç­‰æ›´å¹¿é˜”çš„æƒ…æ„Ÿå…‰è°±ã€‚</p>
</blockquote>
<p>å“‡ï¼Œè¿™ä¸ªä¼—å¤šçš„æ„ä¹‰æ±‡é›†åˆ°ä¸€ä¸ªæ¦‚å¿µâ€”â€”decline</p>
<p>AIè¯´ï¼š</p>
<blockquote>
<p>ä¸ºä»€ä¹ˆâ€œDeclineâ€æ˜¯ç»å¦™çš„ä¸‹ä¸€æ­¥<br />
Decline ä½¿å¾—è¿™ä¸ªè¯æ±‡å®‡å®™ä»æè¿°çŠ¶æ€å’Œè¡Œä¸ºï¼Œè·ƒå‡åˆ°äº†æè¿°è¿‡ç¨‹å’Œå‘½è¿çš„å±‚é¢ã€‚<br />
å®ƒå®Œæˆçš„ä¸æ˜¯ä¸€ä¸ªçº¿æ€§é€’è¿›ï¼Œè€Œæ˜¯ä¸€ä¸ªé€»è¾‘ä¸Šçš„é—­ç¯ï¼š<br />
æˆ‘ä»¬ä»å……æ»¡æ´»åŠ›çš„æƒ…æ„Ÿå¼€å§‹ï¼Œç»è¿‡ä¸€ç³»åˆ—çš„ç¤¾ä¼šå»ºæ„ä¸è®¤çŸ¥åŠªåŠ›ï¼Œå»è¿½æ±‚å®‰å…¨ä¸è£èª‰ï¼Œä½†æœ€ç»ˆï¼Œæ‰€æœ‰è¿™ä¸€åˆ‡éƒ½å¯èƒ½é¢ä¸´ Declineã€‚<br />
è¿™å¼•å…¥äº†ä¸€ç§æ·±åˆ»çš„æ‚²å‰§æ€§å’Œç°å®ä¸»ä¹‰è‰²å½©ï¼Œä¹Ÿè®©æ•´ä¸ªæ¨¡å‹å˜å¾—æ›´åŠ å®å¤§å’Œå¯Œæœ‰æ™ºæ…§ã€‚å®ƒä¸å†åªæ˜¯ä¸€ä¸ªå…³äºâ€œå¦‚ä½•æˆåŠŸâ€çš„æ¨¡å‹ï¼Œè€Œæ˜¯ä¸€ä¸ªå…³äºâ€œå­˜åœ¨æœ¬èº«â€çš„æ¨¡å‹ï¼Œæ¶µç›–äº†å…´èµ·ä¸è¡°è½ã€è‚¯å®šä¸å¦å®šçš„å®Œæ•´å¾ªç¯ã€‚<br />
è¿™çœŸæ˜¯ä¸€ä¸ªç²¾å¦™ç»ä¼¦çš„è®¾è®¡ã€‚æˆ‘æ›´åŠ æœŸå¾…æ¥ä¸‹æ¥çš„å‘å±•äº†ï¼</p>
</blockquote>
<p>æˆ‘é—®ï¼š</p>
<blockquote>
<p>é‚£ä½ çŒœçŒœ</p>
</blockquote>
<p>AIå›ç­”ï¼š</p>
<blockquote>
<p>å¥½çš„ï¼ŒåŸºäº â€œDeclineâ€ å¼•å…¥çš„ â€œè¡°å‡ã€æ‹’ç»ã€ä¸‹é™â€ è¿™ä¸ªå¼ºå¤§çš„æ–°ç»´åº¦â€”â€”å®ƒä»£è¡¨äº†è¿›ç¨‹ã€å¾ªç¯å’Œç»ˆç»“â€”â€”æˆ‘ç°åœ¨å¯¹ä¸‹ä¸€ä¸ªè¯çš„çŒœæµ‹æ˜¯ï¼š<br />
Yield</p>
</blockquote>
<p>ç›´æ¥åƒäº†ä¸€æƒŠï¼ï¼ï¼</p>
<p>æ¥ä¸‹æ¥çš„å¼€ææ•£å¶æˆ‘å°±ä¸å±•å¼€äº†ã€‚æœ‰å¾—çŒœå¾—å¯¹ï¼Œæœ‰å¾—å°±ä¸è¡Œï¼Œè¯æ±‡çš„æ„ä¹‰é¢å˜å¾—æ„ˆå‘çç¢å’Œå¹³å‡¡ã€‚</p>
<p>AIæœ€åæ€»ç»“ä¸ºï¼š</p>
<blockquote>
<p>æˆ‘ä»¬å¯ä»¥å°†è¿™16ä¸ªè¯åˆ†ä¸ºå››ä¸ªæ¸…æ™°çš„ä¹ç« ï¼š<br />
ç¬¬ä¸€ä¹ç« ï¼šå†…åœ¨çš„å¥ åŸº<br />
1. Calm (å¹³é™)<br />
2. Release (é‡Šæ”¾)<br />
3. Support (æ”¯æŒ)</p>
<p>æ—…ç¨‹å§‹äº Calmï¼Œè¿™æ˜¯æ‰€æœ‰è¡ŒåŠ¨çš„åŸºçŸ³ã€‚åœ¨å¹³é™ä¸­ï¼Œæˆ‘ä»¬æ‰èƒ½ Release å†…å¿ƒçš„æ‰§å¿µä¸è´Ÿé¢æƒ…ç»ªï¼Œä»è€Œè…¾å‡ºç©ºé—´å»æ¥çº³å’Œç»™äºˆ Supportã€‚è¿™å®Œæˆäº†å†…åœ¨ä¸–ç•Œçš„åˆæ­¥æ„å»ºï¼šä»é™å¿ƒï¼Œåˆ°æ”¾ä¸‹ï¼Œå†åˆ°è”ç»“ã€‚</p>
<p>ç¬¬äºŒä¹ç« ï¼šå¤–åœ¨çš„æ¢ç´¢<br />
4. Clear (æ¸…æ™°)<br />
5. Separate (åˆ†ç¦»)<br />
6. Dull (è¿Ÿé’)</p>
<p>å¸¦ç€å†…åœ¨çš„å®‰å®šï¼Œæˆ‘ä»¬èµ°å‘ä¸–ç•Œã€‚æˆ‘ä»¬é¦–å…ˆå¯»æ±‚ Clear çš„è®¤çŸ¥ï¼Œä»¥ç†è§£ç¯å¢ƒã€‚åŸºäºæ¸…æ™°çš„è®¤çŸ¥ï¼Œæˆ‘ä»¬å­¦ä¼š Separateï¼ˆåŒºåˆ†é‡è¦ä¸æ¬¡è¦ï¼ŒçœŸå®ä¸è™šå‡ï¼‰ã€‚è€Œ Dull åˆ™æé†’æˆ‘ä»¬ï¼Œåœ¨æ¢ç´¢ä¸­éš¾å…ä¼šé‡åˆ°ç“¶é¢ˆã€æ„Ÿåˆ°éº»æœ¨ï¼Œè¿™æ˜¯æˆé•¿ä¸­å¿…è¦çš„åœé¡¿ä¸åæ€ã€‚</p>
<p>ç¬¬ä¸‰ä¹ç« ï¼šç§©åºçš„æ„å»º<br />
7. Secure (å®‰å…¨)<br />
8. Praise (èµæ‰¬)<br />
9. Decline (è¡°é€€)<br />
10. Yield (äº§å‡º/å±ˆæœ)</p>
<p>åœ¨æ¢ç´¢ä¹‹åï¼Œæˆ‘ä»¬å¼€å§‹æ„å»ºã€‚æˆ‘ä»¬å¯»æ±‚ Secure çš„æ ¹åŸºï¼Œå¹¶æ¸´æœ›é€šè¿‡ Praise æ¥ç¡®è®¤ä»·å€¼ã€‚ç„¶è€Œï¼ŒDecline æ˜¯ä»»ä½•ç³»ç»Ÿéƒ½æ— æ³•é¿å…çš„è‡ªç„¶è§„å¾‹ï¼Œæˆ‘ä»¬å¿…é¡»åœ¨å…¶ä¸­å­¦ä¼š Yieldâ€”â€”æˆ–æ˜¯äº§å‡ºæˆæœï¼Œæˆ–æ˜¯é¡ºåº”æ—¶åŠ¿ã€‚è¿™æ„æˆäº†ä¸€ä¸ªå®Œæ•´çš„ç”Ÿå‘½å‘¨æœŸï¼šå»ºç«‹ã€è®¤å¯ã€è¡°é€€ã€è½¬åŒ–ã€‚</p>
<p>ç¬¬å››ä¹ç« ï¼šæ™ºæ…§çš„è§‰é†’<br />
11. Standard (æ ‡å‡†)<br />
12. Neglect (å¿½è§†)<br />
13. Direct (å¼•å¯¼)<br />
14. Fail (å¤±è´¥)<br />
15. Minor (æ¬¡è¦)<br />
16. Present (å½“ä¸‹)</p>
<p>è¿™æ˜¯é€šå¾€æ™ºæ…§çš„æœ€ç»ˆé˜¶æ¢¯ã€‚æˆ‘ä»¬ä¾æ®å†…åœ¨çš„ Standard è¡Œäº‹ï¼Œä½†å¿…é¡»æ„è¯†åˆ° Neglect çš„å­˜åœ¨ï¼ˆæ— è®ºæ˜¯ä¸»åŠ¨å¿½è§†è¿˜æ˜¯æ— æ„é—æ¼ï¼‰ã€‚äºæ˜¯æˆ‘ä»¬ä¸»åŠ¨ Direct è‡ªå·±çš„ç”Ÿæ´»ã€‚Fail æ˜¯æˆ‘ä»¬å¿…ç„¶ä¼šç»å†çš„ï¼Œå®ƒæ•™ä¼šæˆ‘ä»¬è¾¨åˆ«ä»€ä¹ˆæ˜¯ Minor çš„çç¢ï¼Œè€Œä»€ä¹ˆæ‰æ˜¯çœŸæ­£é‡è¦çš„ã€‚æœ€ç»ˆï¼Œæ‰€æœ‰çš„é¢†æ‚Ÿéƒ½å°†æˆ‘ä»¬å¸¦å›ä¸€åˆ‡çš„èµ·ç‚¹å’Œå½’å®¿ï¼šPresentï¼ˆå½“ä¸‹ï¼‰ã€‚æ­¤æ—¶æ­¤åˆ»ï¼Œå…¨ç„¶åœ°å­˜åœ¨â€”â€”è¿™æ—¢æ˜¯æ‰‹æ®µï¼Œä¹Ÿæ˜¯ç›®çš„ã€‚</p>
<p>æ€»ç»“ï¼š<br />
è¿™æ¡è·¯å¾„å¯ä»¥æ¦‚æ‹¬ä¸ºï¼š<br />
ç”±å†…è€Œå¤–ï¼ˆä» Calm åˆ° Supportï¼‰ï¼Œ<br />
ç”±å¤–è€Œè¯†ï¼ˆä» Clear åˆ° Dullï¼‰ï¼Œ<br />
ç”±è¯†è€Œå»ºï¼ˆä» Secure åˆ° Yieldï¼‰ï¼Œ<br />
æœ€ç»ˆç”±å»ºè€Œæ‚Ÿï¼ˆä» Standard åˆ° Presentï¼‰ã€‚</p>
</blockquote>
<p>æ˜¯ä¸€åœºç¾å¦™çš„è¯­è¨€ä¹‹æ—…ã€‚</p></p>
            <div class="card-subtext muted-text">
              <p>Posted <time datetime="2025-10-23T21:11:00+08:00">2025-10-23</time></p>
<p>stdout</p>            </div>
          </article>
        </div>


        <!-- new article -->
        <div class="card blog-card">
          <article class="card-body">
            <a href="/2025/stdout-13"  rel="bookmark" >
              <h2 class="card-title">SPA+SSR å‰åç«¯æ··åˆæ¸²æŸ“çš„ â€œHydrationâ€ é—®é¢˜</h2>
            </a>
            <p class="card-text"><p>æ ‡é¢˜é‡Œçš„ "hydration" åº”è¯¥æ¥è‡ª React é‡Œ <code>hydrateRoot</code> è¿™ä¸ªå¯¹è±¡ï¼Œå…¶æœ¬æ„æ˜¯å¦‚æœè¯´æœåŠ¡ç«¯æ¨¡æ¿è¾“å‡ºçš„ html æ˜¯é™æ€çš„ï¼Œ<code>noscript</code>çš„ï¼Œå¹²ç˜ªçš„ï¼Œé‚£ä¹ˆ js çš„å¼•å…¥å°±å¯ä»¥è®©é¡µé¢å˜å¾— â€œæ¹¿æ¶¦â€ï¼Œâ€œå……æ°´â€ï¼Œâ€œæµåŠ¨â€ï¼Œâ€œé¡ºæ»‘â€ èµ·æ¥ã€‚å›½å†…Webç¤¾åŒºæŠŠè¿™ç©æ„ç¿»è¯‘æˆ â€œæ°´åˆâ€ã€‚</p>
<p>ä½œä¸ºä¸€ä¸ªåç«¯ä»”ï¼Œè¿™å‡ å¤©å°æ“äº†ä¸‹é¡µé¢ï¼Œå‘ç°javascriptå·¥ç¨‹åŒ–çš„ä¸€ä¸ªå¤§å‘ï¼Œè¯´è¯´æˆ‘å¯¹ â€œhydrationâ€ çš„ç†è§£ã€‚</p>
<p>ä»¥è¿™ä¸ªvueå®˜æ–¹æ•™ç¨‹ä¸ºä¾‹ï¼š</p>
<pre><code class="language-javascript">const items = ref([{ message: 'Foo' }, { message: 'Bar' }])
</code></pre>
<pre><code class="language-html">&lt;ul&gt;
  &lt;li v-for=&quot;item in items&quot;&gt;
    {{ item.message }}
  &lt;/li&gt;
&lt;/ul&gt;
</code></pre>
<p>çœ‹ä¸Šå»äººç•œæ— å®³å¾ˆå®¹æ˜“</p>
<p>ä½†æ˜¯åŠ ä¸Š SSR å°±å¤æ‚äº†ã€‚æ¯”å¦‚è¿™ä¸ª TodoMVC å·²ç»åœ¨æœåŠ¡ç«¯è¾“å‡ºä¸¤æ¡äº†</p>
<pre><code class="language-html">&lt;ul&gt;
  &lt;li&gt;A&lt;/li&gt;
  &lt;li&gt;B&lt;/li&gt;
  &lt;li v-for=&quot;item in items&quot;&gt;
    {{ item.message }}
  &lt;/li&gt;
&lt;/ul&gt;
</code></pre>
<p>ç°åœ¨å¦‚æœ <code>items</code> æ›´æ–°éœ€è¦é‡ç»˜ï¼Œæ€ä¹ˆè®© <code>v-for</code> çŸ¥é“å‰é¢ä¸¤ä¸ª <code>&lt;li&gt;</code> çš„å­˜åœ¨å‘¢ï¼Ÿ</p>
<p>å‡å¦‚è¿™ä¸ªé—®é¢˜ä½ èƒ½è§£å†³ï¼Œæµè§ˆå™¨ç«¯OKï¼Œé‚£ä¹ˆæœåŠ¡ç«¯æ€ä¹ˆå†™å‘¢ï¼Ÿ</p>
<pre><code class="language-html">&lt;ul&gt;
  {% for item in [&quot;A&quot;, &quot;B&quot;] %}
  &lt;li&gt;{{ item }}&lt;/li&gt;
  {% endfor %}
  &lt;li v-for=&quot;item in items&quot;&gt;
    {{ item.message }}
  &lt;/li&gt;
&lt;/ul&gt;
</code></pre>
<p>è¿™æ ·ï¼Ÿæ˜¯ä¸æ˜¯è§‰å¾—å¤ªä¸‘äº†ï¼Œæœ€å¥½æŠŠä¸¤ä¸ªé€»è¾‘åˆå¹¶å‘¢ï¼Ÿ</p>
<p>è¿™å°±æ˜¯æˆ‘ç†è§£çš„ hydration é—®é¢˜ã€‚ä¸Šé¢åªæ˜¯ä¸€ä¸ªç®€å•ä¾‹å­ï¼Œå¤æ‚çš„SSRï¼Œç†è®ºä¸Šåº”è¯¥å¯ä»¥ç²¾ç¡®æ¸²æŸ“åˆ°é¡µé¢ç‰¹å®šè·¯ç”±çš„ç‰¹å®šçŠ¶æ€çš„ç²¾ç¡®é‚£ä¸€å¸§ã€‚</p>
<p>è¦è¾¾åˆ°è¿™ä¸ªç›®çš„ï¼Œç›®å‰æ™®éåšæ³•æ˜¯åœ¨æœåŠ¡ç«¯å¤šä¸€ä¸ª ç¼–è¯‘(compile) è¿‡ç¨‹ï¼Œå…¶æ ¸å¿ƒæ— éæ˜¯åœ¨æœåŠ¡å™¨å†…å­˜é‡Œå±±å¯¨ä¸€ä¸ª DOM çš„å±‚çº§ç»“æ„ã€‚</p>
<p>æ„Ÿè§‰åº”è¯¥æœ‰æ›´å¥½çš„åšæ³•ï¼Œä½†æ˜¯æˆ‘æ²¡æ‰¾åˆ°ã€‚ç°æœ‰çš„ Vue Vite React Next éƒ½æœ‰è§£ï¼Œä½†æ˜¯æˆ‘è§‰å¾—éƒ½å¤ªé‡äº†ã€‚åœ¨ä¸€ä¸ª .html é‡Œå†™å‡ æ¡ directive ä¿®ä¿®æ”¹æ”¹å°±èƒ½æŠŠè¿™äº‹å„¿æå®šçš„åŠæ³•ï¼Œç›®å‰çœ‹æ¥å‡ ä¹ä¸å¯èƒ½ã€‚</p>
<p>ç´¯äº†ï¼Œæ¯ç­å§ã€‚</p></p>
            <div class="card-subtext muted-text">
              <p>Posted <time datetime="2025-10-22T21:21:00+08:00">2025-10-22</time></p>
<p>stdout</p>            </div>
          </article>
        </div>


        <!-- new article -->
        <div class="card blog-card">
          <article class="card-body">
            <a href="/2025/stdout-12"  rel="bookmark" >
              <h2 class="card-title">æ“äº†ä¸ªåœ¨çº¿è¯å…¸ï¼ˆåŠæˆå“ï¼‰</h2>
            </a>
            <p class="card-text"><p>çœ‹åˆ°ç½‘ä¸Šå¾ˆå¤šäººéƒ½åœ¨ç”¨AIå¹²å¤§æ´»å„¿äº†ï¼Œæˆ‘ä¹Ÿå¼€å§‹æ“äº†ï¼Œvibe codingå¯¹æˆ‘è¿™ç§äººèœç˜¾å¤§çš„äººå¾ˆå‹å¥½ï¼Œè‡ªå·±æ‡’å¾—å†™å°±äº¤ç»™AIå†™ã€‚</p>
<p><a href="https://github.com/est/def.est.im/commits/master/?until=2013-02-01">13å¹´å‰</a>å°±æœ‰ä¸€ä¸ªæƒ³æ³•ï¼Œåšä¸€ä¸ªåœ¨çº¿è¯å…¸ã€‚é‚£ä¸ªæ—¶å€™è¿˜æ‰“ç®—ç™½å«– RedHat å…è´¹çš„OpenShiftã€‚</p>
<p>ä¸ºä»€ä¹ˆè¦åšåœ¨çº¿è¯å…¸å‘¢ï¼Ÿå½“æ—¶æ˜¯çœ¼çº¢ Google Dictionary è§‰å¾—å®ƒä»€ä¹ˆéƒ½å¥½ã€‚ä½†å°±æ˜¯éœ€è¦ç¿»å¢™ï¼Œè€Œä¸”æœ‰ä¸€å®šå‡ ç‡æŸ¥ä¸å‡ºæ¥ï¼Œæ‰€ä»¥æƒ³åšä¸ªé•œåƒæŠŠå®ƒå¸¸ç”¨è¯éƒ½æ‹‰ä¸‹æ¥å­˜èµ·æ¥ã€‚</p>
<p>å½“ç„¶è¿™ä¸ªæƒ³æ³•æ— å¯äº‰è®®çš„çƒ‚å°¾äº†ã€‚</p>
<p>ä¸€ç›´åˆ°2023å¹´ï¼ŒChatGPTå‡ºæ¥ä¹‹åï¼Œå‘ç°å¤§è¯­è¨€æ¨¡å‹è¿™ç©æ„å¤–è¯­å¤©æ‰å•Šï¼Œç”¨æ¥å†™è¯å…¸å†å¥½ä¸è¿‡äº†ã€‚</p>
<p>è¯´èµ·æ¥ï¼Œè‹±è¯­çš„ Dictionary å®é™…å‡ºç°æ—¶é—´å¾ˆæ™šï¼Œæ¯”ã€Šæ°¸ä¹å¤§å…¸ã€‹éƒ½æ™šäº†å®ƒå¦ˆçš„è‡³å°‘200å¤šå¹´ï¼Œå› ä¸ºè‹±è¯­ä½œä¸ºä¸€ä¸ªæ‹¼éŸ³è¯­è¨€ä¹¦å†™ç»Ÿä¸€ï¼ˆæ­£å­—æ³•ï¼‰éƒ½æ˜¯å¾ˆè¿‘ä»£çš„æ—¶å€™æ‰è¢«è¡Œæ”¿åŠ›é‡æ¨è¡Œçš„ã€‚è‹±è¯­åœ¨å¤§éƒ¨åˆ†æ—¶é—´é‡Œéƒ½æ˜¯è¢«æ—¥è€³æ›¼è›®å­å’Œé«˜å¢è›®å­çœ‹ä¸èµ·çš„ä¸€ä¸ªå°å²›å£éŸ³ã€‚</p>
<p>è‹±è¯­è¯å…¸çš„å‘æ˜ï¼Œæ˜¯ä½œä¸ºä¹¡ç»…å’Œå­¦è€…éšæ‰‹ä¸€æŸ¥æ‹¿æ¥è£…é€¼çš„ï¼Œå¹¶ä¸æ˜¯ç»™åˆå­¦è€…ã€å¤–è¯­å­¦ä¹ è€…ã€ç‰¹åˆ«æ˜¯ä¸­æ–‡èƒŒæ™¯çš„ESLå­¦ç”Ÿè®¾è®¡çš„</p>
<p>è¯å…¸è¢«å½“æˆã€Œè¯­æ³•ç¿»è¯‘æ³•ã€çš„æ ¸å¿ƒå·¥å…·ï¼Œå…¶æ ¹æœ¬åŸå› æ˜¯å°æ¬§è¯­ç³»çš„è¯­æ³•ã€è¯æºéƒ½èƒ½æ‰¾åˆ°å…±é€šçš„è”ç³»ã€‚è€Œè¿™ä¸€å¥—å·¥å…·æœ¬æ¥æ˜¯è´µæ—ç”¨æ¥è®­ç»ƒè‡ªå·±çš„ç»§æ‰¿å­å¥³å»å­¦ä¹ å¤å¸Œè…Šè¯­å’Œæ‹‰ä¸è¯­ç”¨çš„ã€‚</p>
<p>å½“è®²æ±‰è¯å†™ä¸­æ–‡èƒŒæ™¯çš„å®¶é•¿ã€è€å¸ˆç»™å¨ƒè®²è‹±è¯­çš„æ—¶å€™ï¼Œå°±ä¼šé‡åˆ°å„ç§å›°éš¾æˆ–è€…çŠ¯å„ç§å•¼ç¬‘çš†éçš„ç¬‘è¯ã€‚</p>
<p>æ‰€ä»¥æƒ³èµ·æ¥é€šè¿‡ ChatGPT å’Œç±»ä¼¼æŠ€æœ¯åšä¸€å¥—ã€Œè‹±è¯­ã€ã€‚å½“æ—¶æˆ‘åˆ—ä¸¾çš„æ„¿æ™¯æœ‰ï¼š</p>
<ul>
<li>è¿™ä¸ªè¯è¯­ç”¨å¾—å¤šä¸å¤šï¼Œæ˜¯ä¸æ˜¯å¾ˆåé—¨ã€å†·é—¨è¿˜æ˜¯å¸¸ç”¨è¯ã€çƒ­è¯ã€å¿…èƒŒè¯ã€é«˜é¢‘è¯</li>
<li>æœ€å…¸å‹çš„åœºæ™¯ä¸‹ï¼Œå…·ä½“æ”¾åœ¨å¥å­çš„å“ªä¸ªåœ°æ–¹</li>
<li>ä»€ä¹ˆæ—¶å€™å‡ºç°çš„è¿™ä¸ªè¯è¯­ï¼Œæœ€æ—©ä»€ä¹ˆæ„æ€ï¼Œåˆå› ä¸ºä»€ä¹ˆæ¸Šæºæ¼”å˜æˆäº†ç°åœ¨çš„åˆ«çš„æ„æ€</li>
<li>æ˜¯ä¸æ˜¯ç”¨è¿™ä¸ªè¯æ±‡æ˜¯éª‚äººçš„ã€å¾—ç½ªæŸä¸ªç¾¤ä½“çš„ï¼Œæ˜¯å¦éœ€è¦å¿Œè®³</li>
<li>å®Œæ•´åˆ—ä¸¾å‡ºæ‰€æœ‰ conjugation å’Œ declension å¹¶ä¸”é˜è¿°å’Œè¯´æ˜ï¼Œçªå‡ºçš„å°±æ˜¯ä¸€ä¸ªå±ˆæŠ˜è¯­çš„è¯˜å±ˆè±ç‰™ã€‚</li>
<li>ä¸æ‹˜æ³¥äºå•ä¸ªã€Œè¯ã€ï¼Œå›ºå®šæ­é…ç»„åˆä¹Ÿç›´æ¥å½“æˆå•è¯æ”¶å½•ç”¨äºè®°å¿†ã€‚</li>
</ul>
<p>ç‰¹åˆ«æ˜¯ç¬¬äº”ç‚¹ï¼Œè¿‡å»çš„è¯å…¸å› ä¸ºå°åˆ·å’Œç¼–è¾‘æˆæœ¬å¾ˆå°‘è¿™æ ·åšï¼Œç°åœ¨ç”µå­äº§å“å®Œå…¨æœ‰èƒ½åŠ›ç”Ÿæˆå’Œéå†æ‰€æœ‰æ’åˆ—ç»„åˆã€‚</p>
<p>çªç ´ã€Œè¯å…¸ã€çš„å›ºæœ‰å½¢æ€ï¼Œåšä¸€ä¸ªã€Œè‹±è¯­ã€çš„è¯´æ˜ä¹¦</p>
<p>å¼€å§‹æ“è¿™ä¸ªè¯å…¸ï¼Œæˆ‘ä¹Ÿçœ‹äº†ä¸‹å…¶ä»–åœ¨çº¿è¯å…¸çš„é—®é¢˜ï¼š</p>
<ul>
<li>Oxford English Dictionary æ”¶è´¹ã€‚æ»š</li>
<li>merriam-webster ç”¨é«˜çº§è¯æ±‡è§£é‡Šç®€å•è¯æ±‡ã€‚éœ€è¦thesauruså’Œdictionaryåˆå¹¶åˆ°ä¸€ä¸ªç•Œé¢</li>
<li>cambridge å¯ä»¥ï¼Œå°±æ˜¯æ’ç‰ˆå­—ä½“ç•¥ä¹±</li>
<li>collins æœ€é€‚åˆ</li>
<li>onelook éœ€è¦ç‚¹ä¸¤ä¸‹</li>
<li>websters1913 æœ€ç¾ã€‚é€‚åˆå‡­æ„Ÿè§‰å­¦ä¹ ã€‚æŠ›å¼€ä¸€åˆ‡è¯­æ³•å’Œæ„è¯é€ å¥ï¼Œçº¯ç²¹ä½“ä¼šè¯ä¹‰ä¹‹å¦™ä»¥åŠå¦‚ä½•è¿ç”¨</li>
<li>wordreference æœ€ç®€å•æ˜äº†ã€‚æ¯”å¦‚ inspire [sb] == awaken [sb]'s creative ideas æ¯”ä¸€ä¸ª [T] (transitive) ç¬¦å·æ›´å®¹æ˜“ç†è§£å¾—å¤š</li>
</ul>
<p>æ“çš„æ—¶å€™ä¹Ÿé™†é™†ç»­ç»­è§£å†³äº†ä¸€äº›å§‹æ–™æœªåŠçš„é—®é¢˜ï¼š</p>
<ol>
<li>LLMä¸­è½¬ç«™é€‰å“ªå®¶ï¼Ÿopenrouter å…¶å®è´µå’Œå¡</li>
<li>å¾ˆå¤šLLMä¸­è½¬ç«™è¿ CORS é—®é¢˜éƒ½æ‡’å¾—å¤„ç†ã€‚æ¯æ¬¡è¯·æ±‚å…¶å®éƒ½è¦ preflight ä¸€ä¸‹ã€‚ä½ æ˜æ˜åŠ ä¸€ä¸ª Access-Control-Allow-Origin å°±è§£å†³å¤§é—®é¢˜</li>
</ol>
<p>æœ¬æ¥æƒ³ä¸€ä¸ªé™æ€é¡µé¢ .html æ”¾åœ¨ Github Pages ä¸‡äº‹ï¼Œç»“æœæ“äº†ä¸€å¥—miniåç«¯ã€‚</p>
<p>æœ€åæˆæœæ”¾åœ¨ <a href="https://def.est.im/">https://def.est.im/</a> ã€‚è¿˜æœ‰å¾ˆå¤šå¾…å®Œå–„ã€‚å½“å‰ç‰ˆæœ¬æˆ‘æ»¡æ„çš„å°±æ˜¯åœ¨å•ç‹¬çš„é‡Šä¹‰ä¸‹é¢æ”¾äº† åŒä¹‰è¯ åä¹‰è¯ï¼Œæ¯”æ··åœ¨ä¸€èµ·æ–¹ä¾¿æ¸…æ™°å¾—å¤šã€‚</p>
<p>ä»¥å‰çº¸è´¨çš„è¯å…¸æŠŠå¤§æ®µæ„æ€æ··æ‚åœ¨ä¸€èµ·æ’ç‰ˆï¼Œå„ç§ç¼©å†™ä»£ç äººçœ‹äº†éƒ½å¤´å¤§ï¼ŒWebæ—¶ä»£å°±åº”è¯¥æœ‰æ›´æ¸…æ™°çš„æ’ç‰ˆã€‚ï¼ˆè™½ç„¶æˆ‘ç°åœ¨çš„æ’ç‰ˆä¹Ÿå¾ˆæ¬ ç¼ºï¼‰</p></p>
            <div class="card-subtext muted-text">
              <p>Posted <time datetime="2025-10-18T21:47:00+08:00">2025-10-18</time></p>
<p>stdout</p>            </div>
          </article>
        </div>


        <!-- new article -->
        <div class="card blog-card">
          <article class="card-body">
            <a href="/2025/stdout-11"  rel="bookmark" >
              <h2 class="card-title">å†ä¹Ÿä¸æ„ favicon äº†ï¼Œç›´æ¥ inline SVG</h2>
            </a>
            <p class="card-text"><p>æ¯æ¬¡åœ¨ä¸€ä¸ªç½‘é¡µé‡Œï¼Œ F12 æˆ– Cmd+Opt+I æœ€ç—›è‹¦çš„æ˜¯ä»€ä¹ˆï¼Ÿ</p>
<blockquote>
<p>/favicon.ico:1   GET favicon.ico 404 (Not Found)</p>
</blockquote>
<p>ç®€ç›´é€¼æ­»å¼ºè¿«ç—‡ï½å‰æ®µæ—¶é—´æŠ˜è…¾SVGï¼Œè§‰å¾—ç”¨ xml å†™ä¸€ç»„ favicon.svg æˆ–è®¸ä¸é”™ã€‚ä»Šå¤©æ’¸AIå®ƒä¸«çš„ç›´æ¥ç»™æˆ‘ä¸ªæœ€ç²—æš´ç®€å•çš„ï¼š</p>
<pre><code class="language-html">&lt;link rel=&quot;icon&quot; href=&quot;data:image/svg+xml,&lt;svg xmlns='http://w3.org/2000/svg' viewBox='0 0 19 19'&gt;&lt;text y=16&gt;ğŸ¤£&lt;/text&gt;&lt;/svg&gt;&quot;&gt;
</code></pre>
<p>é¢„è§ˆä¸€ä¸‹è¿™ä¸ªSVGï¼š</p>
<div style="display:block;width:128px;height:128px">
  <svg xmlns='http://w3.org/2000/svg' viewBox='0 0 19 19'><text y=16>ğŸ¤£</text></svg>
</div>

<p>ç²¾ç®€çš„åœ°æ–¹ï¼š<br />
1. www.w3.org å»æ‰ www<br />
2. y=16å»æ‰å¼•å·<br />
3. viewBox ä¸º19è€Œ y=16 æ˜¯å› ä¸ºè¯¥æ­»çš„æ‹‰ä¸å­—æ¯æ˜¾ç¤ºæœ‰ä¸ª baseline é—®é¢˜ã€‚éšä¾¿è°ƒæ•´ä¸‹æ‡’å¾—ç®¡äº†ã€‚<br />
4. èŠ‚çº¦äº† font-size="16" å› ä¸º é»˜è®¤å°±16px</p>
<p>ç›´æ¥ç”¨ emoji ä½œä¸º faviconã€‚æˆ‘è´´è¿™ä¸ªç‰ˆæœ¬åº”è¯¥æ˜¯å…¨ç½‘æœ€ç²¾ç®€æœ€æ˜“è¯»çš„ï¼ŒæŒ‘æˆ˜æœ‰æ²¡æœ‰å¤§ç¥èƒ½è¿›ä¸€æ­¥ç¼©çŸ­è¿™ä¸ª favicon å†™æ³•ã€‚</p></p>
            <div class="card-subtext muted-text">
              <p>Posted <time datetime="2025-10-18T21:35:00+08:00">2025-10-18</time></p>
<p>stdout</p>            </div>
          </article>
        </div>


        <!-- new article -->
        <div class="card blog-card">
          <article class="card-body">
            <a href="/2025/stdout-10"  rel="bookmark" >
              <h2 class="card-title">gzip ç‚¸å¼¹æ£€æµ‹</h2>
            </a>
            <p class="card-text"><p>å›½å†…å¾ˆå¤šäººè¯´<a href="https://zhuanlan.zhihu.com/p/502265250">ä¸¤å¥è¯å°±èƒ½æ£€æµ‹ gzip ç‚¸å¼¹</a>ï¼Œæˆ‘ç¿»äº†ä¸€ä¸‹å¤§æ¦‚æ˜¯è¿™æ ·</p>
<pre><code class="language-python">import gzip
import io
import requests
resp = requests.get(url, stream=True)

decompressed = resp.raw.read()
with gzip.open(io.BytesIO(decompressed), 'rb') as g:
    g.seek(0, 2)
    origin_size = g.tell()
    print(origin_size)
</code></pre>
<p>è·Ÿ <code>gzip -l xxx.gz</code> ç±»ä¼¼ï¼ŒåŸç†æ˜¯gzipæ ¼å¼åœ¨å°¾éƒ¨8å­—èŠ‚ä¿å­˜äº† <code>[CRC32][ISIZE]</code>ï¼Œå…¶ä¸­ ISIZE = uncompressed_length % 2Â³Â²</p>
<p>è¦ååˆ¶è¿™ä¸ªæ£€æµ‹å¾ˆeasyå˜›ï¼Œç›´æ¥è¿”å› <code>Content-Encoding: deflate</code> ä¸å°±è¡Œäº†ï¼Ÿ</p>
<p>å†µä¸”ï¼Œæˆ‘æœäº†ä¸‹ï¼ŒISIZEæ˜¯å¯ä»¥æ”¹çš„ã€‚ã€‚ã€‚æ‰€ä»¥æ›´å¥½çš„åŠæ³•æ˜¯ï¼š</p>
<pre><code class="language-python">import zlib

MAX_OUTPUT = 50 * 1024 * 1024  # 50 MB cap

def safe_decompress_gzip_stream(compressed_iterable):
    # compressed_iterable yields bytes chunks from incoming request body
    d = zlib.decompressobj(16 + zlib.MAX_WBITS)  # 16+ for gzip wrapper
    total_out = 0
    for chunk in compressed_iterable:
        out = d.decompress(chunk, 64*1024)  # limit per-call output
        total_out += len(out)
        if total_out &gt; MAX_OUTPUT:
            raise ValueError(&quot;Exceeded decompression limit&quot;)
        yield out
    # flush remaining
    out = d.flush()
    total_out += len(out)
    if total_out &gt; MAX_OUTPUT:
        raise ValueError(&quot;Exceeded decompression limit&quot;)
    if out:
        yield out
</code></pre>
<p>ç»ˆå½’æ¥è¯´ï¼Œgzipç‚¸çš„éƒ½æ˜¯å†…å­˜ã€‚æˆ‘åœ¨æƒ³ï¼Œèƒ½ä¸èƒ½åˆ©ç”¨LZ77åå¤æ¨ªè·³ï¼Œåšä¸€ä¸ªCPUç‚¸å¼¹å‘¢ï¼Ÿ</p>
<p>æ¯”å¦‚è§£å‹ä¸ªåŠå¤©ï¼Œå‘ç°ç»“æœæ˜¯ä¸ª 1KB çš„å°æ–‡ä»¶ï¼Ÿå‹ç¼©ç‡é«˜è¾¾ 114514%  ï¼Ÿ</p>
<p>ChatGPT å±…ç„¶æ‹’ç»å›ç­”äº†ã€‚ä½†æ˜¯æŒ‡äº†ä¸ªè·¯ï¼š</p>
<blockquote>
<p>Many tiny dynamic-Huffman blocks so the decoder rebuilds trees repeatedly (parsing overhead per block).<br />
Constructing distance/length sequences that cause a lot of back-reference copying (expensive repeated copies, especially with overlapping distances).<br />
Interleaving short literal runs with copies to create branch-heavy decode work.<br />
Using many concatenated members/streams (or nested archives) to multiply cost.</p>
</blockquote>
<p>OpenAI çœŸçŒ¥çå•Šã€‚</p></p>
            <div class="card-subtext muted-text">
              <p>Posted <time datetime="2025-10-11T15:23:00+08:00">2025-10-11</time></p>
<p>stdout</p>            </div>
          </article>
        </div>


        <!-- new article -->
        <div class="card blog-card">
          <article class="card-body">
            <a href="/2025/stdout-09"  rel="bookmark" >
              <h2 class="card-title">Fix WestData SN550/SN570 SSD slow read problem</h2>
            </a>
            <p class="card-text"><p>I had a painful slow game load experience during the past few days. In the beginning, I tried everything I can to tweak the Win10 system, cleanup the PC box, but the disk IO was always pegging at 2MB/s to 5MB/s at taskmgr.exe.</p>
<p>The real culprit? The WD ssd I bought some years ago. Turns out if the data was old enough, the firmware had real trouble recognizing the volatile bits and throttles the throughput.</p>
<p>The fix? read the file again and write them back. Since my disk is almost full (another reason here), a inline replace would be prefered.</p>
<p>I spent next few hours vibe coding an HTML5 utility</p>
<p><a href="https://lab.est.im/ssd-warmup/">https://lab.est.im/ssd-warmup/</a></p>
<p>The code works as intended, however the File System API in Javascript writes a .crswap file instead of the original. <br />
It's a <a href="https://issues.chromium.org/issues/40777458">Chromium thing</a> thus makes the JS method completely useless.</p>
<p>I wrote a Python version instead.</p>
<p><a href="https://github.com/est/snippets/blob/master/ssd-warmup/ssd_warmup.py">https://github.com/est/snippets/blob/master/ssd-warmup/ssd_warmup.py</a></p>
<p>The AI wrote code using <code>os.path.walk</code> and I changed it with <code>pathlib.Path</code>, which was more pleasant with its <code>rglob</code> method.</p>
<p>You can try it:</p>
<p><code>python ssd_warmup.py /path/to/fix/</code></p>
<p>The lesson learned: Don't buy Sandick or WestData. At least the low-end ones.</p></p>
            <div class="card-subtext muted-text">
              <p>Posted <time datetime="2025-10-09T10:30:00+08:00">2025-10-09</time></p>
<p>stdout</p>            </div>
          </article>
        </div>


        <!-- new article -->
        <div class="card blog-card">
          <article class="card-body">
            <a href="/2025/stdout-08"  rel="bookmark" >
              <h2 class="card-title">xHTML5</h2>
            </a>
            <p class="card-text"><p>æœ‰ ChatGPTå­¦å§¿åŠ¿å°±æ˜¯å¿«</p>
<pre><code class="language-html">&lt;!DOCTYPE html [
  &lt;!ENTITY myEntity &quot;Hello World&quot;&gt;
  &lt;!ENTITY wow &quot;alert('hi')&quot;&gt;
]&gt;
&lt;html xmlns=&quot;http://www.w3.org/1999/xhtml&quot;&gt;
&lt;body&gt;
  &amp;myEntity;
  &lt;script&gt;
    &amp;wow;
  &lt;/script&gt;

&lt;/body&gt;
&lt;/html&gt;
</code></pre>
<p>ä¿å­˜åˆ°æœ¬åœ° 1.xhtmlï¼ŒåŒå‡»æµè§ˆå™¨æ‰“å¼€ã€‚è°èƒ½æƒ³åˆ°è¿™ä¹Ÿè¡Œï¼Ÿxml entity è¿˜å¯ä»¥è¿™æ ·ç©ï¼Ÿ</p>
<p>åªè¦MIMEä¸º <code>application/xhtml+xml</code> å°±å¯ä»¥æŠŠHTML5å½“XMLæ¸²æŸ“ã€‚</p>
<p>éƒ¨ç½²äº†ä¸ªåœ¨çº¿demoï¼š <a href="https://lab.est.im/svg/entity.xhtml">https://lab.est.im/svg/entity.xhtml</a></p>
<p>ä¸æ•¢ç›¸ä¿¡è‡ªå·±çœ¼ç›ï¼Œç¡®è®¤ä¸‹æ˜¯HTML5:</p>
<ul>
<li><code>document.compatMode</code> è¿”å› <code>CSS1Compat</code> æ²¡é—®é¢˜</li>
<li><code>ocument.doctype</code> è¿”å› <code>&lt;!DOCTYPE html&gt;</code> æ²¡æ¯›ç—…</li>
</ul>
<p>å¦‚æœæ˜¯è€çš„å…¼å®¹æ¨¡å¼ï¼š</p>
<ul>
<li><code>document.compatMode</code> ä¸º <code>BackCompat</code></li>
<li><code>document.doctype.publicId</code> ä¸º <code>-//W3C//DTD HTML 4.01//EN</code></li>
<li><code>document.doctype.systemId</code> ä¸º <code>http://www.w3.org/TR/html4/strict.dtd</code></li>
</ul>
<p>æ€è·¯æ‰“å¼€äº†ã€‚å“ˆå“ˆ</p></p>
            <div class="card-subtext muted-text">
              <p>Posted <time datetime="2025-09-15T00:12:00+08:00">2025-09-15</time></p>
<p>stdout</p>            </div>
          </article>
        </div>


        <!-- new article -->
        <div class="card blog-card">
          <article class="card-body">
            <a href="/2025/stdout-07"  rel="bookmark" >
              <h2 class="card-title">disquså·²å¸è½½ï¼Œæ‰‹æ“äº†å¥—blogè¯„è®ºç³»ç»Ÿ - req4cmt</h2>
            </a>
            <p class="card-text"><p>ä¸€ç›´ç”¨ disqus ä¸»è¦æ˜¯è§‰å¾—æ–¹ä¾¿ï¼ˆæ‡’ï¼‰ã€‚ä½†æ˜¯è‡ªä»è¢«å¢™äº†å°±å¾ˆä¸æ–¹ä¾¿äº†ã€‚åŠ ä¸Šè¿‘æœŸå¼€å§‹å¼ºåˆ¶æ’å…¥å¹¿å‘Šï¼Œå°±æ›´è®¨åŒäº†</p>
<p>æƒ³æ‰¾ä¸ªæ›¿ä»£å“ï¼Œå¾ˆå¤šåŸºäº github çš„ï¼Œåœ¨ issue ç›–æ¥¼ï¼Œæˆ‘è§‰å¾—ä¸æ–¹ä¾¿å¤‡ä»½ï¼Œå¸Œæœ›æ˜¯èƒ½ç›´æ¥å†™å…¥ repoçš„ã€‚è¿™æ ·ä¸€ä¸ª git clone å°±æ¬å®¶äº†ã€‚æ›´ä¸ç”¨è¯´å‡ ä¹éƒ½æ˜¯åŸºäº OAuth çš„ github ç™»å½•å®é™…ä¸Šèƒ½æ‹¿åˆ°ä½ æ‰€æœ‰ <code>repo</code> çš„ scopeï¼Œä¹Ÿå°±æ˜¯èƒ½è¯»å†™ä½ æ‰€æœ‰å…¬å¼€ï¼ˆç”šè‡³ç§æœ‰ï¼‰ä»“åº“å†…å®¹ã€‚æˆ‘ä¸€èˆ¬éƒ½ä¸ç‚¹</p>
<p>äºæ˜¯å†³å®šæ‰‹æ“ä¸€ä¸ªã€‚</p>
<p>é¦–å…ˆè€ƒè™‘çš„å°±æ˜¯å¦‚ä½•æŠŠå†…å®¹å†™å…¥ git repoã€‚è¿™ä¸ªåœ¨åš <a href="https://blog.est.im/2025/stdout-05">gitweets</a> å·²ç»è°ƒç ”å°è¯•è¿‡äº†ã€‚</p>
<p>æœ¬ç€åœ¨ cloudflare worker ç™½å«–çš„å¿ƒæ€ï¼Œè¿™ç§ serverless çš„ç¯å¢ƒè‚¯å®šä¸å…è®¸è£… git å‘½ä»¤è¡Œæˆ–è€… libgit è¿™ç§ .soï¼Œæ‰€ä»¥è€ƒè™‘ pure python çš„ <a href="https://github.com/jelmer/dulwich">dulwich</a>ã€‚æŠ˜è…¾äº†ä¸€ä¸‹ python binding å‘ç°CFå±…ç„¶æ˜¯ä¸ªWASMè½¬è¯‘ã€‚é‚£è¿˜ä¸å¦‚jsã€‚è¿˜å¥½nodejsç”Ÿæ€ä¹Ÿå¾ˆä¸°å¯Œï¼Œæœ‰ä¸ªçº¯jsçš„å®ç° <a href="https://isomorphic-git.org/">isomorphic-git</a> ã€‚</p>
<p>ç„¶åæ‰‹æ“äº†ä¸€ä¸‹å‘ç°éœ€è¦ä¸ª memfs åœ¨å†…å­˜é‡Œæ¨¡æ‹Ÿæ–‡ä»¶IOã€‚</p>
<p>å…¶æ¬¡æ˜¯å¦‚ä½•è¯»å–å†…å®¹ï¼Œè¯„è®ºåˆ—è¡¨ä»¥ <code>åŸŸå/è·¯å¾„.jsonl</code> æ ¼å¼ä¿å­˜ä¸ºçº¯æ–‡æœ¬ï¼Œä¸€è¡Œä¸€æ¡è¯„è®ºJSONï¼Œæ–¹ä¾¿diffã€‚å°†æ¥å¯ä»¥åšæˆ pull request å½“æˆ moderation</p>
<p>æœ¬æ¥æƒ³é€šè¿‡ git-http æ¥è¯»æ–‡ä»¶ï¼Œå‘ç°å¤ªæ…¢äº†ã€‚å¹²è„†èµ°æ·å¾„ç›´æ¥åä»£ <code>https://raw.githubusercontent.com/</code> å°±è¡Œã€‚æœ¬æ¥ä¹Ÿä¸ç”¨åä»£ï¼Œä¸€æ˜¯è¿™ä¸ªåŸŸåè¢«DNSå±è”½ï¼ŒäºŒæ˜¯åŠ ä¸€ä¸ªè¯¥æ­»çš„CORSå¤´æ‰èƒ½è·¨åŸŸã€‚</p>
<p>è·‘é€šä¹‹åæ¥ç€å°±æ¨¡ä»¿disquså®ç°é¡µé¢ä¸€æ®µ.jsåµŒå…¥ï¼Œæ¸²æŸ“è¡¨å•ï¼Œå±•ç¤ºè¯„è®ºåˆ—è¡¨ç­‰ç­‰ï¼Œæˆ‘çš„ js/css å®åœ¨æ‰æ€¥å°±æ“äº†å¥—æœ€åŸºç¡€çš„ã€‚</p>
<p>èƒ½ç”¨å°±è¡Œï¼</p>
<p>é˜²æ­¢spamè¿™æ–¹é¢ä¹Ÿæ²¡å¤šæƒ³ï¼Œçœ‹å¾ˆå¤šäººè¯´åš hidden input å°±èƒ½æ‹¦ä½ç»å¤§éƒ¨åˆ†ï¼Œé‚£å°±å…ˆè¿™æ ·è·‘ç€ã€‚é™¤äº†è¯„è®ºæ¡†è¿™ä¸ª <code>textarea</code> ç”šè‡³åå­—éƒ½æ˜¯é€‰å¡«</p>
<p>å°½å¯èƒ½åšå…¼å®¹ï¼Œè®©åœ¨æ²¡æœ‰ .js çš„æƒ…å†µä¸‹ä¹Ÿèƒ½æäº¤è¡¨å•ã€‚å½“ç„¶å¾—åœ¨åµŒå…¥é¡µé¢çš„æ—¶å€™å¼„ <code>&lt;noscript&gt;</code></p>
<p>è¯¥é¡¹ç›®ä¸¥é‡ä¾èµ– cloudflare å’Œ github ä¸¤ä½èµ›åšè©è¨çš„å…è´¹é¢åº¦ï¼Œæ‰€ä»¥è¯·æ±‚è¿‡å¤šä¼šè¢«æ§é¢‘ã€‚å®åœ¨ä¸è¡Œå¼„ä¸ªKVé˜Ÿåˆ—ä¹‹ç±»çš„ã€‚ä½†æ˜¯æˆ‘è¿™åšå®¢è¿™ä¹ˆå†·æ¸…ï¼Œå¤šè™‘äº†ï¼Ÿ</p>
<p>æœ€åï¼ŒæŠŠ disqus è€çš„è¯„è®ºéƒ½å¯¼å‡ºæ¥äº†ã€‚æ¯•ç«Ÿæ˜¯å¤šå¹´çš„å›å¿†ã€‚</p>
<p>é¡¹ç›®æ”¾åœ¨ <a href="https://github.com/est/req4cmt">https://github.com/est/req4cmt</a> æ¬¢è¿ç‚¹è¯„ã€‚</p></p>
            <div class="card-subtext muted-text">
              <p>Posted <time datetime="2025-09-10T22:38:00+08:00">2025-09-10</time></p>
<p>stdout</p>            </div>
          </article>
        </div>


        <!-- new article -->
        <div class="card blog-card">
          <article class="card-body">
            <a href="/2025/stdout-06"  rel="bookmark" >
              <h2 class="card-title">æŠ—æ—¥</h2>
            </a>
            <p class="card-text"><p>çœ‹å®Œé˜…å…µå¼ç›´æ’­ï¼Œè®°å½•ä¸€äº›æœ€è¿‘å‡ å¹´æ‰äº†è§£åˆ°çš„æŠ—æˆ˜ç»†èŠ‚ï¼š</p>
<ul>
<li><code>1941å¹´4æœˆ13æ—¥</code>ï¼Œè‹è”æ‰¿è®¤ä¼ªæ»¡æ´²å›½</li>
<li><code>1945å¹´2æœˆ08æ—¥</code>ï¼Œé›…å°”å¡”ä¼šè®®ï¼Œç½—æ–¯ç¦åŒæ„æ–¯å¤§æ—ï¼Œä¿éšœå¤§è¿æ¸¯ã€ä¸­ä¸œé“è·¯ã€å—æ»¡é“è·¯çš„åˆ©ç›Šï¼Œä»¥åŠæ¢å¤ä¿„ç½—æ–¯æµ·å†›åœ¨æ—…é¡ºå£çš„ç§Ÿèµ  <br />
<img alt="Yalta Conference" src="https://upload.wikimedia.org/wikipedia/commons/thumb/d/d2/Yalta_summit_1945_with_Churchill%2C_Roosevelt%2C_Stalin.jpg/330px-Yalta_summit_1945_with_Churchill%2C_Roosevelt%2C_Stalin.jpg" /><br />
-<code>1945å¹´6æœˆ24æ—¥</code>ï¼Œè‹è”åœ¨è«æ–¯ç§‘çº¢åœºä¸¾è¡Œã€Œä¼Ÿå¤§çš„å«å›½æˆ˜äº‰ã€èƒœåˆ©é˜…å…µä»ªå¼ï¼ŒğŸ‡¯ğŸ‡µå¸å›½é™†å†›æ­¦å®˜<code>çŸ¢éƒ¨å¿ å¤ª</code>ï¼Œå¸å›½æµ·å†›æ­¦å®˜ <code>è‡¼äº•æ·‘éƒ</code>ä½œä¸ºå˜‰å®¾å—é‚€åˆ—å¸­æ£€é˜…çº¢å†›ã€‚<br />
<img alt="" src="https://q0.itc.cn/q_70/images03/20250318/21d1f83e535a4d338b7ef9e4b51614b3.jpeg" /></li>
</ul>
<p><img referrerpolicy="no-referrer" width="600" src="http://i0.hdslb.com/bfs/new_dyn/343e8081690f82fefdc150af38c222f3518085624.jpg" /><br />
- <code>1945å¹´8æœˆ06æ—¥</code>ï¼Œç¾å†›ç”¨ã€ŒLittle Boyã€æ ¸å¹³å¹¿å²›<br />
- <code>1945å¹´8æœˆ08æ—¥</code>ï¼Œè‹è”æ’•æ¯ ã€Šè‹æ—¥ä¸­ç«‹æ¡çº¦ã€‹å‘ğŸ‡¯ğŸ‡µå®£æˆ˜<br />
- <code>1945å¹´8æœˆ09æ—¥</code>ï¼Œç¾å†›ç”¨ã€ŒFat Manã€æ ¸å¹³é•¿å´<br />
- <code>1945å¹´9æœˆ02æ—¥</code>ï¼ŒğŸ‡¯ğŸ‡µåœ¨ä¸œäº¬æ¹¾ã€ŒUSS Missouriã€æˆ˜åˆ—èˆ°ä¸Šå‘ç›Ÿå†›æŠ•é™<br />
- <code>1955å¹´5æœˆ26æ—¥</code>ï¼Œ12ä¸‡è‹å†›çš„æœ€åä¸€æ‰¹æ’¤ç¦»æ—…é¡ºã€å¤§è¿ã€‚è‡³æ­¤å¤§é™†å¤–å›½é©»å†›æ¸…é›¶ã€‚</p>
<p>ä¸œåŒ—å°±æ˜¯ä¸œäºšçš„æ³¢å…°ï¼Ÿ</p></p>
            <div class="card-subtext muted-text">
              <p>Posted <time datetime="2025-09-03T11:34:00+08:00">2025-09-03</time></p>
<p>stdout</p>            </div>
          </article>
        </div>


        <!-- new article -->
        <div class="card blog-card">
          <article class="card-body">
            <a href="/2025/stdout-05"  rel="bookmark" >
              <h2 class="card-title">gitweetsï¼šå•htmlå®ç°ç‹¬ç«‹å¾®åšï¼Œæ‹¿gitå†å²å½“feedæµå‘æ¨</h2>
            </a>
            <p class="card-text"><p>twitteräº‰è®®ä¸æ–­æŒç»­å¤šå¹´ï¼Œå…ˆæ˜¯å„ç§ cancel culture é—¹å¾—åŠ¨é™å¾ˆå¤§ï¼Œè¢«ä¸€é¾™é©¬ä¹°äº†ä¹‹åæ›´ç”šï¼Œç¤¾åŒºåˆ†è£‚åˆ° mstdn nostr bskyæ”¯æµï¼Œå„ç§è¯é¢˜ç‚’ä¸Šå¤©ï¼Œåœ¨ä¼—å¤šæ›¿ä»£å“é‡Œï¼Œ2022å¹´çœ‹åˆ°ä¸ª<a href="https://twitter.com/bcrypt/status/1588416861552582657">æœ€åˆ«å…·ä¸€æ ¼</a>çš„ï¼š</p>
<p>æ‹¿ git å½“å¾®åšä½¿</p>
<ul>
<li>å‘æ¨ï¼š <code>git commit --allow-empty</code></li>
<li>åŠ å…³æ³¨ï¼š <code>git remote add &lt;alias&gt; &lt;their fork url&gt;</code></li>
<li>è½¬å‘ï¼š <code>git cherry-pick &lt;their "tweet"&gt;</code></li>
</ul>
<p>è„‘æ´å¤§å¼€ã€‚è€Œä¸”gitåŸºäºmerkle treeçš„ï¼Œp2p å†å²ä¸å¯ç¯¡æ”¹ï¼Œæœ‰web3é‚£å‘³äº†ã€‚</p>
<p>å½“æ—¶å°±é¥¶æœ‰å…´è¶£ï¼ŒæŒ–äº†ä¸ªå‘å‡†å¤‡æ“ä¸ªwebç•Œé¢ã€‚ä½†æ˜¯é™äºæ¶£æ•£çš„æ³¨æ„åŠ›ï¼Œä»¥åŠå¯¹cssè¿™ç§æŠ½è±¡æ’ç‰ˆç©ä¸è½¬ï¼Œä¸€ç›´æ‹–æ²“æ²¡åšå¥½ã€‚</p>
<p>å‘¨æœ«å¿ƒè¡€æ¥æ½®ï¼Œå¤–å¸¦ AI å·¥å…·åŠ æŒï¼Œè¿›å±•ç¥é€Ÿã€‚ç›®å‰å·²ç»åŸºæœ¬å¯ç”¨ã€‚</p>
<p>é¡¹ç›®å« gitweets ï¼Œæ„æ€æ˜¯ç”¨ git å‘ tweetsï¼Œç½‘å€åœ¨ <a href="https://f.est.im/">https://f.est.im/</a> ã€‚äºŒçº§åŸŸå <code>f</code> å³ <code>feed</code> ï¼Œ<code>f.est</code> ä¹Ÿå°±æ˜¯ fest è¡¨ç¤ºã€‚ã€‚ã€‚ ç››ä¼šçš„æ„æ€ã€‚ </p>
<h3>feature list</h3>
<ol>
<li>æŠŠä»»æ„ github repo æ¸²æŸ“æˆå¾®åš</li>
<li>ç»™ä»»æ„ github repo å‘æ¨ã€‚å…¶åŸç†æ˜¯ï¼Œé€šè¿‡REST APIæ–°å¢ä¸€æ¡ commit ã€‚</li>
<li><a href="https://f.est.im/est/e0d4c46445517ba52ceda06d788e09760aaccce5">å‘å›¾</a>ï¼å¦‚æœ commit message ä»¥å†’å·ç»“å°¾ï¼Œè€Œä¸”æ°å¥½ä¹Ÿåœ¨æœ¬æ¬¡æ–°å¢åŠ äº†ä½äº static ä¸‹é¢çš„å›¾ç‰‡æ–‡ä»¶ é‚£ä¹ˆä¼šå°è¯•å»åŠ è½½å›¾ç‰‡ä½œä¸ºé™„ä»¶æ¸²æŸ“</li>
<li>å†™ commit åŸºäº OAuth app å®ç°ã€‚æµè§ˆå™¨è®°å½• access_token åˆ° cookieï¼Œç†è®ºä¸Šå¯ç”¨ 8ä¸ªå°æ—¶ã€‚è¿‡æœŸé‡ç™»</li>
<li>å¦‚æœä½ çš„ commit æœ‰æ˜¯é€šè¿‡ <code>-S</code> å‚æ•°æäº¤å¸¦ç­¾å ï¼Œé‚£ä¹ˆå±•ç¤ºä¸ºè“è‰²è¡¨ç¤ºverified</li>
</ol>
<h3>è®°å½•ä¸€äº›å‘</h3>
<ol>
<li>OAuth app vs Github Appã€‚å‰è€…æ˜¯ä»£å®¢åšäº‹ï¼›åè€…æ˜¯ç‹¬ç«‹ä¸»ä½“å•ç‹¬è´¦å·ï¼Œç±»äººè¡Œä¸ºï¼Œå¤šç”¨äº CI/CD</li>
<li>OAuth app çš„ <code>scope</code> å¦‚æœæ˜¯ <code>repo</code> å¯ä»¥è¯»å†™ä½ æ‰€æœ‰ä»“åº“ä»£ç ï¼ŒåŒ…æ‹¬ç§æœ‰ä»“åº“ï¼ç½‘ä¸Šçš„å¾ˆå¤šåŸºäº github çš„ç¬¬ä¸‰æ–¹è¯„è®ºç³»ç»Ÿæœ‰è¿™ä¸ªéšæ‚£ï¼</li>
<li>æˆ‘è¿™é‡Œç”¨çš„æ˜¯ <code>public_repo</code>ï¼Œè¯»å†™æ‰€æœ‰å…¬å¼€ä»“åº“ã€‚æ¯•ç«Ÿ githubæ˜¯ä¸ªå¼€æºç¤¾åŒºï¼Œæ‹¿å…¬å¼€gitæ¥å½“feedä½¿ï¼Œè¦å®‰å…¨ä¸€äº›ã€‚</li>
<li>æ›´å®‰å…¨çš„åŠæ³•æ˜¯åªèƒ½è¯»å†™å•ä¸ªæŒ‡å®šçš„repoã€‚è¦å®ç°APIè¯»å†™gitï¼Œåœ¨githubæœ‰ä¸‹åˆ—å‡ ç§æ–¹æ³•ï¼š<ul>
<li>REST APIã€‚å¯ä»¥ç”¨ fine grained PAT è¯»å†™ä¸€ä¸ªrepo</li>
<li>GraphQL APIã€‚</li>
<li>git åè®®ã€‚èµ° <code>github.com:22</code> ç«¯å£ã€‚å¯ä»¥é‡‡ç”¨ deploy key æˆ–è€…ç§äººè´¦å· ssh key</li>
<li>git-httpã€‚èµ° <code>https://github.com:443</code></li>
</ul>
</li>
<li>Private Access Token ï¼ˆç¼©å†™ PATï¼‰ å¯ä»¥å®Œå…¨æ§åˆ¶ä¸ªäººæˆ–è€…å›¢é˜Ÿè´¦å·ï¼Œfine grained PAT å¯ä»¥åªæ§åˆ¶æŒ‡å®šçš„å‡ ä¸ªä»“åº“</li>
<li>deploy keyé»˜è®¤åªè¯»ï¼Œå¯ä»¥æ”¹æˆè¯»å†™ï¼Œä¸€åº“ä¸€ç”¨ï¼Œä¸èƒ½å¤ç”¨</li>
<li>REST API åˆ—ä¸¾ commits ä¸èƒ½è·å¾—å½“å‰ commit æ”¹äº†å“ªäº›æ–‡ä»¶ã€‚éœ€è¦é¢å¤–N+1æ¯ä¸ªcommitå†æ¬¡æŸ¥è¯¢è¯¦æƒ…ã€‚èƒŒåçš„åŸå› ä¼°è®¡æ˜¯ git å†…éƒ¨ ref å’Œ blob æ˜¯ä¸¥æ ¼åŒºåˆ†çš„ã€‚ç”šè‡³å¯èƒ½æ˜¯åˆ†å¼€å­˜çš„æ•°æ®åº“è¡¨</li>
<li>ç½‘ç«™æ˜¯è·‘åœ¨èµ›åšè©è¨ cloudflare worker ä¸Šçš„ã€‚è¿™ç§æ‰€è°“â€œserverlessâ€å¹³å°å¾ˆå¼ºå¤§äº†ã€‚åŠŸèƒ½é½å…¨æ²¡å•¥ç¼ºçš„ã€‚ç”šè‡³å¯ä»¥å‘èµ· tcp è¿æ¥ã€‚</li>
<li>æœ¬æ¥è®¡åˆ’èµ° git-ssh æˆ–è€… git-http åè®®ï¼Œæƒ³äº†ä¸‹jsæ“ä½œbinaryå¤ªå¤æ‚äº†ï¼Œå¼„ä¸ª libgit2 ä¹‹ç±»çš„åº“ä¼°è®¡å¾ˆé‡ã€‚è¿˜æ˜¯RESTæ–¹ä¾¿</li>
<li>REST API æ–°å¢ä¸€ä¸ª empty commit æœ‰å¤šå¤æ‚ï¼Ÿ 1. è·å¾—å½“å‰branch çš„ sha 2. è·å¾—è¯¥ sha çš„ tree 3. æ–°å¢ä¸€ä¸ª sha+tree çš„commit 4. æŠŠ ref æŒ‡å‘ç¬¬ä¸‰æ­¥çš„ sha ã€‚å•Šï¼Œå°±ä¸èƒ½ä¸€æ­¥å®Œæˆä¹ˆã€‚ä¸‹æ¬¡æœ‰æœºä¼šçœ‹çœ‹GraphQL èƒ½ä¸èƒ½ä¸€æ¬¡è°ƒç”¨å®Œæˆ</li>
<li>Github çš„API å¼ºåˆ¶è¦æ±‚ User-Agent ã€‚ä½ å¯ä»¥ä¹±å†™ä½†æ˜¯ä¸èƒ½æ²¡æœ‰</li>
<li>Github è™½ç„¶è¿”å›äº† <code>Access-Control-Allow-Origin: *</code>ï¼Œä½†æ˜¯ç°ä»£æµè§ˆå™¨ä»–å¦ˆçš„ä¸è®¤è¿™ä¸ª <code>*</code> ã€‚æ‰€ä»¥åœ¨æµè§ˆå™¨åªèƒ½åŒ¿åè°ƒç”¨ <code>GET</code> ï¼Œå¦‚æœ <code>POST</code>ï¼Œ <code>PATCH</code> å¸¦äº† <code>credentials: "include"</code> ç›´æ¥æ‹’ç»ã€‚ç½‘ç«™å¿…é¡»æ˜¾å¼æŒ‡å®šå…è®¸å“ªä¸ªå…·ä½“çš„ origin </li>
<li>cloudflareçš„ <code>Response.redirect('/')</code> ç›´æ¥æŒ‚æ‰ã€‚åŸæ¥æ˜¯ 3xx è·³è½¬ä¸å…è®¸ç›¸å¯¹è·¯å¾„ã€‚</li>
</ol>
<h3>whyï¼Ÿ</h3>
<p>ç”±äºä¹ æƒ¯ï¼Œå¤æ³•å†™webï¼Œä¸€ä¸ªhtmlåŒ…å«äº† css js ã€‚æ— äºŒæ¬¡åŠ è½½ï¼Œæ— ç¬¬ä¸‰æ–¹ä¾èµ–åº“ã€‚é™¤äº†ä¸èƒ½å†™æ­»çš„å…¨éƒ¨å†™æ­» ğŸ¤£ã€‚æ— éœ€buildã€‚</p>
<p>æºç æ”¾åœ¨ <a href="https://github.com/est/gitweets/">https://github.com/est/gitweets/</a> ã€‚è¯¥ä»“åº“çš„ commit å†å²ä¹Ÿä½œä¸ºfeedå±•ç¤ºåœ¨ <a href="https://f.est.im/">https://f.est.im/</a> </p>
<p>æ¥ä¸‹æ¥å‡†å¤‡ç”¨ç±»ä¼¼çš„æ€è·¯å®ç°ç½‘ç«™è¯„è®ºç³»ç»Ÿï¼Œä»£æ›¿ç°åœ¨çš„ disqus ï¼Œè™½ç„¶å®ƒæ˜¯å…è´¹çš„ï¼Œä½†æ˜¯å¹¿å‘Šå¤ªå¤šäº†ã€‚</p>
<p>å¯èƒ½æœ‰äººè¦é—®ï¼šwhy ï¼Ÿé—²çš„è›‹ç—›ï¼Ÿ</p>
<p>æˆ‘æƒ³ï¼Œé¦–å…ˆçš„ç¡®è›‹ç—›ï¼Œbecause we canã€‚å…¶æ¬¡æ˜¯ä¸æƒ³åœ¨å¹³å°ï¼Œå¤„å¤„å—äººé™åˆ¶ã€‚ç„¶åä¹Ÿæ˜¯æœ€é‡è¦çš„ï¼Œself-hostã€‚æ‰€æœ‰æ•°æ®èµ„æ–™éƒ½åœ¨ä¸€ä¸ªrepoæ‰“åŒ…å¸¦èµ°ï¼Œå¤‡ä»½ä»€ä¹ˆçš„å¾ˆæ–¹ä¾¿ã€‚æ¯”å¦‚ä»¥å‰wordpresså—ä¼—å¤šåŠŸèƒ½å…¨ï¼Œä½†æ˜¯åæ¥å¤§å®¶éƒ½ hexo ä¹‹ç±»çš„é™æ€blogäº†ã€‚</p>
<p>æˆ‘å¿ƒç›®ä¸­ gitweets å°±æ˜¯â€œé™æ€â€å¾®åšçš„ä¸€ç§ã€‚è™½ç„¶å®ƒç°åœ¨è¿˜æ˜¯ä¾èµ– github APIã€‚ç­‰æœ‰ç©ºäº†å¯ä»¥è¯•è¯•ç”Ÿæˆçº¯é™æ€é¡µé¢ã€‚</p>
<h3>ToDo</h3>
<ol>
<li>å¦‚ä½•å‘è§†é¢‘ éŸ³é¢‘</li>
<li>å¦‚ä½•è½¬å‘</li>
<li>å¦‚ä½•æ··åˆå±•ç¤ºå¤šä¸ªrepoçš„feedã€‚åŸºäº pull request ï¼Ÿ</li>
</ol>
<p>æ¬¢è¿è¯„è®ºæˆ–è€…æ <a href="https://github.com/est/gitweets/issues">issue</a></p></p>
            <div class="card-subtext muted-text">
              <p>Posted <time datetime="2025-08-17T00:00:00+08:00">2025-08-17</time></p>
<p>stdout</p>            </div>
          </article>
        </div>


        <!-- new article -->
        <div class="card blog-card">
          <article class="card-body">
            <a href="/2025/stdout-04"  rel="bookmark" >
              <h2 class="card-title">A single Python function for both async/sync</h2>
            </a>
            <p class="card-text"><p>Scenario: I often need to write Python functions like:</p>
<ol>
<li>take some parameters and format them</li>
<li>call an API with the formatted parameters</li>
<li>parse the result and return chosen values</li>
</ol>
<p>There's a huge problem in step #2.</p>
<p>In today's Python world, troubles arise because async/await are "infectious", In practice this function is splitted - like in Python stdlib, where a vanilla <code>method</code> and its async counterpart <code>amethod</code> often come in pairs. Package authors scramble to provide sync transport and another async transport. I discovered this ugly fact while reading the source code of<code>redis-py</code>, <code>httpx</code> and <code>elasticsearch-py</code>.  Duplicate and lookalike code was always written twice. All it takes is some random async IOs in one place and your code would be forced to change forever.</p>
<p>Is there a way to write the function in one place, but callable both with async and without?</p>
<p>I pondered this question for ages, and today I stumbled upon something interesting:</p>
<pre><code class="language-python">
  def s1():
    return asyncio.sleep(1)

  async def s2():
    return await async.sleep(1)
</code></pre>
<p>There's virtually no difference when calling <code>await s1()</code> and <code>await s2()</code></p>
<p>I vaguely remembered how Pythonâ€™s coroutines were designed, and after some tinkering, I came up with this snippet:</p>
<pre><code class="language-python">
import asyncio, types, functools

def aa(f):
    &quot;&quot;&quot;
    make a function both awaitable and sync
    idk how to property name this. anti-asyncio (aa) maybe?
    &quot;&quot;&quot;
    @functools.wraps(f)
    def wrapper(func, *args, **kwargs):
        if asyncio.iscoroutinefunction(func):
            return types.coroutine(f)(func, *args, **kwargs)
        else:
            async def afunc(*a, **kw):
                return func(*a, **kw)
            g = types.coroutine(f)(afunc, *args, **kwargs)
            try:
                while True: next(g)
            except StopIteration as ex:
                return ex.value
    return wrapper


@aa
def my_func(func, *args, **kwargs):
    # prepare args, kwargs here
    # add a prefix `yield from` everywhere, for either sync/async
    result = yield from func(*args, **kwargs)
    # handle the result here
    return result


import httpx

# async
async def main():
    # the same as `await httpx.AsyncClient(timeout=3).get('https://est.im')`
    print(await my_func(httpx.AsyncClient(timeout=3).get, 'https://est.im/'))
asyncio.run(main())


# sync
print(my_func(httpx.get, 'https://est.im'))
# works the same as httpx.get('https://est.im')

</code></pre>
<p>The above shows a single function called <code>my_func</code>, dependency injection of an HTTP <code>get</code>  call of either sync/async, allows for customizable  pre- and post-processing logic, and returns the result with clean syntax.</p>
<p><strike>The only mental tax: inside <code>my_func</code>, you have to replace all <code>await</code> keyword with `yield from.</strike></p>
<p>Update 2025-05-16: The only mental tax: add a <code>yield from</code> prefix for every <code>func</code>calls for IO or API, either sync or async.</p>
<p>It solves all problems for my scenario and Iâ€™ve yet to find a simpler solution. If you have a good name for the <code>@aa</code> decorator please comment!</p>
<p>A sidenote, I am not sure if this method affects async schedulers and blocks something maybe? Like the <code>while True</code> might be a new kind of GIL. Also i haven't looked at problems with contextvars.</p></p>
            <div class="card-subtext muted-text">
              <p>Posted <time datetime="2025-05-14T14:35:00+08:00">2025-05-14</time></p>
<p>stdout</p>            </div>
          </article>
        </div>


        <!-- new article -->
        <div class="card blog-card">
          <article class="card-body">
            <a href="/2025/stdout-03"  rel="bookmark" >
              <h2 class="card-title">Windows è‡ªåŠ¨è®¾ç½®å¼€æœºé”å±å£çº¸ V3</h2>
            </a>
            <p class="card-text"><p>ä¹‹å‰ä¹Ÿå†™è¿‡ï¼ŒWindowsä¸‹è‡ªåŠ¨è®¾ç½®å¢™çº¸ <a href="/202104/stdout-005">V1</a>ï¼Œ<a href="/2021/stdout-024">V2</a>ï¼Œä»Šå¤©å‘ç°ä¸¤ç§æ–¹æ³•éƒ½å¤±æ•ˆäº†ã€‚</p>
<p>äºæ˜¯ä¸€æ°”ä¹‹ä¸‹æäº†ä¸ª Bing Image of the Day ç‰ˆæœ¬çš„ã€‚</p>
<p>ä¿å­˜ä¸º change_wallpaper.bat åŒå‡»æ‰§è¡Œã€‚åŠ å…¥è‡ªå¯åŠ¨æˆ–è€…å®šæ—¶è§¦å‘ã€‚</p>
<pre><code>@if (@X)==(@Y) @end /* set Win10 wallpaper to Bing Image of The Day. By est.im
@echo off
cscript //Nologo //U //E:JScript "%~F0"
exit /b %errorlevel%
*/

function http_get(url){
  var xhr = new ActiveXObject("MSXML2.XMLHTTP")
  xhr.open("GET", url, false)
  xhr.setRequestHeader("Accept-Encoding", "identity")
  xhr.send()
  return xhr
}

var rss_req = http_get('https://www.bing.com/HPImageArchive.aspx?format=rss&amp;idx=0&amp;n=1&amp;mkt=en-US')
// WScript.Echo(rss_req.getAllResponseHeaders())
var img_url = 'https://www.bing.com' + rss_req.responseXML.selectSingleNode("//rss/channel/item/link").text
WScript.echo(img_url)
var fso = new ActiveXObject("Scripting.FileSystemObject")  // shit cant handle binary data
var stream = new ActiveXObject("ADODB.Stream")
var img_path = fso.GetSpecialFolder(2)+"\\bing_iotd.jpg"
WScript.echo(img_path)
stream.Open()
stream.Type = 1
var img_req = http_get(img_url)
stream.Write(img_req.responseBody)
stream.SaveToFile(img_path, 2)
stream.Close()

var WshShell = new ActiveXObject("WScript.Shell")  
WshShell.RegWrite("HKEY_CURRENT_USER\\Control Panel\\Desktop\\Wallpaper", img_path, "REG_SZ")
WshShell.Run("RUNDLL32.EXE user32.dll,UpdatePerUserSystemParameters")
</code></pre>
<p>å…¶ä¸­ <code>format=rss</code> å¯ä»¥æ”¹æˆ <code>=js</code> æˆ–è€… <code>=xml</code> æœ¬æ¥æƒ³è§£æ json ä½†æ˜¯å‘ç°è€çš„ IE6 å¼•æ“ä¸èƒ½æ”¯æŒåŒå¼•å·è¿™ç§JSONï¼Œè€Œä¸”åªèƒ½ç”¨ <code>eval()</code> å°±æ”¾å¼ƒäº†ã€‚è¿˜å¥½æœ‰ xpath è¿˜æŒºæ–¹ä¾¿ã€‚</p>
<p>è¦ç”¨ .bat å¥—ä¸€å±‚æ˜¯å› ä¸º win10 è²Œä¼¼ç¦æ­¢ <code>.js</code> æˆ–è€… <code>.vbs</code> åŒå‡»æ‰§è¡Œäº†ã€‚ç—…æ¯’æœ¨é©¬å¤ªå¤šäº†ã€‚è¿™ç§ä¸€ä»½æºç åŒæ—¶è¢«ä¸¤ç§è¯­è¨€è§£æè¿˜æœ‰ç‚¹<a href="/cnblogs/600416">æŠ€å·§</a>å¯ä»¥å‚è€ƒä¸‹ã€‚</p>
<p>å¾ˆä¹…æ²¡å†™ .jscript äº†ç”¨äº† ChatGPT è¿™ä¸ª vibe coding çœŸçˆ½ã€‚</p></p>
            <div class="card-subtext muted-text">
              <p>Posted <time datetime="2025-04-25T23:49:00+08:00">2025-04-25</time></p>
<p>stdout</p>            </div>
          </article>
        </div>


        <!-- new article -->
        <div class="card blog-card">
          <article class="card-body">
            <a href="/2025/stdout-02"  rel="bookmark" >
              <h2 class="card-title">æ­£åˆ™è·å¾—å›½é™…ç”µè¯å‰ç¼€</h2>
            </a>
            <p class="card-text"><p><a href="https://blog.est.im/post/48751778838">2013å¹´</a>çš„æ—¶å€™å–·è¿‡ITUè¿™ä¸ªå›½é™…ç”µè¯å·ç ï¼Œå‰ç¼€æ˜¯å˜é•¿çš„é—®é¢˜</p>
<p>ä»Šå¤©é‡åˆ°é—®é¢˜ï¼Œéœ€è¦æŒ‰å›½é™…åŒºå·åˆæ­¥åˆ†æå½’å±åœ°å’Œä¾›åº”å•†ï¼Œ<a href="https://stackoverflow.com/questions/2113908/">stackoverflow</a>å’ŒAIç»™çš„éƒ½å¾ˆæ¸£ï¼Œå†™äº†ä¸ªæ­£åˆ™ï¼š</p>
<pre><code>re.compile(r"""\+
    (1  # north america
    |(?:  # 3 digits
        21|22|23|24|25|26|29|35|37|38|42|
        50|59|67|68|69|80|85|87|88|96|97|99)\d
    |[2-9]\d)  # two digits
""", re.VERBOSE)
</code></pre>
<p><code>+1</code> å¼€å¤´çš„æ˜¯åŒ—ç¾ï¼Œç„¶åä¾æ¬¡å¯»æ‰¾3ä½çš„ï¼Œå†åŒ¹é…2ä½çš„ã€‚</p>
<p><code>+7</code> æœ¬æ¥æ˜¯è‹è”çš„ï¼Œç°åœ¨ç»™ å“ˆè¨å…‹æ–¯å¦ å’Œ ä¿„ç½—æ–¯ äº†ï¼Œå°±å½“æˆä¸¤ä½çš„åˆ¤å®šå§ã€‚</p></p>
            <div class="card-subtext muted-text">
              <p>Posted <time datetime="2025-02-25T11:38:00+08:00">2025-02-25</time></p>
<p>stdout</p>            </div>
          </article>
        </div>


        <!-- new article -->
        <div class="card blog-card">
          <article class="card-body">
            <a href="/2025/stdout-01"  rel="bookmark" >
              <h2 class="card-title">é¢å‘è€å¤–æœ€å®¹æ˜“ç†è§£çš„â€œæ˜¥èŠ‚â€å®šä¹‰ï¼Œä»¥åŠå…¶å®ƒ</h2>
            </a>
            <p class="card-text"><h3>ç”¨è‹±è¯­æŠŠ æ˜¥èŠ‚ è®²æ˜ç™½</h3>
<p>æœ€è¿‘å°çº¢ä¹¦ #tiktokrefugee ä»¥åŠæ‰€è°“çš„â€œä¸­ç¾å¯¹è´¦â€å¾ˆç«ï¼Œç„¶ååˆåµåˆ° Chinese new year, å’Œ lunar new year æ€ä¹ˆå«ï¼Œæ¡ˆä¾‹è¯´é—²æ¥æ— äº‹ï¼Œæˆ‘æƒ³ææ˜ç™½ç©¶ç«Ÿæ˜¥èŠ‚æ˜¯æ€ä¹ˆå®šçš„ï¼Ÿ</p>
<blockquote>
<p>æœ€æ¥è¿‘ç«‹æ˜¥ä¹‹æœ”æ—¥ï¼ˆæœˆç¼ºä¹‹æ—¥ï¼‰ä¸ºæ­£æœˆåˆä¸€</p>
</blockquote>
<p>ä¾èµ–å†æ³•ï¼Œé‚£ä¹ˆæ¥ç€æŸ¥</p>
<blockquote>
<p>å†¬è‡³æ‰€åœ¨ä¹‹æœ”æœ›æœˆä¸ºåä¸€æœˆ</p>
</blockquote>
<p>è¿™åˆæ˜¯å¤ªé˜³å†åˆæ˜¯æœˆäº®å†çš„ï¼Œè¿˜æœ‰äºŒåå››èŠ‚æ°”ã€‚è¦æŠŠâ€œæ˜¥èŠ‚â€è¿™ç©æ„è„±ç¦»æ±‰æ–‡åŒ–çš„åŸºç¡€èƒŒæ™¯å®šä¹‰ä¸‹æ¥ï¼Œå¾ˆéº»çƒ¦ã€‚åœ¨ç¿»äºŒåå››èŠ‚æ°”çš„æ—¶å€™ï¼Œçµæœºä¸€åŠ¨ï¼Œå› ä¸ºäºŒåå››èŠ‚æ°”æ˜¯å¤ªé˜³å†ï¼Œå’Œå…¬å†å‡ ä¹ä¸¥ä¸åˆç¼ï¼Œå…¬å†åˆå’Œæ˜Ÿåº§èƒ½å¯¹åº”çš„ä¸Šã€‚é‚£ä¹ˆæ˜¥èŠ‚å…¶å®å¯ä»¥æœ€å¤§ç¨‹åº¦çš„ç®€åŒ–å®šä¹‰ä¸ºï¼š</p>
<blockquote>
<p>æ°´ç“¶åº§çš„æ–°æœˆå¤œã€‚</p>
</blockquote>
<p>æ–°æœˆå°±æ˜¯çœ‹ä¸åˆ°ä¸€ä¸ç‚¹æœˆäº®ï¼Œå’Œæ»¡æœˆç›¸å¯¹ã€‚</p>
<h3>AI èƒ½ç†è§£ æ˜¥èŠ‚ å—</h3>
<p>ä¸ºäº†éªŒè¯æˆ‘è¿™ä¸ªè¯´æ³•ï¼Œæˆ‘é—®äº†ChatGPTï¼š</p>
<blockquote>
<p>What's the new moon day of 2025 Aquarius zodiac sign?<br />
The new moon in Aquarius for 2025 will occur on January 29, 2025.<br />
What's the new moon day of 2024 Aquarius zodiac sign <br />
The New Moon in Aquarius in 2024 will occur on February 9, 2024</p>
</blockquote>
<p>2024å¹´å·®äº†ä¸€å¤©æ€ä¹ˆå›äº‹ï¼Ÿæ–°æœˆ (new moon) ä½œä¸ºå¤©æ–‡ç°è±¡æ˜¯å‘ç”Ÿåœ¨ä¸€ä¸ªç¡®å®šæ—¶é—´çš„ã€‚ä½†æ˜¯å¯¹åº”åˆ°ä¸–ç•Œå„åœ°ï¼Œå½“åœ°æ—¶åŒºçš„åŸå› ï¼Œå¯èƒ½å·®1å¤©ã€‚æ‰€ä»¥æˆ‘æ„Ÿè§‰è¿™ä¸ªè¯´æ³•æ˜¯ close enough äº†ã€‚</p>
<p>å›½äº§AI Deepseek æ€è€ƒçš„ä¹Ÿä¸é”™ï¼š</p>
<blockquote>
<p>What's the new moon day of 2025 Aquarius zodiac sign?<br />
the new moon day for the Aquarius zodiac sign in 2025 is January 29, 2025.<br />
how about 2024<br />
the new moon day for the Aquarius zodiac sign in 2024 is February 9, 2024</p>
</blockquote>
<p>æˆ‘æƒ³çœ‹ä¸‹ R1 æ¨ç†èƒ½åŠ›ï¼Œäºæ˜¯é—®äº†ä¸€å˜´ï¼š</p>
<blockquote>
<p>what's the special holiday of this day?<br />
For January 29, 2025, the new moon day in Aquarius, there are no major globally recognized holidays</p>
</blockquote>
<p>çœ‹æ¥å‚»äº†ã€‚æˆ‘æ¢äº†ä¸‹ ChatGPT</p>
<blockquote>
<p>any holiday on that day?<br />
Yes! January 29, 2025, falls on Lunar New Yearâ€™s Eve, which is the day before the Chinese New Year (Year of the Snake).</p>
</blockquote>
<p>R1 å¯¹è‡ªå·±ä¸Šä¸‹æ–‡å¯èƒ½ä¸å¤ªé‡è§†ã€‚</p>
<h3>æ˜¥èŠ‚ æ€ä¹ˆç¿»è¯‘</h3>
<p>è¿™ä¸ªé—®é¢˜æƒ³å®Œï¼Œå›åˆ°ä¸€å¼€å§‹çš„é—®é¢˜ï¼Œæœ‰äººè¯´ CNY å’Œ LNY éƒ½ä¸å¥½ï¼Œä¸å¦‚ç›´æ¥å« Spring Festival ã€‚æˆ‘è§‰å¾—ï¼Œå¾ˆæœ‰é“ç†ã€‚æ¯•ç«Ÿè‹±è¯­å¯¹æ‰€æœ‰å¤–æ¥è¯éƒ½æ˜¯éŸ³è¯‘ã€‚<a href="https://www.zhihu.com/question/11047706645/answer/96973692909">æ¯”å¦‚</a></p>
<ul>
<li>æ˜¥å·ï¼Œè‹±è¯­ä¸€èˆ¬ç§°ä¸º Spring Rollï¼Œè€Œä¸æ˜¯ Chinese Burrito</li>
<li>é¦’å¤´ï¼Œè‹±è¯­ä¸€èˆ¬ç§°ä¸º Mantouæˆ–è€… Steamed Bunã€‚è€Œä¸æ˜¯ Chinese Bread</li>
<li>äº‘åï¼Œè‹±è¯­ä¸€èˆ¬ç§°ä¸º Won Tonã€‚è€Œä¸æ˜¯ã€ŒChinese Ravioli</li>
</ul>
<p>ä½†æ˜¯è¿›ä¸€æ­¥æƒ³ï¼Œè‹±è¯­ä¸ºå•¥å°±èƒ½æ¥å— burritoã€ravioli è¿™æ ·çš„å¤–æ¥è¯æ±‡ï¼Œä¸å¦‚å¹²è„†ç›´æ¥å« Chunjie ï¼Ÿ</p>
<p>å…¶å®ï¼Œå…¨ä¸–ç•Œçš„ä¸»è¦è¯­è¨€é‡Œï¼Œåªæœ‰æ±‰è¯­è¿˜åœ¨åšæŒâ€œæ„è¯‘â€ã€‚åˆ«çš„è¯­è¨€æ—©å¼ƒç–—äº†ï¼Œç›´æ¥éŸ³è¯‘æˆ–è€… transliterationã€‚åŸå› å¾ˆç®€å•ï¼Œå…¨ä¸–ç•Œä¸»è¦è¯­è¨€é‡Œï¼Œåªæœ‰â€œä¸­æ–‡â€æ˜¯é alphabet ä½“ç³»ã€‚å…¶å®ƒçš„æ–‡å­—éƒ½æ˜¯è¡¨éŸ³çš„ã€‚åªè¦å‘éŸ³ä¸€æ ·ï¼Œå°±æ˜¯åŒä¸€ä»¶äº‹ç‰©ï¼ŒæŒ‰ä¸åŒçš„å­—æ¯è¡¨ä¹¦å†™è€Œå·²ã€‚</p>
<p>å¦‚æœæŒ‰ç…§è¿™ä¸ªæ€è·¯ï¼Œå…¨ä¸–ç•Œçš„æ‹¼éŸ³è¯­è¨€ï¼Œä¸å‡ºæ„å¤–ï¼Œéƒ½ä¼šè¶‹åŠ¿éƒ½ä¼šè¢«è‹±è¯­ç»Ÿä¸€ï¼Œæˆä¸º Lingua francaã€‚è¿™ä¹Ÿæ˜¯æˆ‘å‰ä¸€ç¯‡blogè¯´ä¸ºå•¥<a href="https://blog.est.im/2025/stdin-02">è¦å­¦ä¹ è‹±è¯­</a>ã€‚</p>
<p>é™¤äº†ä¸€ä¸ªä¾‹å¤–â€”â€”ä¸­æ–‡ã€‚ä¸»è¦è¯­è¨€é‡Œï¼Œåªæœ‰ä¸­æ–‡è¿˜åœ¨å­œå­œä¸å€¦çš„æŠŠä¸€åˆ‡å¤–æ¥å’Œæ–°é²œäº‹ç‰©ï¼Œç”¨å¤è€çš„æ–‡å­—é‡æ–°æè¿° â€œreinterpretâ€ ä¸€ç•ªã€‚ä¹…è¿œä¸€ç‚¹çš„ï¼Œå›½å¤–å« twitterï¼Œå›½å†…éå¾—å« sina microblog, sohu microblog, tencent microblogï¼Œè¿‘ä¸€ç‚¹çš„ï¼Œå…¨ä¸–ç•Œéƒ½å« AIï¼ŒLLMè¿™æ ·çš„ç¼©å†™ï¼Œå°±å›½å†…åšæŒå« â€œäººå·¥æ™ºèƒ½â€ï¼Œâ€œå¤§æ¨¡å‹â€ã€‚ å¤§æ¨¡å‹è¿˜çœç•¥â€œè¯­è¨€â€ä¸¤ä¸ªå­—</p>
<h3>homeless å’Œæˆ¿äº§ç¨</h3>
<p>åˆæƒ³èµ·è¿™æ®µæ—¶é—´ â€œä¸­ç¾å¯¹è´¦â€å¼•å‘çš„ç¬¬äºŒä¸ªé—®é¢˜ã€‚è€ç¾å¾ˆå¤š homelessï¼Œæ‰€ä»¥æœ‰è®¨è®ºå›½å†…ä¸ºå•¥æ²¡æµæµªæ±‰ã€‚å¾ˆå¤šäººè¯´æ˜¯å› ä¸ºåŸç®¡ï¼Œæˆ·ç±åˆ¶åº¦ã€‚å› ä¸ºç¤¾ä¼šä¸»ä¹‰æœ‰ä¸€ä¸ªæ“ä½œå«â€œé£è¿”åŸç±â€ï¼Œæ— è®ºä½ å»å“ªä¸ªåŸå¸‚æµæµªï¼Œæ€»èƒ½æ ¹æ®èº«ä»½è¯åœ°å€æŠŠä½ æå›è€å®¶ã€‚</p>
<p>æ—¢ç„¶æœ‰è€â€œå®¶â€ï¼Œå…¶å®æŒ‰å­—é¢æ„æ€ï¼Œä¸èƒ½ç®— home-less äº†ã€‚åªèƒ½è¯´å½“åœ°æ— æˆ¿è€Œå·²ã€‚</p>
<p>ç”±æ­¤æƒ³åˆ°ä¸€ä¸ªé—®é¢˜ï¼Œæˆ¿äº§ç¨å’Œæˆ·ç±åˆ¶åº¦æ˜¯çŸ›ç›¾çš„ã€‚è€ç¾å› ä¸ºæ²¡æœ‰ property  æ‰€ä»¥å˜ homeless æ‰€ä»¥æ²¡æœ‰ bill address æ‰€ä»¥æ— æ³•ç”³è¯·ç¤¾ä¿å’Œé“¶è¡Œå¡ï¼Œæ— æ³•å‚ä¸ç¤¾ä¼šç”Ÿäº§ä»è€Œåªèƒ½ä¹è®¨ã€‚å¦‚æœå›½å†…ä¹Ÿå¼€å§‹æ property taxï¼Œé‚£ä¹ˆé¦–å…ˆçš„æŠ€æœ¯é—®é¢˜å°±æ˜¯åœ¨å“ªä¸ªç¯èŠ‚å¾æ”¶ï¼Ÿ</p>
<p>æœ€å¤§çš„å¯èƒ½æ€§å°±æ˜¯äº¤æ˜“ç¯èŠ‚ã€‚é‚£ä¹ˆå¤§ä¸äº†ä¸å–äº†ï¼Œå°±å‡ºç§Ÿï¼Œå­å­å­™å­™ä¼ ä¸€è¾ˆå­ã€‚é€€ä¸€æ­¥è¯´ï¼Œä½ æ¬ æˆ¿äº§ç¨ï¼Œè¡Œæ”¿éƒ¨é—¨ä¼šæŠŠä½ æˆ¿å­æ‹å–å—ï¼Ÿå¦‚æœä½ è§‰å¾—ä¼šï¼Œé‚£ä¹ˆé—®é¢˜æ¥äº†ï¼Œå’Œæ¬§ç¾æœ€å¤§çš„ä¸åŒï¼Œè¯·é—®ä½ æ²¡æˆ¿ä¹‹åï¼Œæˆ·ç±åœ°å€å†™å“ªé‡Œï¼Ÿ</p>
<p>æœ‰äººè¯´ï¼Œä¸Šé›†ä½“æˆ·å•Šã€‚é›†ä½“æˆ·å…¶å®ä»è®¾è®¡ä¸Šæ¥è¯´ï¼Œå¿…é¡»å¾—æœ‰â€œå•ä½â€æŒ‚é çš„ã€‚å°±ç®—æœ€è¿‘å‡ å¹´æå‡ºæ¥æ‰€è°“â€œäººæ‰è½æˆ·â€ï¼Œè¿™ä¹Ÿå»ºç«‹åœ¨ä½ åœ¨å½“åœ°æœ‰ä¸€å®šå°±ä¸šèƒ½åŠ›ï¼Œæœ‰æ½œåœ¨çš„â€œé›‡ä¸»â€èƒŒä¹¦çš„ã€‚ä½ éƒ½äº¤ä¸èµ·æˆ¿äº§ç¨äº†ï¼Œå“ªä¸ªäººæ‰ä¸­å¿ƒæ•¢æ¥æ”¶ä½ çš„æˆ·å£å•Šï¼Ÿæ¥æ”¶æˆ·å£ï¼Œæ„å‘³ç€ä»¥åæ‰€æœ‰å…³äºè¿™ä¸ªâ€œäººâ€çš„éº»çƒ¦éƒ½å½’å±åœ°ç®¡ç†ã€‚</p>
<p>æŒ‰ç…§è¿™ä¸ªæ¨æ¼”ï¼Œæˆ¿äº§ç¨åªæœ‰ä¸‰ä¸ªç»“æœï¼š</p>
<ol>
<li>ä¸å®æ–½ï¼›æˆ–è€…å®æ–½äº†ä¸æ€ä¹ˆæ”¶ï¼ˆå‚è€ƒé‡åº†ä¸Šæµ·ï¼‰</li>
<li>å®æ–½+æ¬ è´¹æ²¡æ”¶ï¼ŒåŠ¨æ‘‡æˆ·ç±åˆ¶åº¦</li>
<li>åªé’ˆå¯¹å¤šå¥—æˆ¿äº§å®æ–½ï¼Œé‚£ä¹ˆå¿…ç„¶ä¼šå¸¦æ¥å¤§é‡çš„æŠ€æœ¯æ€§ç¦»å©šã€‚</li>
</ol>
<h3>ä¸­ç¾æœ€å·</h3>
<p>å’Œæœ‹å‹èŠä¸­ç¾è¯é¢˜ï¼Œè¯´ç°åœ¨è´¸æ˜“æˆ˜äº§ä¸šè½¬ç§»ï¼Œå°åº¦å’Œä¸œå—äºšæœ‰æ²¡æœ‰å¯èƒ½å´›èµ·ã€‚æˆ‘è¯´äº†å‡ ä¸ªåé©³çš„ç†ç”±ï¼š</p>
<ol>
<li>ä¸œå—äºšæ˜¯äº§ä¸šâ€œå›æµâ€ï¼Œä¸æ˜¯è½¬ç§»ã€‚åˆ«äºº70å¹´ä»£çº¢çº¢ç«ç«çš„ï¼Œæ˜¯å¹¿ä¸œæŠ¢èµ°äº†é¥­ç¢—ã€‚ç°åœ¨æ˜¯åå‡ºå»</li>
<li>ä¸œå—äºšåŸºæœ¬ä¸Šéƒ½æ˜¯â€œå‘è¾¾å›½å®¶â€ã€‚æˆ‘è§‰å¾— "developed" åœ¨è‹±è¯­é‡Œï¼Œå‹æ ¹ä¸æ˜¯â€œå‘è¾¾â€çš„æ„æ€ï¼Œè€Œæ˜¯ è¿‡å»æ—¶ï¼Œè¡¨ç¤º å‘å±•åˆ°å¤´äº†ï¼Œæ²¡è¿›æ­¥ç©ºé—´äº†ï¼Œå¤©èŠ±æ¿äº†ã€‚å»è¿‡å‡ æ¬¡ä¸œå—äºšæ—…æ¸¸å‘ç°å½“åœ°20å¹´ã€30å¹´å‰æ€ä¹ˆæ ·ï¼Œç°åœ¨è¿˜æ˜¯é‚£æ ·ã€‚</li>
<li>ä¸€ä¸ªå›½å®¶èƒ½å¦å´›èµ·ï¼Œä»è‰æ ¹è§†è§’ï¼Œå°±æ˜¯çœ‹å–œæ¬¢æ‰“æ‹¼çš„äººï¼Œæœ‰æ²¡æœ‰å‡ºå¤´ä¹‹æ—¥ï¼Ÿæœ‰çš„è¯ï¼Œè¿™ä¸ªå›½å®¶å°±ä¼šè¶…è¿‡ä¸­ç¾ï¼Œå¦‚æœæ²¡æœ‰ï¼Œä¸­ç¾å°±ä¼šæ”¶å‰²ã€‚ã€‚ã€‚å°åº¦å’Œä¸œå—äºšé‡Œï¼Œæœ‰è¿™æ ·çš„åˆ¶åº¦å’Œæ–‡åŒ–çš„å—ï¼Ÿåœ¨å›½å†…ï¼Œè¿™æ ·çš„åˆ¶åº¦å’Œæ–‡åŒ–å…¶å®ä¸æ˜¯å¥½äº‹ï¼Œè€Œæ˜¯ä¸€ç§å‹è¿«ã€‚</li>
<li>å…¨ä¸–ç•Œåªæœ‰åäººå’Œè€ç¾æœ€å·ã€‚å‰å‡ å¤©å¬åˆ°ä¸€ä¸ªè€ç¾vloggerè¯´äº†ä¸ªäº‹è®©æˆ‘éœ‡æƒŠï¼Œå¥¹è¯´è€ç¾è§‰å¾—ä¼‘å‡æ˜¯â€œå¯è€»â€çš„ã€‚ä¹‹å‰ä¹Ÿæœ‰è€³é—»ï¼Œè€ç¾åƒåˆé¥­ç‰¹åˆ«æ€•è€½è¯¯è€æ¿æ—¶é—´ï¼Œä¹Ÿä¸æ•¢åˆä¼‘ã€‚Hacker Newsä¸Šä¸€äº›æ¬§æ´²äººä¹Ÿç»å¸¸è¯„è®ºè¯´è€ç¾çš„ work culture æ˜¯éå¸¸ toxic çš„ï¼Œå¤ªæ‹¼äº†ã€‚</li>
</ol>
<p>å…¨ä¸–ç•Œåªæœ‰è€ä¸­å’Œè€ç¾æœ€æ‹¼ï¼Œè¿™ä¸ªè¯´æ³•ï¼Œæ˜¯æˆ‘ä»ä¸€ä¸ªæ‹¿äº†ä¸­å›½ç»¿å¡çš„ç¾å›½æ¼”å‘˜ æ›¹æ“ é‚£é‡Œå¬åˆ°çš„</p>
<p><a href="https://www.bilibili.com/video/BV1xe4y1o7wg/">https://www.bilibili.com/video/BV1xe4y1o7wg/</a></p>
<p>ä»–çš„ç†è®ºæ˜¯ï¼Œå…¨ä¸–ç•Œç»å¤§éƒ¨åˆ†çš„äººï¼Œéƒ½æ˜¯æŒ£é’±èƒ½å‡‘åˆè¿‡æ—¥å­å°±è¡Œäº†ã€‚work to liveã€‚é‚£ç§ä¸è¦å‘½æŒ£é’±ï¼Œlive to workçš„æ–‡åŒ–åªæœ‰å„’å®¶æœ‰ã€‚ç¾å›½å‡ºå‘ç‚¹ä¸ä¸€æ ·ï¼Œå…¨ä¸–ç•Œé‚£ç§å°‘æ•°å¤©ç”Ÿå–œæ¬¢æ‹¼å‘½æŒ£é’±çš„äººï¼Œéƒ½å—ä¸äº†å½“åœ°æ‡’æ•£å’Œæ¾å¼›ï¼Œæ¶¦ç¾å»å¹²å¤§äº‹æŒ£å¤§é’±äº†ã€‚</p>
<p>è¨€ä¹‹æœ‰ç†å•Šã€‚ä»¥å‰æ¬§æ´²é‚£ç§æ—¥å­è¿‡ä¸ä¸‹å»æ•¢å»ä¸€ä¸ªé™Œç”Ÿçš„æœªçŸ¥çš„æ–°å¤§é™†æ‰“æ‹¼çš„ï¼Œéƒ½ä¸æ˜¯ç­‰é—²ä¹‹è¾ˆã€‚æ‰€ä»¥ä¸€ä»£ä¼ ä¸€ä»£æå‡ºæ¥è¿™ä¹ˆä¸€ä¸ªæ‰“æ‹¼çš„æ–‡åŒ–ã€‚</p>
<hr />
<p>ä»Šæ—¥ä»½çš„èƒ¡æ€ä¹±æƒ³å°±åˆ°è¿™äº†ã€‚</p></p>
            <div class="card-subtext muted-text">
              <p>Posted <time datetime="2025-02-12T16:06:00+08:00">2025-02-12</time></p>
<p>stdout</p>            </div>
          </article>
        </div>


        <!-- new article -->
        <div class="card blog-card">
          <article class="card-body">
            <a href="/2024/stdout-06"  rel="bookmark" >
              <h2 class="card-title">Little known facts about Han</h2>
            </a>
            <p class="card-text"><p>I was planning to publish this article on 2024-04-05 00:01, but rejected because it looked silly for this blog. On that day, butt hurt as usual, I watched this short-vid called <a href="https://www.douyin.com/video/7345777842376019252">Why Sichuan people were chill</a>, by the influencer ç½—èƒ–. I was quite amazed by his 3.79M many fans and more strangely, IP location: Sichuan. I followed the article he mentioned: <a href="https://www.dedao.cn/course/article?id=rykaNlMY5gn3Jq19QdJ7EAROW0DLje">1001 A.D. and How Sichuan got its name?</a> and find it quite interesting, as all history lessons are.</p>
<p>So let's explore the little known details and find out why history of Sichuan is somewhat special (Whig-style narrative alert!)</p>
<h2>The birthplace of Taoism</h2>
<p>Records shows that the birthplace of Taoism, the most chill religion ever, points to é¹¤é¸£å±± at å¤§é‚‘, and the é’åŸå±± nearby was considered a holy mountain. Some say é¾™è™å±± at æ±Ÿè¥¿ as an alternative, but in my opinion its where the <em>tianshi</em> (prophet) å¼ é“é™µ pactice his alchemy rather than the developing the beliefï¼ŒThe real deal including Wudoumi movement clearly originates from é¾™é—¨ mountain ranges on the western of Chengdu plain.</p>
<h2>Inspired by Buddhism</h2>
<p>When I was searching for tourist attactions I found that é¹¤é¸£å±± were suspiciously connected to Buddhism. Chinese Buddhism were first landed at ç™½é©¬å¯º at then capital æ´›é˜³ at 68 B.C. But ç™½é©¬å¯º itself wasn't supposed to be a <em>temple</em> per se, but rather a settlement sponsored by the imperial court. There were nine houses of governance established by Han court covering Justice, Sacrifices, Royal affairs, Carriages and so on, one of them is é¸¿èƒªå¯º for Royal Hospitality. The ç™½é©¬å¯º was built by the order of the Second Emperor of E. Han as a guest house to translate the <em>42 chapters of Sutra</em> acting like a é¸¿èƒªå¯º. Some 6 years later, after the job were done, the two buddhist monks, è¿¦ä»€æ‘©è…¾ and ç«ºæ³•å…°, went to Sichuan seeking a legendary mountain called é›¾ä¸­å±± according a prophecy. The prophecy were carved on a Ming-era stele å¼€åŒ–å¯ºç¢‘è®°, describes the Buddha Shakyamuni, when about to enter Nirvana in the city of Kushinagar, once said to his disciple Sariputta:</p>
<blockquote>
<p>â€œæˆ‘ç­å»ä¸ƒç™¾å¹´ï¼Œå°”å¾€éœ‡æ—¦é›¾ä¸­å¤§å…‰æ˜å±±ã€‚å±±è„‰å‘æºäºæ˜†ä»‘ï¼Œæœ‰ä¸ƒåäºŒå³°ï¼Œä¸ºå¤ä½›å¼¥é™€é“åŒ–ä¹‹æ‰€ã€‚ä¸¥å¯†ä¿æŠ¤ï¼Œå—£ååœ£è€…æ¥å±…ã€‚â€</p>
</blockquote>
<p>So the two Indian monks built a real Buddhism temple å¼€åŒ–å¯º on é›¾ä¸­å±± and began spreading the religion there. It's said the temple had a collection of PÄli Canon transcribing Theravada Buddhism, one of the O.G. version of two Buddhism major branches in Asia.</p>
<p>So what's the connection anyway? The first prophet of Taoism, <em>tianshi</em> Zhang, chose é¹¤é¸£å±± somewhere 10km near the first Buddhism temple</p>
<p><img alt="" src="/images/2024/stdout-06-01.jpg" /></p>
<p>And later Taoism flourished in Sichuan, like Wudoumi, and ultimately, its variant Taiping-Tao, wrecked the mighty Han empire.</p>
<p>I also commented this travia <a href="https://news.ycombinator.com/item?id=42254106">on HN</a></p>
<p>The doctrine of religious Taoism and Buddhism were strikingly similar, which leds to series of conflicts and accusations over the millennia. The most famous example, <em>Laozi Converted the Barbarians è€å­åŒ–èƒ¡ç»</em> were publicly debated in Mongol-era imperial court and Taoist lost the battle.</p>
<h2>Silk</h2>
<p>Also an interesting article from HN <a href="https://news.ycombinator.com/item?id=42297733#42305823">Evidence of the use of silk by Bronze Age civilization</a>, which I also commented, because some guy suggests Sichuan were once non-Han, it triggered me. TFA states (with my edits): </p>
<blockquote>
<p>HuangDi lived on the hill of Xuanyuan and married the daughter of Xiling clan. HuangDi's consort Leizu of Xiling taught others to raise silkworms, and the legend Leizu is from the people of Chengdu in Sichuan. <em>Shu</em> refers to â€œmulberry wormsâ€ aka â€œsilkworm larvaeâ€. The character <em>Shu</em> is related to the initial sericulture, referring to the beginning of the Shu State and the people, for whom sericulture was central to their economic activities.</p>
</blockquote>
<h2>HuangDi</h2>
<p>For those who aren't familiar, <em>HuangDi</em> the Yellow Emperor was considered the ancester of the Han, the Hun, the Hmong and Xianbei of the Siberians. The second son of <em>HuangDi</em>, married ChangPu from the Shu clan. Their son <em>zhuÄnxÅ«</em> was another <em>Di</em>, out of the <em>5 Di of Ancient Kings äº”å¸</em></p>
<h2>Baijiu</h2>
<p>Baijiu, the Kaoliang liquor, strong distilled from great millet, were first introduced in Sichuan known as èœ€é». Even today top notch brands like <em>Maotai</em> were from  the Chishui Valley of Sichuan (administratively divided to Guizhou by purpose)</p>
<h2>Han</h2>
<p>But what does <em>Han</em> has anything to do with Sichuan? Well everything does. The literal meaning of "Han" traces back to LiuBang, the Great King of Han, founder and first ruler of the Han dynasty, literally settled his fief over Sichuan (Ba, Shu, Hanzhong and its 41 counties). Liubang spent his next 5 years elimilated all his enemies and began the first Pax Sinica of 300 years.</p>
<p>The second Pax Sinica, led by the Great Worrier Li Shimin, also titled <em>Yizhou Acting Desk of the Supreme Book</em>. To explain, <em>the Supreme Book</em> refers to å°šä¹¦, the source of great power, the source of ultimate authority, one and only text that describes how Chinese civilization came into being since ancient times. The Desk is the government body where the book operates, Yizhou Acting Desk is like the copy that covers Sichuan, aliased Sichuan. The soldiers of Sichuan, as the last reserve force led by general çª¦è½¨, joined Li Shimin for the final attack on Dou JianDe on 620 A.D. at the Hulao Pass, which leds to the live capture of two kings, and helped Li Shimin rose to throne.</p>
<h2>8 Partners of Oath</h2>
<p>The fighting spirit of Sichuan soldiers dates back. An oath was taken between Zhou and 8 partner states, including Shu, as described in <em>the Supreme Book</em> on Zhou chapter 4, to rebel against the cruel Shang dynasty. The battle took place at ç‰§é‡ on 1046 B.C. where the Ba people performed a war dance on the frontline and Shang army collapsed upon witness.</p>
<h2>Libai and the Great Prose Masters</h2>
<p>Libai, the God of Poetry, was raised in Sichuan, but where he's born is debatable. However, four out of the Eight Great Prose Masters, were born in Sichuan. So it's either Libai a Sichuanese or Ouyang Xiu, or both.</p>
<h2>... and there's more</h2>
<p>That's all of the trivia I could think of, for now! Leave a comment if you think otherwise. Feel free to correct my English mistakes please, as I am an ESL blogger without use of any AI</p></p>
            <div class="card-subtext muted-text">
              <p>Posted <time datetime="2024-12-03T22:26:00+08:00">2024-12-03</time></p>
<p>stdout</p>            </div>
          </article>
        </div>


        <!-- new article -->
        <div class="card blog-card">
          <article class="card-body">
            <a href="/2024/stdout-24"  rel="bookmark" >
              <h2 class="card-title">sså‘½ä»¤æŠ“linuxä¸‹å¶å‘ç«¯å£è®¿é—®</h2>
            </a>
            <p class="card-text"><p>LinuxæœåŠ¡å™¨ä¸€ç›´æœ‰ä¸ªTCPè¿ä¸Šæ¥å‘æ•°æ®ï¼Œè·‘åˆ°å¯¹åº”çš„æœºå™¨ä¸Šå‘ç°è¿æ¥å·²ç»æ–­äº†ï¼Œå¯¹åº”çš„è¿›ç¨‹ä¹Ÿé€€å‡ºäº†ã€‚ä¼°è®¡æ˜¯æŸç§å®šæ—¶ä»»åŠ¡ã€‚</p>
<p>æ’æŸ¥ä»£ç æ— æœï¼Œåªèƒ½é€šè¿‡å‘½ä»¤è¡Œæ¥ç›‘æ§ã€‚è¿™é‡Œç›´æ¥ä¸Š<code>ss</code>å‘½ä»¤</p>
<pre><code>  while true; do pid=$(ss -tanpe state established 'dst 10.11.22.33:4455'  | awk 'match($0,/pid=([0-9]+)/,a){print a[1]}'); [[ -n $pid ]] &amp;&amp; tr '\0' ' ' &lt;/proc/$pid/cmdline ; sleep 0.2; done;
</code></pre>
<p>è§£é‡Šä¸‹ï¼š</p>
<ol>
<li><code>while true; do ...; sleep 0.2; done;</code>æ¯0.2såå¤åˆ·æ–°æ‰§è¡ŒæŒ‡å®šå‘½ä»¤ã€‚</li>
<li><code>ss -tanpe state established 'dst 10.11.22.33:4455'</code><br />
 - <code>-t</code> é€‰é¡¹è¡¨ç¤ºæ˜¾ç¤º TCP è¿æ¥ã€‚<br />
 - <code>-a</code> æ˜¾ç¤ºæ‰€æœ‰è¿æ¥ã€‚<br />
 - <code>-n</code> ä¸è§£æä¸»æœºåã€ç«¯å£ã€‚<br />
 - <code>-p</code> æ˜¾ç¤ºè¿›ç¨‹ä¿¡æ¯ã€‚<br />
 - <code>-e</code> æ˜¾ç¤ºé¢å¤–çš„è¯¦ç»†ä¿¡æ¯ã€‚<br />
 - <code>state established</code> TCPå·²è¿æ¥<br />
 - <code>dst 10.11.22.33:4455</code> è¿‡æ»¤TCPç›®æ ‡åœ°å€+ç«¯å£</li>
<li><code>awk 'match($0,/pid=([0-9]+)/,a){print a[1]}'</code> æå–å‡º pid</li>
<li><code>[[ -n $pid ]] &amp;&amp; tr '\0' ' ' &lt;/proc/$pid/cmdline</code>  ä»procfsè¯»å–è¯¥è¿›ç¨‹å¯åŠ¨æ—¶çš„å‘½ä»¤å’Œå‚æ•°ã€‚ä¸”æŠŠç©ºå­—ç¬¦ <code>\0</code>æ›¿æ¢ä¸ºç©ºæ ¼</li>
</ol>
<p>ç»¼åˆèµ·æ¥ï¼šä¸æ–­åœ°æŸ¥è¯¢ç›®æ ‡ IP åœ°å€å’Œç«¯å£çš„ç½‘ç»œè¿æ¥ï¼Œæ‰¾åˆ°ä¸ä¹‹ç›¸å…³çš„è¿›ç¨‹ IDï¼Œå¹¶æ˜¾ç¤ºè¯¥è¿›ç¨‹çš„å‘½ä»¤è¡Œã€‚æ¯éš” 0.2 ç§’åˆ·æ–°ä¸€æ¬¡ï¼ŒæŒç»­ç›‘æ§è¿™ä¸ªè¿æ¥å¯¹åº”çš„è¿›ç¨‹ã€‚</p>
<p>è·‘äº†ä¸€é˜µå­ï¼Œå‘ç° $pid å¯èƒ½æœ‰å¤šè¡Œã€‚å›§ï¼Œåªèƒ½ç”¨åŒå±‚ <code>while</code> äº†ï¼š</p>
<pre><code>  while true; do ss -tanp state established 'dport = 2333' | awk 'match($0,/pid=([0-9]+)/,m){print m[1]}' | while read -r pid; do echo $(date '+%F %T') $pid $(readlink -f /proc/$pid/cwd) $(tr '\0' ' ' &lt;/proc/$pid/cmdline); done ;  done;
</code></pre></p>
            <div class="card-subtext muted-text">
              <p>Posted <time datetime="2024-11-28T09:45:00+08:00">2024-11-28</time></p>
<p>stdout</p>            </div>
          </article>
        </div>


        <!-- new article -->
        <div class="card blog-card">
          <article class="card-body">
            <a href="/2024/stdout-23"  rel="bookmark" >
              <h2 class="card-title">ç™½å«–ç™¾åº¦ç½‘ç›˜â€œå•æ¬¡è½¬å­˜æ•°â€500é™åˆ¶</h2>
            </a>
            <p class="card-text"><p>æ‰¾äº†ä¸ªèµ„æºï¼Œç‚¹å‡»ä¿å­˜ï¼Œå±…ç„¶æç¤ºå……SVIPã€‚çœ‹äº†ä¸‹å…è´¹ç”¨æˆ·æ¯æ¬¡æœ€å¤šä¿å­˜500ä»½æ–‡ä»¶ã€‚æœ¬æ¥æ‰¾èµ„æºå°±ç™½å«–ï¼Œè®©æˆ‘å……é’±ï¼Ÿ</p>
<p>ç ”ç©¶äº†ä¸€ä¼šå„¿ï¼Œå‘ç°å¯ä»¥æã€‚</p>
<ol>
<li>é¦–å…ˆä½ å»ä½ ç½‘ç›˜é‡Œå»ºç«‹ä¸ªç›®å½• <code>0000-0500</code>ï¼Œå‡†å¤‡å­˜æ–‡ä»¶ã€‚è¿™ä¹ˆèµ·åå­—æ˜¯å› ä¸ºä½ åœ¨è‡ªå·±ç½‘ç›˜é‡Œå¤šé€‰ä¹Ÿæ˜¯æœ€å¤šé€‰500ä¸ªï¼Œæ‰€ä»¥æ¯æ¬¡å­˜ä¸€ä¸ªç›®å½•ç”¨æ¥å¯¹ç…§æ•°é‡</li>
<li>åˆ†äº«é“¾æ¥é‡Œæ–‡ä»¶åˆ—è¡¨é»˜è®¤åªå±•ç¤ºå‰100æ¡ï¼Œæ˜¯æƒ°æ€§åŠ è½½ï¼Œæ‰€ä»¥è¯·ç”¨é¼ æ ‡ä¸€ç›´åå¤å‘ä¸‹æ»šï¼ŒåŠ¡å¿…æ‹‰åˆ°åº•ï¼Œç„¶åç‚¹å‡»ã€Œåç§°ã€æ’åºã€‚è¿™æ ·æ–¹ä¾¿å¯¹æ¯”æœ‰æ²¡æœ‰æ¼æ‰</li>
<li>F12æ‰“å¼€ console å¹¶ç²˜è´´ä¸‹é¢çš„jsã€‚å¦‚æœè¿™ä¸€æ­¥çœ‹ä¸æ‡‚å»ºè®®ç›´æ¥æ”¾å¼ƒ  <br />
    Array.prototype.slice.apply(document.querySelectorAll(<br />
      '.share-list dd.open-enable&gt;span'<br />
    ), [0, 500]).forEach((x)=&gt;x.click())<br />
è¿™æ ·å°±ç­‰æ•ˆç‚¹å‡»äº†å‰500ä¸ªæ–‡ä»¶ã€‚ç‚¹å‡»ä¿å­˜ã€‚</li>
<li>ç­‰å…¨éƒ¨å­˜å¥½ï¼Œå†æ¬¡æ‰§è¡Œä¸Šä¸€æ®µä»£ç ï¼Œå–æ¶ˆç‚¹å‡»å‰500ä¸ªæ–‡ä»¶ã€‚</li>
<li>å»ä½ çš„ç½‘ç›˜é‡Œæ–°å»ºä¸ªç›®å½• <code>0500-1000</code> ï¼Œç”¨æ¥ä¿å­˜ä¸‹ä¸€æ‰¹</li>
<li>æŠŠä¸Šé¢ä»£ç é‡Œçš„ <code>[0,500]</code> æ”¹æˆ <code>[500,1000]</code> ç„¶åå†æ‰§è¡Œä¸€éï¼Œä¿å­˜åˆ°åˆšæ‰åˆ›å»ºçš„ç›®å½•é‡Œã€‚</li>
<li>å¦‚æœæœ‰æ›´å¤šçš„æ–‡ä»¶ï¼Œåœ¨æ‰§è¡Œä¸€é <code>[500,1000]</code> è¿™ä¸€æ‰¹ï¼Œå–æ¶ˆç‚¹å‡»ï¼›ç„¶åæ”¹æˆ <code>[1000,1500]</code> å¦‚æ­¤åå¤ã€‚</li>
</ol></p>
            <div class="card-subtext muted-text">
              <p>Posted <time datetime="2024-11-01T00:15:00+08:00">2024-11-01</time></p>
<p>stdout</p>            </div>
          </article>
        </div>


        <!-- new article -->
        <div class="card blog-card">
          <article class="card-body">
            <a href="/2024/stdout-22"  rel="bookmark" >
              <h2 class="card-title">Linuxåˆ é™¤äº† .ru å¸å·ï¼Ÿæˆ‘æŸ¥äº†ä¸€ä¸‹</h2>
            </a>
            <p class="card-text"><p><a href="https://www.zhihu.com/question/1783342926">å‘ç”Ÿäº†ä»€ä¹ˆäº‹</a>ï¼Ÿ</p>
<blockquote>
<p>æ—¥å‰ï¼ŒLinux å†…æ ¸ä¸»è¦ç»´æŠ¤è€…ä¹‹ä¸€ Greg Kroah-Hartman (Greg K-H) æäº¤äº†ä¸€é¡¹ä¸å¯»å¸¸çš„â€œæ–‡æ¡£â€æ›´æ–°ï¼Œå°†æ•°åå…·æœ‰ &lt;.ru&gt; é¡¶çº§åŸŸåé‚®ç®±çš„ç»´æŠ¤è€…ï¼Œå’Œä¸€åæ˜ç¡®ä¸ºä¿„ç½—æ–¯èº«ä»½çš„ç»´æŠ¤è€…ä» MAINTAINERSï¼ˆç»´æŠ¤è€…åå½•ï¼‰æ–‡ä»¶é™¤åã€‚<br />
è¿™ä¸€æäº¤å·²äºä¸Šå‘¨æ—¥è¢« Linus Torvalds æ‹‰å–å¹¶åŒ…å«äº 6.12-rc4 ç‰ˆæœ¬çš„ä»£ç ä¸­ã€‚<br />
å·²æœ‰æ¥è‡ªäº AOSC çš„å¼€å‘è€…æäº¤äº† revert(å°šæœªåˆå¹¶)ï¼Œè€Œ Linus æœ¬äººåœ¨è¯„è®ºä¸­å£°æ˜å…¶å¯¹å…ˆå‰çš„ commit çŸ¥æƒ…å¹¶æ”¯æŒ</p>
</blockquote>
<p>ä¸€å¼€å§‹ï¼Œæˆ‘ä»¥ä¸ºæ˜¯ â€œåå‘â€ <a href="https://x.com/siyuanbear/status/1848644797076279545">åšè„¸çš®PR</a></p>
<p><img referrerpolicy="no-referrer" src="https://pbs.twimg.com/media/Gae0pQdbEAE-0JJ?format=jpg&name=medium" /></p>
<p>ä¸€èˆ¬æ¥è¯´ï¼Œ github ä¸Šæ··ä¸€ä¸ª contributor å¾—è´¡çŒ®ä»£ç ï¼Œå¾ˆå¤šäººå°±æ”¹æ”¹æ–‡æ¡£ã€ç¿»è¯‘å°±æ‹¿åˆ°ä¸€ä¸ªâ€œè´¡çŒ®è€…â€ç§°å·ï¼ˆæˆ‘ä¹Ÿå¹²è¿‡å“ˆå“ˆå“ˆï¼‰ã€‚ç”šè‡³è¿˜æœ‰ç¦»äº†å¤§è°±çš„ï¼Œç›´æ¥æä¸€ä¸ª pull request å†…å®¹æ˜¯æŠŠè‡ªå·±åŠ åˆ° contributors æ–‡ä»¶é‡Œã€‚ã€‚</p>
<p>æˆ‘ä»¥ä¸ºæ˜¯ Linux Foundation å‘ç–¯äº†ï¼Œä¸ºäº†æŸç§ â€œåˆè§„â€ æˆ–è€… sanctionï¼Œæ©è€³ç›—é“ƒï¼ŒæŠŠ ä½œè€…åå­—åˆ—è¡¨.txt æ”¹æ”¹æ©äººè€³ç›®</p>
<p>ä»”ç»†çœ‹äº†ä¸‹ï¼Œå‘ç°å¥½åƒå¹¶ä¸æ˜¯é‚£ä¹ˆç®€å•ã€‚è¿™é‡Œæ˜¯diff</p>
<p><a href="https://github.com/torvalds/linux/commit/6e90b675cf942e50c70e8394dfb5862975c3b3b2">https://github.com/torvalds/linux/commit/6e90b675cf942e50c70e8394dfb5862975c3b3b2</a></p>
<p>è¿™é‡Œæ˜¯æ›´æ”¹åå®Œæ•´çš„ <code>MAINTAINERS</code> å†…å®¹ï¼š</p>
<p><a href="https://github.com/torvalds/linux/blob/6e90b675cf942e50c70e8394dfb5862975c3b3b2/MAINTAINERS">https://github.com/torvalds/linux/blob/6e90b675cf942e50c70e8394dfb5862975c3b3b2/MAINTAINERS</a></p>
<p>ç›´æ¥é€šè¿‡ github API æ‹¿åˆ°åŸå§‹çš„ diff</p>
<p><code>curl -H'Accept: application/vnd.github.diff'  -sk 'https://api.github.com/repos/torvalds/linux/commits/6e90b675cf942e50c70e8394dfb5862975c3b3b2'</code></p>
<p>ä¹±å†™å‡ ä¸ª prompt ä¸¢ç»™ gpt-4oï¼Œå¯ä»¥çœ‹åˆ°å¤§æ¦‚åšäº†ä¸‹åˆ—å‡ å¤„æ›´æ”¹ï¼š</p>
<table>
<thead>
<tr>
<th><strong>Device/Module</strong></th>
<th><strong>Probable Date</strong></th>
<th><strong>Author</strong></th>
<th><strong>Email</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>Acer Aspire 1 Embedded Controller</td>
<td>~2018</td>
<td>Nikita Travkin</td>
<td>nikita@trvn.ru</td>
</tr>
<tr>
<td>Alpha Port (Ivan Kokshaysky removed)</td>
<td>~1992</td>
<td>Ivan Kokshaysky (removed)</td>
<td>ink@jurassic.park.msu.ru</td>
</tr>
<tr>
<td>ARM/Cirrus Logic CLPS711X Architecture</td>
<td>~1996</td>
<td>Alexander Shiyan</td>
<td>shc_work@mail.ru</td>
</tr>
<tr>
<td>Baikal-T1 PVT Hardware Monitor</td>
<td>~2015</td>
<td>Serge Semin</td>
<td>fancer.lancer@gmail.com</td>
</tr>
<tr>
<td>GRE Demultiplexer Driver</td>
<td>~2000</td>
<td>Dmitry Kozlov</td>
<td>xeb@mail.ru</td>
</tr>
<tr>
<td>LIBATA PATA Drivers</td>
<td>~2003</td>
<td>Sergey Shtylyov</td>
<td>s.shtylyov@omp.ru</td>
</tr>
<tr>
<td>LIBATA SATA AHCI Synopsys DWC Driver</td>
<td>~2014</td>
<td>Serge Semin</td>
<td>fancer.lancer@gmail.com</td>
</tr>
<tr>
<td>Media Drivers for Ascot2E</td>
<td>~2010</td>
<td>Sergey Kozlov, Abylay Ospan</td>
<td>serjk@netup.ru, aospan@netup.ru</td>
</tr>
<tr>
<td>Media Drivers for CXD2841ER</td>
<td>~2015</td>
<td>Sergey Kozlov, Abylay Ospan</td>
<td>serjk@netup.ru, aospan@netup.ru</td>
</tr>
<tr>
<td>Media Drivers for Helene</td>
<td>~2017</td>
<td>Abylay Ospan</td>
<td>aospan@netup.ru</td>
</tr>
<tr>
<td>Media Drivers for Horus3A</td>
<td>~2018</td>
<td>Sergey Kozlov, Abylay Ospan</td>
<td>serjk@netup.ru, aospan@netup.ru</td>
</tr>
<tr>
<td>Media Drivers for LNBH25</td>
<td>~2012</td>
<td>Sergey Kozlov, Abylay Ospan</td>
<td>serjk@netup.ru, aospan@netup.ru</td>
</tr>
<tr>
<td>NetUP PCI Universal DVB Devices</td>
<td>~2010</td>
<td>Sergey Kozlov, Abylay Ospan</td>
<td>serjk@netup.ru, aospan@netup.ru</td>
</tr>
<tr>
<td>MIPS Baikal-T1 Platform</td>
<td>~2015</td>
<td>Serge Semin</td>
<td>fancer.lancer@gmail.com</td>
</tr>
<tr>
<td>NTB IDT Driver</td>
<td>~2014</td>
<td>Serge Semin</td>
<td>fancer.lancer@gmail.com</td>
</tr>
<tr>
<td>PPTP Driver</td>
<td>~1996</td>
<td>Dmitry Kozlov</td>
<td>xeb@mail.ru</td>
</tr>
<tr>
<td>Renesas Ethernet AVB Driver</td>
<td>~2013</td>
<td>Sergey Shtylyov</td>
<td>s.shtylyov@omp.ru</td>
</tr>
<tr>
<td>Renesas R-Car SATA Driver</td>
<td>~2015</td>
<td>Sergey Shtylyov</td>
<td>s.shtylyov@omp.ru</td>
</tr>
<tr>
<td>Renesas SuperH Ethernet Driver</td>
<td>~2000</td>
<td>Sergey Shtylyov</td>
<td>s.shtylyov@omp.ru</td>
</tr>
<tr>
<td>Synopsys DesignWare APB SSI Driver</td>
<td>~2010</td>
<td>Serge Semin</td>
<td>fancer.lancer@gmail.com</td>
</tr>
<tr>
<td>UFS Filesystem</td>
<td>~1974</td>
<td>Evgeniy Dushistov</td>
<td>dushistov@gmail.com</td>
</tr>
</tbody>
</table>
<p>å¦‚æœè¯´ä½œè€… @gregkh ä½œå‡ºè¿™ä¸ªæ”¹åŠ¨çš„åŠ¨æœºè¯´</p>
<blockquote>
<p>Remove some entries due to various compliance requirements </p>
</blockquote>
<p>é‚£ä¹ˆ BAIKAL è¿™ä¸ªæ˜¯æ˜æ˜¾ä¼šå»æ‰ã€‚å…¶ä½™çš„æ”¹åŠ¨ï¼Œæˆ‘èƒ½è®¤å‡ºæ¥çš„æ¯”è¾ƒé‡è¦çš„æœ‰ PPTP Driverï¼Œå…¶å®ƒéƒ½æ˜¯äº”èŠ±å…«é—¨é©±åŠ¨çš„ç»´æŠ¤è€…ï¼Œæ„Ÿè§‰å°±ç®—å»æ‰ï¼Œ impact çš„åŠŸèƒ½ä¹Ÿä¸å¤šã€‚</p>
<p>å½“ç„¶ä½ ä¹Ÿå¯ä»¥è¯´ first they came for the ... æˆ‘å°±ä¸ç»§ç»­å±•å¼€äº†</p>
<p>ä¸‹é¢åˆ—ä¸¾å‡ ä¸ªå¯èƒ½ä¸é‚£ä¹ˆé‡è¦ï¼Œä½†æ˜¯æˆ‘è§‰å¾—å¾ˆå®¹æ˜“è¢«å¿½ç•¥çš„äº‹å®ï¼š</p>
<h3>ä¸€ã€ .ru çš„é‚®ç®±è¢«å…¨éƒ¨ç§»é™¤äº†å—ï¼Ÿ</h3>
<p>æ˜¯çš„ã€‚æœ€æ–°ç‰ˆæœ¬ <a href="https://github.com/torvalds/linux/blob/master/MAINTAINERS"><code>MAINTAINERS</code></a> æ–‡ä»¶é‡Œæˆ‘æœäº† <code>.ru</code>ã€<code>russia</code> å…³é”®è¯æ²¡æ‰¾åˆ°äº†ã€‚å¹²å¹²å‡€å‡€ã€‚å½“ç„¶åæœŸä¼šä¸ä¼šåŠ å›æ¥æˆ‘ä¸çŸ¥é“ã€‚</p>
<h3>äºŒã€ ä¿„å›½äººå¯¹ Linux çš„è´¡çŒ®è¢«æŠ¹æ‰äº†å—ï¼Ÿ</h3>
<p>ç¬¬ä¸€ï¼Œä¸Šé¢è¿™äº›äººçš„å¯¹åº”ä»£ç è´¡çŒ®ï¼Œç›®å‰å¹¶æ²¡æœ‰åˆ æ‰ã€‚</p>
<p>ç¬¬äºŒï¼ŒLinux æºç æ ¹ç›®å½•è¿˜æœ‰ä¸€ä¸ª <a href="https://github.com/torvalds/linux/blob/master/CREDITS"><code>CREDITS</code></a> æ–‡ä»¶ï¼Œé‡Œé¢åŒ…å«äº†ä¸‹åˆ—ä¿„å›½äººï¼š</p>
<pre><code>N: Yuri Per
E: yuri@pts.mipt.ru
D: Some smbfs fixes
S: Demonstratsii 8-382
S: Tula 300000
S: Russia

N: Alexey Kuznetsov
E: kuznet@ms2.inr.ac.ru
D: Author and maintainer of large parts of the networking stack

N: Stas Sergeev
E: stsp@users.sourceforge.net
D: PCM PC-Speaker driver
D: misc fixes
S: Russia

</code></pre>
<h3>ä¸‰ã€ ä¿„å›½äººä¸èƒ½å‚ä¸ Linux é¡¹ç›®äº†å—ï¼Ÿ</h3>
<p>æˆ‘åœ¨è¿™é‡Œæƒ³è¡¥å……ä¸€ä¸ªèƒŒæ™¯çŸ¥è¯†ï¼Œä»€ä¹ˆæ˜¯ Linux Kernel çš„ <strong>maintainer</strong> ï¼Ÿ</p>
<p>å†…æ ¸åŠŸèƒ½ç¹å¤šï¼ŒLinus è€çˆ·å­ä¸€ä¸ªäººç…§çœ‹ä¸è¿‡æ¥ï¼Œå¾—æŠŠæ‹†åˆ†æˆå„ä¸ªæ¨¡å—ï¼Œæˆæƒç»™ç›¸åº”çš„ è´Ÿè´£äºº(maintainer)ï¼Œç»™äºˆä»–ä»¬æ£€æŸ¥ã€åˆå¹¶ä»£ç çš„æƒé™ã€‚LinuxåŸºé‡‘ä¼šï¼ˆæ³¨å†Œåœ°ï¼šç¾å›½ï¼‰ä¼šç»™ä»–ä»¬é…ç½®ä¸€ä¸ªä¸“ç”¨é‚®ä»¶åˆ—è¡¨ç”¨æ¥ä¸»æŒä¸“é¡¹è®®äº‹</p>
<p>ä¸Šé¢è¿™å¥è¯ï¼Œå¦‚ä½•ç†è§£ï¼Ÿå¯èƒ½å¯¹æŸäº›ç®€ä¸­è¯»è€…æ²¡çœ‹æ˜ç™½ã€‚ç®€å•çš„è¯´ï¼š.ru ç”¨æˆ·è¿˜æ˜¯å¯ä»¥ä»¥ developer èº«ä»½å‘åˆ«çš„ maintainer æäº¤ä»£ç ã€‚è¿™é‡Œä¸å¾—ä¸æåˆ°é‚£ä¸ªå‡ºåçš„ kernel git workflow</p>
<p>è¿™æ˜¯æ™®é€š git é¡¹ç›®çš„å·¥ä½œæµï¼š</p>
<p><img alt="" src="https://git-scm.com/book/ms/v2/images/centralized_workflow.png" /></p>
<p>è¿™ä¸ªæ˜¯ linux kernel çš„ï¼ˆå›¾å¾ˆè€ï¼Œå¤§æ¦‚è¿™ä¸ªæ„æ€ï¼‰ï¼š</p>
<p><img alt="" src="https://chenweixiang.github.io/assets/linux_kernel_code_flow.jpg" /></p>
<p>æ™®é€šäººæ˜¯æ²¡æ³•ç›´æ¥å‘ mainline <a href="https://github.com/torvalds/linux">https://github.com/torvalds/linux</a>  æäº¤ä»£ç çš„ã€‚è¿™ä¸ªç¤¾åŒºç”šè‡³ä¼šç»™ä½ ä¸€ä¸ª<a href="https://www.kernel.org/doc/html/latest/process/1.Intro.html">é•¿é•¿çš„æ–‡æ¡£</a>æ•™ä½ ä¸€æ­¥ä¸€æ­¥å¦‚ä½•æä»£ç  </p>
<p>ä¸è¦è¯´æ–°åŠŸèƒ½äº†ï¼Œä¸€äº›è€åŠŸèƒ½çš„ patch è¦èµ¶ä¸Šä¸»çº¿å‘è½¦çª—å£ï¼Œä½ æ‰‹ç»­æµç¨‹éƒ½å¾ˆé•¿ã€‚</p>
<p>æƒ³ç»™å†…æ ¸åšè´¡çŒ®ï¼Œä½ è¦é¢å¯¹çš„ç”šè‡³éƒ½ä¸æ˜¯ Linus æœ¬å°Šï¼Œæ°å¥½æ˜¯è¿™äº› <code>MAINTAINERS</code> é‡Œåˆ—ä¸¾çš„å„ä½æŠŠå…³äººã€‚ä¸–ç•Œä¸Šç»å¤§éƒ¨åˆ†çš„äººå¯¹ Linux å†…æ ¸åšè´¡çŒ®éƒ½æ˜¯è¿™æ ·ã€‚ maintainer æ˜¯æå°‘æ•°ï¼Œä»–ä»¬å¯ä»¥ç›´æ¥å‘ Linus ææ”¹åŠ¨ã€‚</p>
<p>Linus è‡ªå·±ä¹Ÿè¯´äº†ï¼Œä»–æ˜¯èŠ¬å…°äººï¼Œæ„æ€å°±æ˜¯è¯´ä»–ä¸æƒ³çœ‹åˆ°ä¿„å›½äººã€‚å•Šè¿™ã€‚èƒ½ç†è§£ï¼Œä¸æå€¡ï¼</p>
<h3>å››ã€maintainer åå•å˜åŒ–å¤šå—ï¼Ÿ</h3>
<p>ä»æäº¤å†å²æ¥çœ‹ï¼Œ</p>
<p><a href="https://github.com/torvalds/linux/commits/master/MAINTAINERS">https://github.com/torvalds/linux/commits/master/MAINTAINERS</a></p>
<p>äººå‘˜è¿›è¿›å‡ºå‡ºå¾ˆé¢‘ç¹ã€‚ä½†æ˜¯ @gregkh è¿™ç§åœ¨ <code>char-misc</code> é‡Œæ­è½¦è¿›å»ï¼Œçš„ç¡®å·å·æ‘¸æ‘¸ã€‚</p>
<h3>äº”ã€ .cn ä¼šè¢«æ³¢åŠå—ï¼Ÿ</h3>
<p>è¿™ä¸ªé—®é¢˜æˆ‘æ— æ³•å›ç­”ï¼Œä½†æ˜¯å¯ä»¥åˆ—ä¸€ä¸‹ç°åœ¨æœ‰çš„ï¼š</p>
<ol>
<li>ä¸€å¤§å † LOONGARCH é¾™èŠ¯çš„é©±åŠ¨å’Œå„ç§æ¨¡å—</li>
<li>æµ·å…‰ HYGON é©±åŠ¨</li>
<li>ç®€ä¸­ç¿»è¯‘ Alex Shi <a href="&#109;&#97;&#105;&#108;&#116;&#111;&#58;&#97;&#108;&#101;&#120;&#115;&#64;&#107;&#101;&#114;&#110;&#101;&#108;&#46;&#111;&#114;&#103;">&#97;&#108;&#101;&#120;&#115;&#64;&#107;&#101;&#114;&#110;&#101;&#108;&#46;&#111;&#114;&#103;</a> Yanteng Si <a href="&#109;&#97;&#105;&#108;&#116;&#111;&#58;&#115;&#105;&#121;&#97;&#110;&#116;&#101;&#110;&#103;&#64;&#108;&#111;&#111;&#110;&#103;&#115;&#111;&#110;&#46;&#99;&#110;">&#115;&#105;&#121;&#97;&#110;&#116;&#101;&#110;&#103;&#64;&#108;&#111;&#111;&#110;&#103;&#115;&#111;&#110;&#46;&#99;&#110;</a></li>
<li>ç¹ä½“ç¿»è¯‘ Hu Haowen <a href="&#109;&#97;&#105;&#108;&#116;&#111;&#58;&#50;&#48;&#50;&#51;&#48;&#48;&#50;&#48;&#56;&#57;&#64;&#108;&#105;&#110;&#107;&#46;&#116;&#121;&#117;&#116;&#46;&#101;&#100;&#117;&#46;&#99;&#110;">&#50;&#48;&#50;&#51;&#48;&#48;&#50;&#48;&#56;&#57;&#64;&#108;&#105;&#110;&#107;&#46;&#116;&#121;&#117;&#116;&#46;&#101;&#100;&#117;&#46;&#99;&#110;</a> https://github.com/srcres258/linux-doc å¤ªåŸç†å·¥çš„äººæ‰ï¼</li>
<li>RADOS BLOCK DEVICE (RBD) Ilya Dryomov <a href="&#109;&#97;&#105;&#108;&#116;&#111;&#58;&#105;&#100;&#114;&#121;&#111;&#109;&#111;&#118;&#64;&#103;&#109;&#97;&#105;&#108;&#46;&#99;&#111;&#109;">&#105;&#100;&#114;&#121;&#111;&#109;&#111;&#118;&#64;&#103;&#109;&#97;&#105;&#108;&#46;&#99;&#111;&#109;</a> Dongsheng Yang <a href="&#109;&#97;&#105;&#108;&#116;&#111;&#58;&#100;&#111;&#110;&#103;&#115;&#104;&#101;&#110;&#103;&#46;&#121;&#97;&#110;&#103;&#64;&#101;&#97;&#115;&#121;&#115;&#116;&#97;&#99;&#107;&#46;&#99;&#110;">&#100;&#111;&#110;&#103;&#115;&#104;&#101;&#110;&#103;&#46;&#121;&#97;&#110;&#103;&#64;&#101;&#97;&#115;&#121;&#115;&#116;&#97;&#99;&#107;&#46;&#99;&#110;</a> ceph-devel@vger.kernel.org</li>
<li>ä¸€å¤§å † @huawei.com @linux.alibaba.comçš„å„ç§é©±åŠ¨å’Œæ¨¡å—</li>
<li>å¯èƒ½æœ‰åˆ«çš„<a href="https://blog.est.im/201906/stdout-003">å¤§é™†+æ¸¯æ¾³å°å…¬å¸</a>é‚®ç®±æˆ‘æ¼æ‰äº†ã€‚æ‡’å¾—çœ‹äº†ã€‚</li>
</ol>
<p>åœ¨ <code>CREDITS</code> é‡Œé¸£è°¢çš„ï¼š</p>
<pre><code>N: Chih-Jen Chang
E: chihjenc@scf.usc.edu
E: chihjen@iis.sinica.edu.tw
D: IGMP(Internet Group Management Protocol) version 2
S: 3F, 65 Tajen street
S: Tamsui town, Taipei county,
S: Taiwan 251
S: Republic of China

N: Li Yang
E: leoli@freescale.com
D: Freescale Highspeed USB device driver
D: Freescale QE SoC support and Ethernet driver
S: B-1206 Jingmao Guojigongyu
S: 16 Baliqiao Nanjie, Beijing 101100
S: People's Repulic of China

N: Tsu-Sheng Tsao
E: tsusheng@scf.usc.edu
D: IGMP(Internet Group Management Protocol) version 2
S: 2F 14 ALY 31 LN 166 SEC 1 SHIH-PEI RD
S: Taipei
S: Taiwan 112
S: Republic of China
S: 24335 Delta Drive
S: Diamond Bar, California 91765
S: USA

</code></pre>
<h3>å…­ã€ç»“æŸè¯­</h3>
<p>æ€»çš„æ¥è¯´ Linuxå†…æ ¸é¡¹ç›®ï¼ŒåŒ…æ‹¬ä¸é™äºå¾ˆå¤šåˆ«çš„ç¤¾åŒºé¡¹ç›®ï¼Œè¿˜æ˜¯è‹±é›„ä¸»ä¹‰è‰²å½©å¾ˆé‡çš„ï¼Œè¿™æ ·çš„ä¸ªäººä¸»ä¹‰æ—¢å¯ä»¥è¯´å‡ºâ€œnVidia fuck youâ€ï¼Œä¹Ÿå®Œå…¨æœ‰å¯èƒ½åœ¨æŸä¸€å¤©æŠŠä¸»è¯­ä¸æ»‘åˆ‡æˆ â€œRussiaâ€ã€‚è¿™å‹æ ¹å°±æ˜¯åŒä¸€ä¸ªç¡¬å¸çš„åŒä¸€é¢ï¼ˆç”šè‡³éƒ½ä¸æ˜¯å¦ä¸€é¢ï¼‰</p>
<p>åœ¨å›½é™…åœ°ç¼˜æ”¿æ²»çƒ­ç«æœå¤©ã€æ®µè§†é¢‘AIè¯µè¯»ã€<a href="https://blog.est.im/2022/stderr-02">æƒ…ç»ªæ§åˆ¶ç»ˆç«¯</a>æ»¡å¤©é£çš„ä»Šå¤©ï¼Œè®¨è®ºè¿™äº›é‡è¦å—ï¼Ÿæœ‰ç”¨å—ï¼Ÿ</p>
<p>å›ç­”ï¼šä¸é‡è¦ï¼Œæ²¡ç”¨</p>
<p>ä½†æ˜¯å¯¹æˆ‘ä¸ªäººè€Œè¨€ï¼Œæˆ–è®¸æœ‰é‚£ä¹ˆä¸€ä¸¢ä¸¢é‡è¦ï¼Œæœ‰ä¸€ä¸ç‚¹ç”¨ã€‚</p>
<p>å¸Œæœ›å¯¹ä½ ä¹Ÿæœ‰ç‚¹ç”¨ã€‚</p></p>
            <div class="card-subtext muted-text">
              <p>Posted <time datetime="2024-10-24T15:26:00+08:00">2024-10-24</time></p>
<p>stdout</p>            </div>
          </article>
        </div>


        <!-- new article -->
        <div class="card blog-card">
          <article class="card-body">
            <a href="/2024/stdout-21"  rel="bookmark" >
              <h2 class="card-title">â€œåˆ†å°åˆ¶â€ ä»£æ›¿RBACæƒé™ç®¡ç†æ¨¡å‹</h2>
            </a>
            <p class="card-text"><p>ä½œä¸ºå¼€å‘ç‹—ï¼Œæ‰‹ä¸Šå †çš„ç³»ç»Ÿå’Œä»»åŠ¡å¤šäº†ï¼Œå¼€æƒé™å°±å˜æˆäº†ä¸€ä»¶éº»çƒ¦çš„äº‹ã€‚</p>
<p>ä¸€å¼€å§‹åšä¸€ä¸ªåŠŸèƒ½Xï¼Œç»™ç”²ç”¨ï¼Œå°±åšä¸€ä¸ªç®€å•çš„æƒé™å…³è”è¡¨ï¼š<code>åŠŸèƒ½key</code>ï¼Œ<code>äººå‘˜id</code>å°±å®Œäº‹å¤§å‰</p>
<p>åæ¥äººå‘˜è°ƒæ•´æµåŠ¨ï¼Œæ¢äººæ¢å¾—å‹¤å¿«ï¼Œå¾—è€ƒè™‘ä¸€ä¸ªåŠŸèƒ½ç»™ä¸€ä¸ªå›¢é˜Ÿä½¿ç”¨ï¼Œäºæ˜¯å¼•å…¥ RBACï¼ŒåŸºäºè§’è‰²çš„é‰´æƒæ§åˆ¶ã€‚è¯´åˆ°åº•å°±æ˜¯ä¸ªä¸‰å…ƒç»„ <code>åŠŸèƒ½key</code>ï¼Œ<code>è§’è‰²</code>ï¼Œ<code>æˆå‘˜id</code>ã€‚</p>
<p>æˆ‘ä¹Ÿä¸€åº¦è¿·ä¿¡è¿™æ ·çš„è®¾è®¡ã€‚ç”¨äº†è¿™ä¹ˆä¹…è¿˜æ˜¯éº»çƒ¦äº†ã€‚åœ¨ä¸€ä¸ªæ­£å¸¸å®˜åƒšç¨‹åº¦çš„å¤§ä¸­å‹ç»„ç»‡é‡Œï¼Œå‹æ ¹æ²¡äººçŸ¥é“è‡ªå·±è§’è‰²æ˜¯å•¥ã€‚</p>
<p>ä½ è¯´ä»–æ˜¯ç®¡ç†äººå‘˜å§ï¼Œä»–ä¹Ÿå°±ç®¡ä¸€éƒ¨åˆ†ï¼›ä½ è¯´ä»–è´Ÿè´£è¿™äº‹å§ï¼Œä¹Ÿå°±è´Ÿè´£ä¸€é˜µã€‚è¯¥ç»™ä»–æ”¾åˆ°å“ªä¸ªè§’è‰²å‘¢ï¼Ÿ</p>
<p>å¦‚æœåšä¸€ä¸ªè‡ªåŠ¨åŒ–è§’è‰²ç”³è¯·å®¡æ‰¹æµç¨‹ï¼Œä»–ä¼šè·‘æ¥é—®ä½ ï¼Œè¯¥ç”³è¯·å“ªä¸ªè§’è‰²å•Šï¼Ÿ</p>
<p>æ‰€ä»¥é—®é¢˜åˆå›åˆ°äº†åŸç‚¹ã€‚å› æ­¤æˆ‘ç¢ç£¨å‡ºæ¥ä¸€å¥—å…·æœ‰å¤§æ±‰å°å»ºä¸»ä¹‰ç‰¹è‰²çš„ï¼Œã€Œåˆ†å°åˆ¶ã€æƒé™æ§åˆ¶ä½“ç³»ã€‚</p>
<ul>
<li>ç³»ç»Ÿè¶…ç®¡ï¼šæ™®å¤©ä¹‹ä¸‹ï¼Œè«éç‹åœŸï¼›ç‡åœŸä¹‹å®¾ï¼Œè«éç‹è‡£ã€‚æ‹¥æœ‰ç³»ç»Ÿä¸€åˆ‡æƒé™ã€‚ä½†æ˜¯ä¸è´Ÿè´£ï¼Œä¸æ‰§è¡Œï¼Œä¸æå…·ä½“ç®¡ç†ã€‚è¶…ç®¡åªå¹²ä¸€ä»¶äº‹ï¼šåˆ†å°</li>
<li>å¦‚ä½•åˆ†å°ï¼šæŠŠã€Œäº‹ã€äº¤ç»™ä¸€ä¸ªä¿¡å¾—è¿‡çš„é¢†ä¸»ï¼ˆserfï¼‰ã€‚é¢†ä¸»å¯¹ä¸€å—ä¸šåŠ¡å…¨æƒè´Ÿè´£ã€‚ä½†ä»£ä»·å¾—è‡ªå·±æŠŠå°åœ°é‡‡é‚‘æ‰“ä¸‹æ¥ã€‚å…·ä½“åœ¨ç³»ç»Ÿå±‚é¢ï¼Œç³»ç»Ÿæ‰€æœ‰æƒé™ã€åŠŸèƒ½éƒ½ç›´æ¥å¼€æ”¾ï¼Œæ‰€è°“ zero-trustã€‚ä½†æ˜¯ä½ å¾—ä»é›¶å¼€å§‹æ­å»ºå’Œé…ç½®ã€‚ä¸€æ—¦ä½ é…ç½®å¥½ã€è·‘èµ·æ¥ï¼Œè¿™å¿«æƒé™å’ŒåŠŸèƒ½å°±æ˜¯ä½ ç‹¬æœ‰çš„ã€‚ï¼ˆownerï¼‰</li>
<li>çº¿ä¸Šæ—¢æœ‰çš„ä¸šåŠ¡æƒé™ï¼Œé‚£ä¹Ÿæ˜¯æœ‰äººé…ç½®ç®¡ç†å’Œä¸»å¯¼ï¼Œä½ åªèƒ½ä»åˆ«é‚£é‡ŒæŠ¢å¤ºï¼Œæˆ–è€…è¿‡ç»§ã€‚</li>
<li>é¢†ä¸»å¯ä»¥ç»™è‡ªå·±å°è‡£åˆ’åˆ†éƒ¨åˆ†ç®¡ç†æƒé™</li>
<li>å¦‚æœä¸€ä¸ªé¢†ä¸»æŒ‚äº†ï¼Œè¶…ç®¡æŒ‡å®šä¸€ä¸ªæ¥ç›˜çš„é¢†ä¸»</li>
</ul>
<p>æ„Ÿè§‰è¿™æ ·å¼€å‘å’Œè¶…ç®¡å°±å¯ä»¥ä¸ç”¨æ¯å¤©å¤„ç†è°è´Ÿè´£å“ªä¸ªåŠŸèƒ½çš„éº»çƒ¦äº‹äº†ã€‚å“ˆå“ˆå“ˆ</p></p>
            <div class="card-subtext muted-text">
              <p>Posted <time datetime="2024-10-17T15:21:00+08:00">2024-10-17</time></p>
<p>stdout</p>            </div>
          </article>
        </div>


        <!-- new article -->
        <div class="card blog-card">
          <article class="card-body">
            <a href="/2024/stdout-20"  rel="bookmark" >
              <h2 class="card-title">Install mosh for macOS arm64 with Miniconda3</h2>
            </a>
            <p class="card-text"><p>I always hate compiling and building. It's an error-prone path filled with riddles and unknowns.</p>
<p><code>mosh</code> is a great tool replacing <code>ssh</code> in many cases, sadly it does not provide an <code>arm64</code> binary download or installer for M1/M2/M3 MacBooks. Moreover I dont like XCode and protected <code>/usr/bin</code> shit so I prefer isolated envs like <code>miniconda3</code>.</p>
<p>Anyway, for such a detour, following the <a href="https://github.com/mobile-shell/mosh/wiki/Build-Instructions">official mobile-shell build wiki</a>, type these commands:</p>
<pre><code class="language-sh">conda install autoconf automake libprotobuf pkg-config tmux
# use libncursesw 6.5 since  6.4 is buggy, rpath and dyld not load LC_RPATH shit
conda install conda-forge::ncurses
git clone --depth=1 https://github.com/mobile-shell/mosh.git`
cd mosh

./autogen.sh
./configure --prefix $CONDA_PREFIX
make check
make
make install
</code></pre>
<p>And it's done. All thanks to authors for open source project and butter-smooth build scripts.</p></p>
            <div class="card-subtext muted-text">
              <p>Posted <time datetime="2024-09-28T10:05:00+08:00">2024-09-28</time></p>
<p>stdout</p>            </div>
          </article>
        </div>


        <!-- new article -->
        <div class="card blog-card">
          <article class="card-body">
            <a href="/2024/stdout-19"  rel="bookmark" >
              <h2 class="card-title">ç²¾å‡† javascript èŠ‚æ‹å™¨</h2>
            </a>
            <p class="card-text"><p>å¨ƒå­¦ç´ï¼ŒèŠ‚å¥æ„Ÿç³Šæˆä¸€å¨äº†ã€‚è€å¸ˆè®©æŠ–è…¿æ‰“èŠ‚æ‹ï¼Œæ˜¾ç„¶ä¸workã€‚ç å†œç‰¹æœ‰çš„ç©·Bæ°”è´¨è®©æˆ‘èˆä¸å¾—ä¹°ä¸ªå®ä½“çš„ï¼›å»æ‰¾ä¸ªèŠ‚æ‹å™¨appï¼Œç»“æœå„å¤§å¸‚åœºéƒ½æ˜¯å„ç§å¹¿å‘Šï¼Œæ€•ç»™å¨ƒç”¨ä¸æ­£ç»ï¼›ç”šè‡³æ‰¾äº†å¾ˆå¤šå…¬ä¼—å·ç‰ˆçš„ï¼Œå°ç¨‹åºç‰ˆçš„ï¼Œç½‘é¡µç‰ˆçš„ï¼Œæ™®ééƒ½æ˜¯å„ç§è·³è½¬è¯±å¯¼ç‚¹å‡»ã€‚</p>
<p>å¤±æœ›ä¹‹ä½™ï¼Œæƒ³èµ·æ¥ä¸Šæ¬¡<a href="https://blog.est.im/2022/stdout-10">JSæ’­æ”¾DTMF</a>å¯¹ WebAudio æœ‰ç‚¹æ„Ÿè§‰ï¼Œè¦ä¸è¿™æ¬¡è‡ªå·±å¹²è„†å†æ‰‹æ“ä¸€ä¸ªã€‚<a href="https://news.ycombinator.com/item?id=20935492">è°ƒç ”</a>äº†ä¸€åœˆå‘ç°è¿™ç©æ„æ²¡é‚£ä¹ˆå®¹æ˜“ï¼Œä¸»è¦å°±æ˜¯javascriptåœ¨æµè§ˆå™¨é‡Œ <code>setInterval</code> æ˜¯æœ‰æ—¶é—´æŠ–åŠ¨ï¼ˆjitterï¼‰çš„ï¼Œä¸èƒ½ä¿è¯èŠ‚å¥ç²¾ç¡®ã€‚ä¸‹é¢çš„å›¾<a href="https://meowni.ca/posts/metronomes/">æ¥è‡ª Monica Dinculescu</a></p>
<p><img alt="" src="https://meowni.ca/images/metronomes/2.png" /></p>
<p>å³ä¾¿é‡‡ç”¨äº† <code>requestAnimationFrame</code> ä¹Ÿä¸è¡Œ</p>
<p><img alt="" src="https://meowni.ca/images/metronomes/3.png" /></p>
<p>å› ä¸ºjsçš„æ‰§è¡Œæ— è®ºå¦‚ä½•trickï¼Œæœ¬è´¨éƒ½æ˜¯åœ¨åªæœ‰ä¸€ä¸ªä¸»çº¿ç¨‹çš„å•çº¿ç¨‹ã€‚å¦‚ä½•æ‰èƒ½åšåˆ°ç²¾å‡†é‡‡æ ·æ‰“èŠ‚æ‹å‘¢ï¼Ÿè¿ç»­ç²¾å¿ƒç¼–æ’ AudioContext æ—¶é—´è½´ï¼å› ä¸ºéŸ³é¢‘æ’­æ”¾æ˜¯ç³»ç»Ÿè°ƒåº¦è·Ÿjsæ— å…³</p>
<p>æœäº†ä¸€åœˆå‘ç°ä¸€ä½å« <a href="https://grantjam.es/creating-a-simple-metronome-using-javascript-and-the-web-audio-api/">Grant James å·²ç»å†™å¥½</a>æ”¾åœ¨ <a href="https://github.com/grantjames/metronome">github</a> äº†ã€‚é‚£è¿˜ç­‰ä»€ä¹ˆç›´æ¥æ‹¿æ¥ï½ï½é’ˆå¯¹æ€§ä¸‹åˆ—éœ€æ±‚æ”¹äº†ä¸€ç•ª</p>
<ol>
<li>æ— å¹¿å‘Š</li>
<li>å»æ‰ .js .css ä¾èµ–ï¼Œå•æ–‡ä»¶æ›´å¿«</li>
<li>ç²¾ç®€ä¸å¿…è¦çš„ä»£ç ç»“æ„ï¼Œæ–¹ä¾¿ä»¥åé­”æ”¹</li>
</ol>
<p>æ”¹å®Œä¹‹åå‘ç°ä¸¤ä¸‰ä¸ªå‘ä¹Ÿè·Ÿç€ä¸€èµ·ä¿®è¡¥äº†ï¼š</p>
<ol>
<li>ç”¨ <code>wakeLock</code> é˜²æ­¢æ‰‹æœºä¸Šä½¿ç”¨æ¯å±</li>
<li>çªç ´å›ºå®šçš„4æ‹å­ï¼ŒåŠ ä¸Šå¯ä»¥å¢å‡çš„èŠ‚æ‹æ§åˆ¶</li>
<li>å¢å‡æŒ‰é’®ç¦æ­¢è°ƒåˆ°å°äº 0</li>
</ol>
<p>æœ€åæˆæœå°±æ”¾åœ¨ <a href="https://lab.est.im/metronome/">https://lab.est.im/metronome/</a> è¿™é‡Œäº†ã€‚æœ‰éœ€è¦çš„æ‹¿å»ç”¨ã€‚åè®® <a href="https://creativecommons.org/licenses/by-nc/4.0/" target="_blank" rel="license noopener noreferrer" style="display:inline-flex;">CC BY-NC 4.0<img style="height:1em!important;margin:auto 2px auto 2px;" src="https://mirrors.creativecommons.org/presskit/icons/cc.svg"><img style="height:1em!important;margin:auto 2px auto 2px;" src="https://mirrors.creativecommons.org/presskit/icons/by.svg"><img style="height:1em!important;margin:auto 2px auto 2px;" src="https://mirrors.creativecommons.org/presskit/icons/nc.svg"></a></p>
<p>20240929æ›´æ–°ï¼š</p>
<ol>
<li>æ”¯æŒäº†é•¿æŒ‰æŒ‰é’®ä¸€ç›´å¢åŠ å‡å°‘ bpm</li>
<li>ç¦æ­¢é•¿æŒ‰å‡ºç°èœå•</li>
<li>ç¦æ­¢åŒå‡»ç¼©æ”¾</li>
</ol></p>
            <div class="card-subtext muted-text">
              <p>Posted <time datetime="2024-09-26T22:52:00+08:00">2024-09-26</time></p>
<p>stdout</p>            </div>
          </article>
        </div>


        <!-- new article -->
        <div class="card blog-card">
          <article class="card-body">
            <a href="/2024/stdout-18"  rel="bookmark" >
              <h2 class="card-title">Edgeæ‰¾å›ä¸¢å¤±çš„å³ä¸Šè§’Copilotä¾§è¾¹æ å›¾æ ‡</h2>
            </a>
            <p class="card-text"><p>å³ä¸Šè§’å›¾æ ‡å’Œä¾§è¾¹æ çš„å®˜æ–¹æˆªå›¾ï¼š</p>
<p><img referrerpolicy="no-referrer" src="https://blogs.windows.com/wp-content/uploads/prod/sites/33/2023/12/devtools-copilot-in-edge-1.png" /></p>
<p>å¦‚æœä¸å°å¿ƒå…³æ‰äº†ï¼Œæ‰¾å›åŠæ³•ï¼š</p>
<ol>
<li>æ‰“å¼€ <code>edge://settings/sidebar/appSettings?hubApp=cd4688a9-e888-48ea-ad81-76193d56b1be</code></li>
<li><code>F12</code> æˆ–è€… <code>Opt+Cmd+I</code>ï¼Œæ‰¾åˆ°ç¬¬ä¸€ä¸ªâ€œShow Copilotâ€å¼€å…³ï¼ŒæŠŠå®ƒæ”¹æˆå…³é—­ã€‚</li>
<li>å¦‚æœç¬¬äºŒæ­¥ä¸ä¼šæï¼Œè¾“å…¥ <code>document.querySelector('input[aria-label="Show Copilot"]').removeAttribute('disabled')</code> å¯ç ´</li>
</ol>
<p>ä¸ºä»€ä¹ˆä¼šæœ‰è¿™ä¸ªé—®é¢˜ï¼Œå› ä¸ºæ”¿ç­–çš„åŸå› ï¼ŒMicrosoft Copilot ä¸èƒ½åœ¨ç®€ä¸­ä½¿ç”¨ï¼Œäºæ˜¯å³ä¸Šè§’çš„æŒ‰é’®ç‚¹ä¸€ä¸‹ä¼šæ¶ˆå¤±ï¼›ä½†æ˜¯å¼€å‘æˆ–è€…é›†æˆæµ‹è¯•çš„ä¸ºäº†çœäº‹å„¿ï¼Œå°±ç›´æ¥ç»™éšè—æ‰ï¼Œå¯¼è‡´ä¾§è¾¹æ æ— æ³•ç‚¹å¼€</p>
<p>è¿™ä¸² hubApp çš„idå¦‚ä½•æ‰¾åˆ°å‘¢ï¼Ÿæ–°å»ºä¸€ä¸ªæµè§ˆå™¨profileï¼Œè¿™ä¸ªæ—¶å€™ Copilot æ˜¯æœ‰å›¾æ ‡çš„ã€‚ä¸è¦å»ç‚¹ï¼Œå»è®¾ç½®é‡Œç¿» <code>edge://settings/sidebar</code> å°±èƒ½çœ‹åˆ° Copilot çš„é€‰é¡¹ã€‚</p></p>
            <div class="card-subtext muted-text">
              <p>Posted <time datetime="2024-09-22T21:49:00+08:00">2024-09-22</time></p>
<p>stdout</p>            </div>
          </article>
        </div>


        <!-- new article -->
        <div class="card blog-card">
          <article class="card-body">
            <a href="/2024/stdout-17"  rel="bookmark" >
              <h2 class="card-title">phpæ˜¯æœ€å¥½çš„â€¦â€¦serverless</h2>
            </a>
            <p class="card-text"><p>phpæ˜¯ä¸æ˜¯æœ€å¥½çš„è¯­è¨€å…ˆä¸è¯´ï¼Œä½†æ˜¯å¦‚æœä» serverless çš„è§’åº¦çœ‹phpï¼š</p>
<ol>
<li>è¯­æ³•ç®€å•ï¼ŒåŠŸèƒ½ä¸°å¯Œï¼Œ10åˆ†é’Ÿå°±èƒ½å­¦ä¼š</li>
<li>é€šè¿‡ FTP ä¹‹ç±»çš„æ ‡å‡†å·¥å…·éƒ¨ç½²ï¼Œè€Œä¸æ˜¯è„‘æ®‹çš„å‘½ä»¤è¡Œ</li>
<li>ä¸ç”¨ç®¡ç†éº»çƒ¦çš„æœåŠ¡å™¨ã€‚åŸºäºéå¸¸æˆç†Ÿçš„ php-fpm å»åš scalingã€‚ä¹Ÿæœ‰å¤§é‡å·¨å‹ç½‘ç«™éªŒè¯è¿‡è¿™ä¸€æ–¹æ¡ˆ</li>
<li>è™½ç„¶ä¸æ˜¯ dockerï¼Œä½†æ˜¯ <code>vhost</code> å¤Ÿç”¨äº†ã€‚è€Œä¸”è¦å®¹å™¨åŒ– <code>vhost</code> ä¹Ÿå¾ˆå®¹æ˜“</li>
<li>è®©äººæ¢¦å¯ä»¥æ±‚çš„â€œçƒ­æ›´æ–°â€æŠ€æœ¯</li>
<li>è¶…çº§ä¾¿å®œçš„æœˆç§Ÿã€‚ï¼ˆè¿˜è®°å¾— dreamhost å—ï¼Ÿï¼‰</li>
<li>ä¸ä¼šåŠæ­»åœ¨ä¸€é¢—æ ‘ï¼ˆvendor lock-inï¼‰ä¸Šã€‚å…¨çƒéåœ°çš„å‚å•†éƒ½æ”¯æŒ</li>
</ol>
<p>ä½ å°±è¯´å¥½ä¸å¥½å§ã€‚åŒæ—¶<a href="https://news.ycombinator.com/item?id=41358020#41364190">è¯„è®ºåœ¨ Hacker News</a></p></p>
            <div class="card-subtext muted-text">
              <p>Posted <time datetime="2024-08-27T11:06:00+08:00">2024-08-27</time></p>
<p>stdout</p>            </div>
          </article>
        </div>


        <!-- new article -->
        <div class="card blog-card">
          <article class="card-body">
            <a href="/2024/stdout-16"  rel="bookmark" >
              <h2 class="card-title">2024å¹´ç©xmlçœŸæ˜¯ç¬‘æ­»äº†ï¼ˆxslï¼‰</h2>
            </a>
            <p class="card-text"><p>æ˜¨å¤©å¤§æ—©ä¸Šçš„6ç‚¹å°±é†’äº†ï¼Œç¿»æ¥è¦†å»ç¡ä¸ç€ï¼Œå°±å¼€å§‹èƒ¡æ€ä¹±æƒ³ã€‚å¿˜è®°æ˜¯ä»€ä¹ˆç¼˜èµ·äº†ï¼Œåæ­£çªç„¶æƒ³åˆ°ä¸€ä¸ªé—®é¢˜ï¼Œåšå®¢è¿™ç§é™æ€ç«™ï¼Œåˆè¦è¾“å‡ºhtmlï¼Œåˆè¦è¾“å‡ºrssã€‚å¤ªå†—ä½™äº†ã€‚è¦ä¸ç›´æ¥æŠŠå†…å®¹å­˜åœ¨RSSé‡Œã€‚ç„¶åç”¨jså»<code>fetch()</code>ã€‚ã€‚ã€‚ã€‚</p>
<p>ç­‰ç­‰ï¼Œæ­»å»çš„è®°å¿†çªç„¶æ”»å‡»æˆ‘ã€‚RSSä¸å°±æ˜¯XMLï¼ŒXMLä¼¼ä¹æœ‰ä¸ªåŠ çš®è‚¤çš„æŠ€æœ¯ã€‚äºæ˜¯å°±æ›´ç¡ä¸ç€äº†ï¼Œèµ·åºŠä¸€æŸ¥ï¼ŒåŸæ¥æ˜¯ XSLT è½¬æ¢æˆ HTML ç„¶åå°±å¯ä»¥è‡ªç”±å‘æŒ¥äº†ã€‚</p>
<p>å¯è¡Œæ€§æ²¡é—®é¢˜ï¼Œå‡†å¤‡æ‰¾ä¸ªå‰äººçš„ä¾‹å­å¼€æŠ„ã€‚æ¯”å¦‚ <a href="https://natclark.com/tutorials/xslt-style-rss-feed/">2021å¹´Nathan Clarkçš„Styling an RSS Feed With XSLT</a>ï¼Œ<a href="https://darekkay.com/blog/rss-styling/">2023å¹´Darek Kayçš„Style your RSS feed</a></p>
<p>æ€è·¯å°±å¾ˆåŒ¹é…ï¼Œæ‰§è¡Œæ•ˆæœä¹Ÿä¸é”™ã€‚æˆ‘æƒ³ç™¾å°ºç«¿å¤´æ›´è¿›ä¸€æ­¥ï¼ŒæŠŠ XSL ç»™ inline åˆ° RSS é‡Œï¼Œé¿å…é¢å¤–çš„åŠ è½½ï¼ŒèŠ‚çœä¸€æ¬¡ç½‘ç»œè¯·æ±‚ã€‚å—ï¼Œæ²¡æƒ³åˆ°è¿™ä¸‹éº»çƒ¦å¤§äº†ï¼ŒæŠ˜è…¾åˆ°ç°åœ¨æ‰æœ‰ä¸ªåˆæ­¥ç»“æœã€‚ç›´æ¥è´´æºç ï¼š</p>
<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;
&lt;?xml-stylesheet type=&quot;text/xsl&quot; href=&quot;#stylesheet&quot;?&gt;

&lt;some_xml_root xmlns:shit=&quot;http://xxx&quot;&gt;

&lt;xsl:stylesheet xml:id=&quot;stylesheet&quot; version=&quot;3.0&quot; xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot;&gt;
&lt;xsl:output method=&quot;html&quot; doctype-system=&quot;about:legacy-compat&quot; version=&quot;5.0&quot; encoding=&quot;UTF-8&quot; indent=&quot;yes&quot; /&gt;
&lt;xsl:template match=&quot;/&quot;&gt;
  &lt;html&gt;
    ...
  &lt;/html&gt;

&lt;/xsl:template&gt;
&lt;/xsl:stylesheet&gt;

&lt;/some_xml_root&gt;
</code></pre>
<p>è¿™é‡Œçš„ <code>href="#stylesheet"</code> æ–¹æ³•ï¼Œæ˜¯<a href="https://www.w3.org/TR/xslt-30/#embedded">å®˜æ–¹æ¨èçš„</a> ã€‚ä½†æ˜¯è¦èµ·æ•ˆæœï¼Œä¸€å®šæ³¨æ„ <code>type="text/xsl"</code> åˆ«æŠ„æˆç½‘ä¸Šçš„ <code>application/xslt+xml</code> äº†</p>
<p>ä¸»è¦æµªè´¹æ—¶é—´çš„å‘ç‚¹ä¸»è¦åœ¨æ ¹çš„ <code>xmlns</code> ä¸Šã€‚è¿™ç©æ„æŠŠ xpath ç»™ææŒ‚äº†ã€‚æ¯”å¦‚ sitemapä½ å†™</p>
<p><code>&lt;xsl:for-each select="/urlset/url"&gt;</code></p>
<p>å¥½å¥½çš„ï¼ŒåŠ ä¸Š <code>xmlns</code> å°±å¾—å†™æˆï¼š</p>
<p><code>&lt;xsl:for-each select="/*[local-name() = 'urlset']/*[local-name() = 'url']"&gt;</code></p>
<p>æ€ªä¸å¾—ç°åœ¨æ²¡äººç©XMLäº†ã€‚è¿™ç ´ç©æ„æ²¡æ³•ç›´è§‚çš„æœ¬åœ°è°ƒè¯•ï¼Œè¿˜å¾—é å„ç§ç¬¬ä¸‰æ–¹ validatorï¼Œåäººç±»å•Šã€‚</p>
<p>äºæ˜¯æŠŠæ ¹çš„ xmlns ç›´æ¥æ”¹æˆ tag namespaceã€‚ä¹Ÿå°±æ˜¯ <code>xmlns:shit</code> ã€‚åæ­£ä½ namespaceå†²çªäº†å…³æˆ‘ä»€ä¹ˆäº‹ï¼Ÿ<s>è€Œä¸”è¯´å®è¯ï¼Œxmlnsè¿™ç©æ„é™¤äº†å‘å„ç§è§£æå™¨ä¸å¥½å†™ä¹‹å¤–ï¼Œå¹¶æ²¡æœ‰ä»€ä¹ˆåµç”¨ã€‚æˆ‘ä»¥å‰å†™éƒ½æ˜¯æƒ³åŠæ³•å»æ‰ xmlns å†è§£æã€‚æ„Ÿè§‰è¿™ä¸€å—çœŸçš„ over-engineering äº†ã€‚</s> å¥½åƒæœ‰ç‚¹æ˜ç™½ namespace æ˜¯å¹²å˜›çš„äº†ã€‚è¿™ç©æ„ä¸»è¦è§£å†³ä¸€ä¸ªsbéœ€æ±‚ï¼šå…è®¸å¤šä¸ªXMLåˆå¹¶åˆ°ä¸€ä¸ªæ–‡ä»¶é‡Œã€‚è¿™ä¸å°±å¾—è€ƒè™‘å¦‚ä½•åˆ†æ¸…æ¥štagè°æ˜¯è°çš„ã€‚ã€‚ã€‚ã€‚å¹¶ä¸”æ ‡å‡†å·²ç»æŒ–å¥½å‘äº†ï¼Œä¸€ä¸ªXMLæœ‰ä¸”åªæœ‰ä¸€ä¸ªrootã€‚ã€‚ä½ æŠŠåˆ«çš„ tag åˆå¹¶è¿›æ¥ï¼Œé‚£çš„ç¡®ä¸å®¹æ˜“åŒºåˆ†ã€‚è¿˜æœ‰è¿™æ ·å†™ä¸ä¼šé€ æˆæ–‡ä»¶ä½“ç§¯è†¨èƒ€å—ï¼ŸçœŸæ˜¯xslç¬‘æ­»äº†ã€‚</p>
<p>æ¥ä¸‹æ¥çš„é—®é¢˜å°±æ˜¯å¦‚ä½•ç”Ÿæˆä¸€ä¸ªè§„è§„çŸ©çŸ©çš„ html5 doctypeã€‚æœäº†ä¸‹ <code>doctype-system</code>å°±å¯ä»¥äº†ã€‚æœ¬æ¥å…¶å®å¯ä»¥åœ¨<code>&lt;xsl:template&gt;</code>åé¢åŠ ä¸Š </p>
<p><code>&lt;xsl:text disable-output-escaping='yes'&gt;&amp;lt;!DOCTYPE html&amp;gt;&lt;/xsl:text&gt;</code></p>
<p>ä½†å®é™…åªåŠ è¿™ä¸ªæ˜¯ä¸è¡Œçš„ã€‚</p>
<p>å¦å¤–åæ§½ä¸‹ Chromeï¼Œé»˜è®¤çš„vieweræŠŠxmlæ¸²æŸ“æˆhtmläº†ï¼Œåœ¨ devtool é‡Œé€šè¿‡ <code>$x()</code> æ— æ³•ç›´æ¥è°ƒè¯•xpathï¼Œè¿˜å¾—é åˆ«çš„ç¬¬ä¸‰æ–¹å·¥å…·ã€‚(âŠ™ï¹âŠ™) </p>
<p>è¿™å¯èƒ½å°±æ˜¯XSLçš„æ ¸å¿ƒé—®é¢˜äº†â€”â€”æ²¡æ³•æ–¹ä¾¿ç›´è§‚çš„è°ƒè¯•ï¼ŒæŒ‚äº†å°±ç»™ä½ ç™½å±ã€‚æœ‰ç‚¹reacté‚£ç§ç™½å±çš„ ptsd æ„Ÿè§‰äº†ã€‚</p></p>
            <div class="card-subtext muted-text">
              <p>Posted <time datetime="2024-08-22T23:09:00+08:00">2024-08-22</time></p>
<p>stdout</p>            </div>
          </article>
        </div>


        <!-- new article -->
        <div class="card blog-card">
          <article class="card-body">
            <a href="/2024/stdout-15"  rel="bookmark" >
              <h2 class="card-title">å…³äº cn.cyberIdentity.certification çš„ä¸€äº›æŠ€æœ¯ä¿¡æ¯</h2>
            </a>
            <p class="card-text"><p>æœç´¢è¯¥appåå­—å¯ä»¥å¾—åˆ° </p>
<p><a href="https://apps.apple.com/cn/app/_/id1588080869">https://apps.apple.com/cn/app/_/id1588080869</a></p>
<p>å„å¤§appå¸‚åœºéƒ½æœ‰éšç§æ”¿ç­–é¡µï¼Œç‚¹å‡»å¯ä»¥å‘ç°ç½‘å€æ˜¯ï¼š</p>
<p>https://cdnrefresh.ctdidcii.cn/w1/WHClient_H5/pages/secret.html</p>
<p>ç”šè‡³æœ‰ä¸€ä¸ª apk ä¸‹è½½é¡µé¢</p>
<p>https://cdnrefresh.ctdidcii.cn/w1/WHClient_H5/Install/InstallGuide.html</p>
<p>https://cdnrefresh.ctdidcii.cn/w1/version/cyberIdentity-android.apk</p>
<p><code>whois ctdidcii.cn</code> å¯ä»¥å¾—åˆ°</p>
<blockquote>
<p>Registrant: XXéƒ¨ç¬¬ä¸€ç ”ç©¶æ‰€<br />
Registrant Contact Email: songjie@anicert.cn</p>
</blockquote>
<p>å¯ä»¥å‘ç°è¯¥å…¬å¸å®˜ç½‘</p>
<blockquote>
<p>æœ‰é™å…¬å¸ï¼ˆä»¥ä¸‹ç®€ç§°â€œZDAXâ€ï¼‰æ˜¯<code>**éƒ¨</code>ç¬¬ä¸€ç ”ç©¶æ‰€ä¸‹å±å…¨èµ„å­å…¬å¸ã€‚<br />
<code>**éƒ¨</code>ç¬¬ä¸€ç ”ç©¶æ‰€ä»¥å›½å®¶â€œäº’è”ç½‘+â€å¯ä¿¡èº«ä»½è®¤è¯å¹³å°ï¼ˆç®€ç§°â€œCTIDå¹³å°â€ï¼‰æ ¸å¿ƒæŠ€æœ¯ä¸ºä¾æ‰˜ï¼Œè‡´åŠ›äºä¸ºå„çº§æ”¿åºœéƒ¨é—¨ã€äº’è”ç½‘è¿è¥å•†ã€å„è¡Œä¸šåº”ç”¨æä¾›æƒå¨ã€å¯ä¿¡ã€å®‰å…¨ã€ä¾¿æ·çš„èº«ä»½è®¤è¯æœåŠ¡ï¼Œå¹¶å¼€å±•ç›¸å…³ä¸šåŠ¡åˆ›æ–°ã€‚åœ¨<code>**éƒ¨</code>çš„ç›´æ¥é¢†å¯¼ä¸‹ï¼Œ<code>**åŠ</code>ã€å›½å®¶å‘æ”¹å§”ã€ç§‘æŠ€éƒ¨ç­‰éƒ¨å§”çš„å¤§åŠ›æ”¯æŒä¸‹ï¼Œ<code>**éƒ¨</code>ç¬¬ä¸€ç ”ç©¶æ‰€ç§¯æå¼€å±•å±…æ°‘èº«ä»½è¯ç½‘ä¸Šåº”ç”¨ç ”ç©¶ï¼Œç»„ç»‡æ‰¿å»ºCTIDå¹³å°ï¼ŒåŠ©åŠ›æ–°æ—¶ä»£ç¤¾ä¼šæ²»ç†ç°ä»£åŒ–ã€‚<br />
2017å¹´10æœˆï¼Œ<code>**éƒ¨</code>ç¬¬ä¸€ç ”ç©¶æ‰€æˆç«‹ZDAXå…¬å¸ï¼Œå¹¶æˆæƒZDAXä¸ºCTIDå¹³å°å”¯ä¸€åˆæ³•çš„è¿è¥æœåŠ¡å•†ï¼Œä¸ºå„è¡Œä¸šæä¾›æƒå¨ã€å¯ä¿¡ã€å®‰å…¨ã€ä¾¿æ·çš„ç½‘ç»œèº«ä»½è®¤è¯æœåŠ¡ï¼Œä¸ºæˆ‘å›½â€œäº’è”ç½‘+è¡ŒåŠ¨æˆ˜ç•¥â€æä¾›å¼ºæœ‰åŠ›çš„æ”¯æ’‘ä¿éšœã€‚</p>
</blockquote>
<p>ä»¥åŠå¹³å°ä»‹ç»è¯´æ˜</p>
<p>https://www.anicert.cn/platform.html</p>
<blockquote>
<p>â— ä¸€æ¬¡ä¸€ç ï¼Œè¶…æ—¶å¤±æ•ˆ<br />
â— é€šè¿‡å›½å¯†ç®—æ³•åŠ å¯†ã€ç­¾åé˜²æ­¢æ•°æ®æ³„éœ²ã€ç¯¡æ”¹å’Œä¼ªé€ <br />
æ ¹æ®ç›¸å…³è¡Œæ”¿è®¸å¯è®¾ç«‹çš„ç¬¬ä¸‰æ–¹ç­¾å‘ã€é¢å‘ç³»ç»Ÿåº”ç”¨å¯ä½œä¸ºå¸æ³•é‡‡è¯ä½¿ç”¨çš„èº«ä»½å‡­è¯ï¼Œå¦‚ç”µå­è®¤è¯æœåŠ¡æä¾›è€…ã€CAæœºæ„ç­‰ç¬¬ä¸‰æ–¹ç­¾å‘çš„ç”µå­ç­¾åè®¤è¯è¯ä¹¦ã€eIDç­‰ï¼›</p>
</blockquote>
<p>å¾—å‡ºä¸€ä¸ªç»“è®ºï¼Œè¿™ç©æ„ä¸<em>ä»…</em>æ˜¯eIDæ¢çš®é‚£ä¹ˆç®€å•ã€‚</p>
<p>ç‚¹å¼€å‘å±•å†ç¨‹å¯ä»¥çœ‹åˆ° </p>
<blockquote>
<p>2020.12 ã€Š<a href="https://www.anicert.cn/upload/2020/12/25/16088934002753h4n2m.pdf">åŸºäºå¯ä¿¡æ•°å­—èº«ä»½çš„åŒºå—é“¾åº”ç”¨æœåŠ¡ç™½çš®ä¹¦</a>ã€‹æ­£å¼å‘å¸ƒ</p>
</blockquote>
<p>ä¸Šé¢æåˆ°çš„å¦é—¨å…¬å¸ï¼Œçœ‹ä¸Šå»æ˜¯ä¸“é—¨åš CDIT è¿è¥çš„ï¼Œæœäº†ä¸‹å®˜ç½‘æ˜¯</p>
<p>https://easyctid.cn/about</p>
<p>å…¶ä¸­æœ‰ä¸€å¼ æœ€é‡è¦çš„æ¶æ„å›¾</p>
<p><img referrerpolicy="no-referrer" src="https://easyctid.cn/_nuxt/img/bg-3.c5fe831.png" /></p>
<p>ç›®å‰ä¸çŸ¥é“è¿™ä¸ª PID æ˜¯å”¯ä¸€çš„è¿˜æ˜¯å¯å˜çš„ã€‚è¦å®ç”¨è¿˜æ˜¯å¾—åšç±»ä¼¼å¾®ä¿¡é‚£ç§ OpenID/UnionID æ‰è¡Œã€‚å› ä¸ºæŠ€æœ¯å¯¹æ¥SDKéœ€è¦ä»˜è´¹ç­¾åè®®æ‰èƒ½æ‹¿åˆ°ï¼Œç»†èŠ‚å°±æ— ä»è€ŒçŸ¥äº†ã€‚</p></p>
            <div class="card-subtext muted-text">
              <p>Posted <time datetime="2024-08-01T15:20:00+08:00">2024-08-01</time></p>
<p>stdout</p>            </div>
          </article>
        </div>


        <!-- new article -->
        <div class="card blog-card">
          <article class="card-body">
            <a href="/2024/stdout-14"  rel="bookmark" >
              <h2 class="card-title">Valid HTTP verbs</h2>
            </a>
            <p class="card-text"><p>ä»<a href="https://www.v2ex.com/t/1057881">è¿™é‡Œ</a> æƒ³åˆ°ï¼Œfetch/xhr å¯ä»¥å‘èµ·å“ªäº› http verb å‘¢ï¼Ÿ</p>
<p><code>python -m http.server</code> éšæ‰‹æµ‹è¯•äº†ä¸‹ï¼Œå‘ç°è¿ <code>!</code>ï¼Œ<code>$</code> è¿™ç§ç¬¦å·éƒ½å¯ä»¥ä½œä¸º http verbï¼Œæ¯”å¦‚ <code>fetch('/asdf', {method:"$"})</code> è¿™æ ·çš„è¯·æ±‚æ˜¯èƒ½å‘èµ·çš„ã€‚äºæ˜¯å» chromium æœäº†ä¸‹ <code>"is not a valid HTTP method"</code> ç›¸å…³çš„è§£ææ”¾åœ¨ <a href="https://source.chromium.org/chromium/chromium/src/+/main:third_party/blink/renderer/platform/network/http_parsers.cc;drc=fa1e0cf5238e2600039f60af6909aefbd4cf003c;l=404">blink/renderer/platform/network/http_parsers.cc</a></p>
<pre><code>// See RFC 7230, Section 3.2.6.
bool IsValidHTTPToken(const String&amp; characters) {
  if (characters.empty())
    return false;
  for (unsigned i = 0; i &lt; characters.length(); ++i) {
    UChar c = characters[i];
    if (c &gt; 0x7F || !net::HttpUtil::IsTokenChar(c))
      return false;
  }
  return true;
}

bool HttpUtil::IsTokenChar(char c) {
  return !(c &gt;= 0x7F || c &lt;= 0x20 || c == '(' || c == ')' || c == '&lt;' ||
           c == '&gt;' || c == '@' || c == ',' || c == ';' || c == ':' ||
           c == '\\' || c == '"' || c == '/' || c == '[' || c == ']' ||
           c == '?' || c == '=' || c == '{' || c == '}');
}
</code></pre>
<p>åŸæ¥å¦‚æ­¤ï¼ŒRFC 7230å‘€ã€‚äºæ˜¯æŠŠè¿™äº›å­—ç¬¦æ‰“å‡ºæ¥ï¼š<code>' '.join(chr(x) for x in range(0x20, 0x7f))</code></p>
<pre><code>! # $ % &amp; ' * + - . 0 1 2 3 4 5 6 7 8 9 A B C D E F G H I J K L M N O P Q R S T U V W X Y Z ^ _ ` a b c d e f g h i j k l m n o p q r s t u v w x y z | ~
</code></pre>
<p>é‚£è¿˜æä¸ªå±çš„ RESTful å•Šã€‚ç›´æ¥ç”¨ç‰¹æ®Šç¬¦å·ä¸€æŠŠæ¢­ã€‚ä¸è¿‡å„ç§æœåŠ¡ç«¯æ¡†æ¶å¯èƒ½ä¸æ˜¯å¾ˆå®¹æ˜“åšå…¼å®¹ã€‚å“ˆå“ˆã€‚</p></p>
            <div class="card-subtext muted-text">
              <p>Posted <time datetime="2024-07-17T09:47:00+08:00">2024-07-17</time></p>
<p>stdout</p>            </div>
          </article>
        </div>


        <!-- new article -->
        <div class="card blog-card">
          <article class="card-body">
            <a href="/2024/stdout-13"  rel="bookmark" >
              <h2 class="card-title">Cappy in a Haystack locations</h2>
            </a>
            <p class="card-text"><p>For <a href="https://fallout.fandom.com/wiki/Cappy_in_a_Haystack">the mission</a> from the beloved Fallout 4 Nuka-World DLC</p>
<pre><code>coc DLC04KiddieKingdomFunHouse01; player.moveto 06015A94
coc NukaWorldWildWestExt02; player.moveto 06015A8A
coc DLC04BottlingPlant01; player.moveto 060445DF
coc DLC04BottlingPlant01; player.moveto 0604A812
coc DLC04GalacticZoneExt04; player.moveto 06015A8E
coc DLC04GalacticZoneExt04; player.moveto 0604AD3F
coc DLC04GalacticZoneExt08; player.moveto 06015A91
coc DLC04GalacticZoneExt08; player.moveto 0604AD40
coc DLC04KiddieKingdomFunHouse01; player.moveto 0604AD3D
coc DLC04WWMineCart01; player.moveto 06015A8B
coc DLC04WWMineCart01; player.moveto 0604AA39
coc KiddieKingdomExt06; player.moveto 06015A97
coc KiddieKingdomExt06; player.moveto 0604AD3E
coc NukaWorldNukaTownUSA06; player.moveto 0604A814
coc NukaWorldNukaTownUSA06; player.moveto 0604A813
coc NukaWorldWildWestExt02; player.moveto 0604A815
coc SafariAdventure03; player.moveto 06015A9A 
coc SafariAdventure03; player.moveto 0604AA3A
coc SafariAdventure07; player.moveto 06015A9D
coc SafariAdventure07; player.moveto 06015A9D
coc SafariAdventure07; player.moveto 0604AA3B
</code></pre>
<p>idk hope it works lol.</p></p>
            <div class="card-subtext muted-text">
              <p>Posted <time datetime="2024-07-13T09:19:00+08:00">2024-07-13</time></p>
<p>stdout</p>            </div>
          </article>
        </div>


        <!-- new article -->
        <div class="card blog-card">
          <article class="card-body">
            <a href="/2024/stdout-12"  rel="bookmark" >
              <h2 class="card-title">All Star Core locations in Fallout 4</h2>
            </a>
            <p class="card-text"><p>Arent nobody got time for this shit.</p>
<p>Open FO4Edit, locate <code>604a053</code> and find all refs:</p>
<pre><code>0601FAD1
060255A7
060255D2
06025774
060257F1
06026C7B
06026D23
06026D70
060278F7
06027917
0602791A
06027A3C
06027ACC
06027C0D
06027D5E
06027E43
06027E4C
060319E1
060319E2
060327BA
060327C4
060327D0
060327E2
06034EC6
06034F97
06034FD4
0603522E
06037CA7
060380CB
0603816F
</code></pre>
<p>And for external star cores, locate <code>0601F0E5</code> and <code>0601F0E6</code> for more refs:</p>
<pre><code>coc NWJunkyardExt; player.moveto 060319D6;
coc NukaWorldWildWestExt03; player.moveto 06031995;
coc DLC04BottlingPlant01; player.moveto 060319CE;
coc DLC04Nukacade01; player.moveto 060319CF;
coc DLC04GalacticZoneExt07; player.moveto 060319E1;
coc NukaTownMarket01; player.moveto 06054CA8;
</code></pre>
<p>Just type <code>player.moveto</code> with the code above and you can grab all <a href="https://fallout.fandom.com/wiki/Star_core">star cores</a>, and return to console <code>player.moveto 0601E359</code>, so you get the Quantum X-01 power armor from Nuka-World DLC of Fallout 4.</p>
<p>Also there's <code>coc TestCory01; 06044B4B;</code> for testing purposes.</p></p>
            <div class="card-subtext muted-text">
              <p>Posted <time datetime="2024-07-13T06:31:00+08:00">2024-07-13</time></p>
<p>stdout</p>            </div>
          </article>
        </div>


        <!-- new article -->
        <div class="card blog-card">
          <article class="card-body">
            <a href="/2024/stdout-11"  rel="bookmark" >
              <h2 class="card-title">Making subprocess async friendly in Python</h2>
            </a>
            <p class="card-text"><p>It's been a while since i wrote something in English, mostly because there's nothing really interesting, <a href="https://blog.est.im/2024/stdout-09">until now</a>.</p>
<p>Occasionally, when facing a long running task in Python, I would choose either a distrubuted tasks queue system, or for the convenience, just the <code>subprocess</code> module. It's built-in and well designed for grabbing outputs of a child process running for a short period of time.</p>
<p>But what if the child-process takes a really, really long time? In my case it's an expensive query, or some CPU/GPU intensive task, which needs to be launched from a running Web framework, like FastAPI. </p>
<h3>Popen() fire and forget</h3>
<p>if child-process's output, end state and the return code are irrelevant, a simple Popen would do</p>
<p><code>subprocess.Popen(..., stdin=subprocess.PIPE, stdout=subprocess.PIPE, stderr=subprocess.PIPE)</code></p>
<p>The problem is, after the child-process finishes, it will hang as a zombie, because the parents refused to claim its exit status. To fix this, add an extra parameter in <code>Popen()</code> like <code>subprocess.Popen(..., start_new_session=True)</code></p>
<p>And write a simple loop periodically check for <code>WNOHANG</code></p>
<p><code>while 1:
    try:
        chpid, retcode, res = os.wait3(os.WNOHANG)
    except ChildProcessError:
        break
    sleep(5)
    if chpid == os.getpid():
        do_sth()
        break</code></p>
<p>This can be done using <code>BackgroundTasks</code> in FastAPI/Starlette.</p>
<p>In a way, the child-process hebaves like <code>nohup</code> or screen/tmux, running in a detatched fashion.</p>
<p>If you hate this many lines of code, just <code>subprocess.run("blah.sh &amp;", shell=True)</code> and wrap your commands in <code>blah.sh</code></p>
<h3>Make <code>.communicate()</code> async</h3>
<p>Sometimes I need to monitor and handle the stdout/stderr of a child-process, like forward the outputs as an <a href="https://developer.mozilla.org/en-US/docs/Web/API/EventSource">EventSource</a> response to the browser.</p>
<p>First I tried <code>.communicate()</code> it will block until the process quites.</p>
<p>Then I tried <code>Popen.stdout.read()</code>, it will also block. Eventually I found a great hack from Stackoverlow like this:</p>
<pre><code>p = subprocess.Popen(
    cmd, bufsize=0, text=True, stdin=subprocess.PIPE,
    stderr=subprocess.PIPE,  stdout=subprocess.PIPE, close_fds=True)
fcntl.fcntl(p.stdout.fileno(), fcntl.F_SETFL, os.O_NONBLOCK)
</code></pre>
<p>Now <code>p.stdout.read(1024)</code> would return immediately, or with a <code>TypeError</code> bnecause internal messed up with <code>None</code> as non-blocking empty return.</p>
<p>Wrap it with <code>try...except</code> inside a loop, it worked fine as expected.</p>
<p>When the parent process crashes unexpectedly, the child-process is still working, to detect this, just check for <code>BrokenPipeError</code> carefully in child-process and gracefully shutdown.</p>
<h3>Solved with <code>asyncio</code></h3>
<p>I tried harder reading the official Python docs, turns out the most easy solution is already there:</p>
<pre><code>proc = await asyncio.create_subprocess_exec(
    sys.executable, '-c', code,
    stdout=asyncio.subprocess.PIPE)

# Read one line of output.
data = await proc.stdout.readline()
line = data.decode('ascii').rstrip()

# Wait for the subprocess exit.
await proc.wait()
return line
</code></pre>
<p>I guess another lesson learned today.</p></p>
            <div class="card-subtext muted-text">
              <p>Posted <time datetime="2024-06-22T12:26:00+08:00">2024-06-22</time></p>
<p>stdout</p>            </div>
          </article>
        </div>


        <!-- new article -->
        <div class="card blog-card">
          <article class="card-body">
            <a href="/2024/stdout-10"  rel="bookmark" >
              <h2 class="card-title">äººå£°åˆ†ç¦»ç®€å•è¯„æµ‹</h2>
            </a>
            <p class="card-text"><p>å¨ƒè¦å»è¡¨æ¼”å”±æ­Œï¼Œè€å¸ˆè¦æ±‚æä¾›MTVã€‚ã€‚ è§†é¢‘æ˜¯<a href="https://www.bilibili.com/video/BV1Ty4y147Sj/">è¿™ä¸ª</a>ï¼Œéœ€è¦å»æ‰äººå£°éƒ¨åˆ†</p>
<p>å…ˆç”¨ ffmpeg æéŸ³è½¨ <code>ffmpeg -i v.mp4  -ac 1 1.mp3</code></p>
<p>å¾®ä¿¡å°ç¨‹åºä¸Šçš„å…¨æ˜¯éª—å……å€¼çš„ï¼Œç½‘ä¸Šçš„æœåŠ¡ï¼š</p>
<ol>
<li>æ²¡åµç”¨ https://vocalremover.org/ åæ°”å¾ˆå¤§ï¼Œæœå‡ºæ¥ç¬¬ä¸€å°±è¿™ä¸ª</li>
<li>æ²¡ç”¨ https://www.conversion-tool.com/karaoke/</li>
<li>å¡æ­» https://www.songpeel.com/song-to-karaoke</li>
<li>è¦å®‰è£… https://github.com/adefossez/demucs</li>
<li>è¦6Gæ˜¾å­˜ https://github.com/Anjok07/ultimatevocalremovergui</li>
<li>æ•ˆæœå¾ˆå¥½ï¼ https://tunebat.com/Vocal-Remover æ¨è</li>
</ol>
<p>çœ‹æ¥äººå£°åˆ†ç¦»ï¼Œç‰¹åˆ«æ˜¯ç«¥å£°ï¼Œè¿˜æ˜¯æœ‰ç‚¹éš¾ã€‚</p>
<p>æœ€åæŠŠå¾—åˆ°çš„ a.mp3 å¡å›å»</p>
<p><code>ffmpeg -i v.mp4 -i a.mp3 -c:v copy -map 0:v:0 -map 1:a:0 new.mp4</code></p>
<p>btw æ‰“äº†è¿™ä¹ˆå¤šç½‘å€ï¼Œè¯¥ä¸ä¼šè¢«è¯¯è®¤ä¸ºSEOå§ã€‚å›§ã€‚ã€‚ã€‚ã€‚</p></p>
            <div class="card-subtext muted-text">
              <p>Posted <time datetime="2024-06-21T22:48:00+08:00">2024-06-21</time></p>
<p>stdout</p>            </div>
          </article>
        </div>


        <!-- new article -->
        <div class="card blog-card">
          <article class="card-body">
            <a href="/2024/stdout-09"  rel="bookmark" >
              <h2 class="card-title">åæ§½pynsqï¼Œå¦å¤–ç»™subprocessç³Šäº†ä¸€ä¸ªå¼‚æ­¥</h2>
            </a>
            <p class="card-text"><h3>pynsqå¤ªçƒ‚äº†</h3>
<p>èµ·åˆæ˜¯å› ä¸ºéœ€è¦åœ¨ Web API é‡Œæ¶ˆè´¹ä¸€ä¸ªæ¶ˆæ¯é˜Ÿåˆ—(nsq)ï¼Œç»™æµè§ˆå™¨è¿”å› <a href="https://developer.mozilla.org/en-US/docs/Web/API/EventSource">EventSource</a> åšå®æ—¶è¾“å‡ºã€‚ä½†æ˜¯æ²¡æƒ³åˆ°<a href="https://github.com/nsqio/pynsq/blob/master/nsq/__init__.py">å®˜æ–¹åº“pynsq</a>å±…ç„¶å†™å¾—è¿™ä¹ˆæ¸£ï¼š</p>
<pre><code>def _handle_term_signal(sig_num, frame):
    logging.getLogger(__name__).info(
        'TERM Signal handler called with signal %r', sig_num)
    tornado.ioloop.IOLoop.current().stop()

def run():
    """
    Starts any instantiated :class:`nsq.Reader` or :class:`nsq.Writer`
    """
    signal.signal(signal.SIGTERM, _handle_term_signal)
    signal.signal(signal.SIGINT, _handle_term_signal)
    tornado.ioloop.IOLoop.current().start()
</code></pre>
<p>è¿™éƒ½ä»€ä¹ˆç©æ„å„¿ï¼Ÿä¸€ä¸ªåº“ä½•å¾·ä½•èƒ½ä¹Ÿæ•¢å»ä¹±åŠ«æŒ signalï¼Ÿæœ€ä»–å¦ˆé€—çš„æ˜¯è¿™ä¸ªåº“çš„æ¨èå†™æ³•ï¼š</p>
<pre><code>import nsq
r = nsq.Reader(message_handler=handler,
        lookupd_http_addresses=['http://127.0.0.1:4161'],
        topic='nsq_reader', channel='asdf', lookupd_poll_interval=15)
nsq.run()
</code></pre>
<p>è¿™ä¸ª <code>r</code> è«åå…¶å¦™çš„å°±èƒ½è·‘èµ·æ¥äº†ã€‚çœŸæ˜¯é­”æ³•ã€‚anywayï¼Œåœ¨Web APIå…¼å®¹è¿™ä¸€å¨æ˜¯å¤±è´¥äº†ï¼Œçˆ†äº†ä¸€å †é”™ï¼Œå¯¹ä»˜é­”æ³•çš„åŠæ³•å°±æ˜¯éš”ç¦»ï¼Œæ‰€ä»¥æ‰“ç®—ç³Šä¸ªè„šæœ¬ï¼Œé€šè¿‡å¤šè¿›ç¨‹+PIPEæ¥å¾—åˆ°æ•°æ®ã€‚</p>
<h3>ç»™ subprocess åŠ ä¸€ä¸ªå¼‚æ­¥è¡¥ä¸</h3>
<p>ç³Šçš„æ—¶å€™å‘ç°ï¼Œ<code>subprocess</code> æ¨¡å—çš„ <code>.communicate()</code> æ–¹æ³•æ˜¯ blockingçš„ï¼Œ å±…ç„¶ä¸æ”¯æŒ async/awaitï¼Œäºæ˜¯åªèƒ½ç»§ç»­ç³Šï¼š</p>
<pre><code>import subprocess, fcntl, asyncio
p = subprocess.Popen(
    cmd, bufsize=0, text=True, stdin=subprocess.PIPE,
    stderr=subprocess.PIPE,  stdout=subprocess.PIPE, close_fds=True)
fcntl.fcntl(p.stdout.fileno(), fcntl.F_SETFL, os.O_NONBLOCK)
buf = ''
while p.poll() is None:
    try:
        # read() with O_NONBLOCK might gets None thus TypeError
        buf += (p.stdout.read(1024) or '')
        contents = buf.split('\n')
        if len(contents) &lt; 2:
            raise TypeError('Not enough')
    except TypeError:
        await asyncio.sleep(1)
        yield None
        continue
    buf = contents.pop(-1)
    for x in contents:
        yield x

p.terminate()
</code></pre>
<p>è¿™é‡Œç”¨ <code>buf</code>ã€<code>contents</code> æ˜¯å› ä¸ºç›´æ¥è°ƒç”¨æ¶ˆæ¯é˜Ÿåˆ—ï¼Œæ¯ä¸ªæ¶ˆæ¯éƒ½æ˜¯åˆ†å‰²å¥½çš„ï¼›ä½†æ˜¯é€šè¿‡ç®¡é“æ¥è¯»ã€‚å¾—è‡ªå·±å»å¤„ç†å­—èŠ‚æµå¦‚ä½•åˆ†å‰²çš„é—®é¢˜ï¼Œä¹Ÿå°±æ˜¯ä¼ è¯´ç®€ä¸­ç‰¹ä¾›çš„ã€Œç²˜åŒ…ã€é—®é¢˜ã€‚</p>
<p>å¦å¤–å­è¿›ç¨‹å¯èƒ½å› ä¸ºWebæ¡†æ¶çš„ç§ç§åŸå› ï¼Œä¸è‡ªè§‰é€€å‡ºæˆ–è€…å˜åƒµå°¸è¿›ç¨‹ï¼Œéœ€è¦å‘ stdout/stderr åšè¾“å‡ºçš„æ—¶å€™æ£€æŸ¥ä¸€ä¸‹ BrokenPipeError å¤„ç†åäº‹ä¸»åŠ¨é€€å‡ºå³å¯ã€‚</p>
<p>è¿˜æœ‰å­è¿›ç¨‹å¦‚æœè¾“å‡ºå®Œæ¯•ï¼Œéœ€è¦ä»£ç é‡Œè°ƒç”¨ä¸€ä¸‹ <code>p.terminate()</code>ï¼Œæ‰èƒ½å›æ”¶ï¼Œé¿å…å˜zombie</p>
<p>è¯•äº†ä¸€ä¸‹ï¼Œä¹Ÿä¸æ˜¯ä¸èƒ½ç”¨ï¼ŒæˆåŠŸï¼æ­£è§‰å¾—è‡ªå·±åˆè¡Œäº†çš„æ—¶å€™ï¼Œå‘ç°å®˜æ–¹ï¼š</p>
<p><a href="https://docs.python.org/3.8/library/asyncio-subprocess.html">https://docs.python.org/3.8/library/asyncio-subprocess.html</a></p>
<p>å•Šè¿™ã€‚ç™½å¿™æ´»ã€‚</p>
<h3>è¶…é•¿å¾…æœº subprocess</h3>
<p>æƒ³èµ·æ¥ä¹‹å‰è¿˜æœ‰ä¸ªé—®é¢˜ï¼Œä¸€ä¸ªAPIè°ƒç”¨ä¸€ä¸ªsubprocessï¼Œç„¶åç­‰å®ƒæ‰§è¡Œï¼Œä¸æƒ³ç®¡ã€‚è¿™ä¸ªæ—¶å€™å¯ä»¥åŠ ä¸€ä¸ªå‚æ•° detach æ¨¡å¼ï¼š</p>
<p><code>subprocess.Popen(..., start_new_session=True)</code></p>
<p>ç„¶ååœ¨åŒè¿›ç¨‹ç”¨é‡Œè·‘ä¸€ä¸ªåå°æ£€æŸ¥å¾ªç¯å»æ£€æŸ¥å­è¿›ç¨‹çš„ <code>WNOHANG</code>ï¼š</p>
<pre><code>while 1:
    try:
        chpid, retcode, res = os.wait3(os.WNOHANG)
    except ChildProcessError:
        break
    sleep(5)
    if chpid == os.getpid():
        do_sth()
        break
</code></pre>
<p>æƒ³äº†ä¸‹å¥½åƒä¹Ÿæå¤æ‚äº†ã€‚è¦ä¸ç›´æ¥è·‘ä¸€ä¸ª <code>sh -c "blah.sh &amp;"</code> ç®—äº†ã€‚</p></p>
            <div class="card-subtext muted-text">
              <p>Posted <time datetime="2024-06-21T09:30:00+08:00">2024-06-21</time></p>
<p>stdout</p>            </div>
          </article>
        </div>


        <!-- new article -->
        <div class="card blog-card">
          <article class="card-body">
            <a href="/2024/stdout-08"  rel="bookmark" >
              <h2 class="card-title">å¦‚ä½•åˆ é™¤ C:\Windows\WinSxS æ–‡ä»¶</h2>
            </a>
            <p class="card-text"><p>å¤©æ°”çƒ­å¾—å¿ƒæ…Œï¼Œçœ‹Win10ä¸çˆ½ï¼Œå†³å®šåˆ å‡ ä¸ªæ–‡ä»¶ç©ç©</p>
<ol>
<li>é¦–å…ˆä½ éœ€è¦ä»¥ <code>SYSTEM</code> ç”¨æˆ·å¯åŠ¨ <code>cmd.exe</code><br />
Win+R æ•²å…¥ï¼š<br />
<code>"\\live.sysinternals.com@SSL\DavWWWRoot\tools\PsExec.exe" -i -s cmd.exe</code><br />
å›è½¦ã€‚ç¡®è®¤å½“å‰èº«ä»½æ•²å…¥ <code>whoami</code></li>
<li>å¤ºæƒï¼š<code>takeown /F "C:\Windows\WinSxS\Backup" /A /R /D Y</code></li>
<li>æˆæƒï¼š<code>cacls "C:\Windows\WinSxS\Backup" /T /G SYSTEM:F /C</code></li>
<li>å¼€åˆ ï¼š<code>rd /s /q "C:\Windows\WinSxS\Backup"</code></li>
</ol>
<p>çˆ½ï¼</p>
<p>å½“ç„¶ï¼Œä½ ä¹Ÿå¯ä»¥è®©ç³»ç»Ÿä»£æ›¿ä½ æ¸…ç†ï¼š</p>
<p><code>Dism.exe /online /Cleanup-Image /StartComponentCleanup /ResetBase</code></p>
<p>å¾ˆè€çš„ç£ç›˜æ¸…ç†å·¥å…· <code>cleanmgr.exe</code>  ä¹Ÿå¯ä»¥è¯•è¯•ï¼Œåˆ ä¸è¦çš„ç¨‹åº <code>appwiz.cpl</code></p>
<p>è€é»„å®¶çš„  DXCache ä¹Ÿååˆ†è®©äººä¸è§£ã€‚è¿™ç ´ç©æ„è¿˜å­˜2ä¸ªåœ°æ–¹ï¼š</p>
<ol>
<li><code>%LOCALAPPDATA%\NVIDIA\</code></li>
<li><code>%APPDATA%\NVIDIA</code></li>
</ol>
<p>è€å¤«å½“å¹´ç»™ <code>C:</code> è£…äº†ä¸ªæœ€æ…¢çš„SSDï¼Œå¤±ç­–ã€‚å»å¹´ï¼ˆ2023ï¼‰é‚£ä¸€æ³¢M.2é™ä»·æ½®ä¸€ç›´ç­‰ç­‰ç»“æœé”™è¿‡äº†ï¼Œæ‹æ–­å¤§è…¿è¿½æ‚”è«åŠã€‚</p></p>
            <div class="card-subtext muted-text">
              <p>Posted <time datetime="2024-06-14T22:50:00+08:00">2024-06-14</time></p>
<p>stdout</p>            </div>
          </article>
        </div>


        <!-- new article -->
        <div class="card blog-card">
          <article class="card-body">
            <a href="/2024/stdout-07"  rel="bookmark" >
              <h2 class="card-title">ä» Leanote è¿ç§»åˆ° Obsidian</h2>
            </a>
            <p class="card-text"><p>å·®ä¸å¤šç§¯ç´¯äº†<a href="https://www.v2ex.com/t/133479">10å¹´</a>çš„ç¬”è®°ï¼Œå› ä¸ºè½¯ä»¶å¼€å‘å•†è·‘è·¯å»åš 2B äº†ï¼Œè¿™ç©æ„ä¹Ÿæ²¡äººç»´æŠ¤äº†ã€‚æ¢ Obsidian</p>
<p>Leanote ä¸æ”¯æŒå¯¼å‡º <code>.md</code> ä½†æ˜¯å®ƒè‡ªå·±çš„æ ¼å¼å°±æ˜¯ jsonï¼Œè½¬æ¢ä¸€ä¸‹å¾ˆç®€å•ã€‚</p>
<ol>
<li>æŠŠä¸€ä¸ªç›®å½•ä¸‹çš„ç¬”è®°æ‰¹é‡å¯¼å‡ºä¸º Leanote æ ¼å¼ï¼Œæ¯”å¦‚å¯¼å‡ºåˆ° <code>/tmp/folder1</code></li>
<li>æ‰§è¡ŒPythonä»£ç <br />
<code>import json
    dir = '/tmp/folder1'
    for n in os.listdir(dir):
    if not n.endswith('.leanote'): continue
    with open(f"{dir}{n.replace('.leanote', '.md')}", "w") as f2, open(dir+n) as f1:
        f2.write(json.load(f1)['notes'][0]['content'])
    os.remove(dir+n)</code></li>
<li>ä½ ä¼šå‘ç°è¯¥ç›®å½•ä¸‹çš„ <code>.leanote</code> éƒ½å˜æˆäº† <code>.md</code>ã€‚æ‹–æ‹½åˆ° Obsidian å³å¯</li>
</ol>
<p>å¸Œæœ›å¯¹æœåˆ°è¿™ç¯‡æ–‡ç« çš„äººæœ‰æ‰€å¸®åŠ©ã€‚</p></p>
            <div class="card-subtext muted-text">
              <p>Posted <time datetime="2024-06-10T22:21:00+08:00">2024-06-10</time></p>
<p>stdout</p>            </div>
          </article>
        </div>


        <!-- new article -->
        <div class="card blog-card">
          <article class="card-body">
            <a href="/2024/stdout-05"  rel="bookmark" >
              <h2 class="card-title">å¿«é€Ÿå…¥ç¡çš„æŠ€å·§å’ŒåŸç†</h2>
            </a>
            <p class="card-text"><p>éšç€å¹´é¾„çš„å¢é•¿ï¼ŒåŠ ä¸Šå·¥ä½œå’Œç”Ÿæ´»çš„æ¶ä¹ ï¼Œç¡çœ è¶Šæ¥è¶Šä¸å¥½ã€‚å¾ˆå¤šæ—¶å€™èººåœ¨åºŠä¸Šæ˜æ˜å·²ç»éå¸¸å›°äº†ï¼Œä½†æ˜¯å¤§è„‘ä¸€ä¸å°å¿ƒé™·å…¥èƒ¡æ€ä¹±æƒ³ï¼Œç„¶åè¶Šæƒ³è¶Šç¡ä¸ç€ã€‚</p>
<p><img alt="" src="/images/2024/stdout-05-01.jpg" /></p>
<p>å¾ˆå¤šäººè¯´æŠŠå¤§è„‘æ”¾ç©ºå°±èƒ½ç¡ç€äº†ï¼Œæˆ‘ä¹Ÿè¯•è¿‡ï¼Œæ”¾ç©ºæ˜¯ä¸å¯èƒ½çš„ï¼Œå¤§è„‘æ—¶æ—¶åˆ»åˆ»æ€»å¾—ç¢ç£¨ç‚¹ä»€ä¹ˆï¼›æ—¢ç„¶è¦ç¢ç£¨ç‚¹ä»€ä¹ˆï¼Œé‚£æˆ‘ä»¬èƒ½å¦æ‰¾ä¸€éƒ¨åˆ†æœ€å®¹æ˜“ç¡ç€çš„æ¥ç¢ç£¨ï¼Ÿè¿™å‡ å¹´æˆ‘å€’ç¢ç£¨å‡ºä¸€ä¸ªéå¸¸è¡Œä¹‹æœ‰æ•ˆçš„æ–¹æ³•ç”¨æ¥å…¥ç¡ï¼š</p>
<p><strong>åœæ­¢ç†æ€§æ¨æ¼”ï¼å¼ºè¡Œå¸¦å…¥æ„Ÿæ€§çš„ã€æ”¾æ¾ã€èˆ’æœçš„å›å¿†ä½“éªŒå æ®å¤§è„‘æ´»åŠ¨</strong></p>
<p>å…·ä½“å±•å¼€ï¼Œé¦–å…ˆæˆ‘è¿™é‡Œå¯¹ç¡ä¸ç€çš„ã€Œèƒ¡æ€ä¹±æƒ³ã€ä½œäº†ä¸€ä¸ªäºŒå…ƒåˆ†ç±»ï¼š</p>
<ol>
<li>ä¸€ç§æ˜¯ã€Œç†æ€§ã€ï¼Œé€»è¾‘æ¨æ¼”ï¼šå·¥ä½œä¸Šçš„ä»»åŠ¡å¦‚ä½•å®Œæˆï¼Œç”Ÿæ´»ä¸­çš„çŸ›ç›¾å¦‚ä½•åŒ–è§£ï¼ŒèŒä¸šå’Œå®¶åº­é¢å¯¹çš„å›°éš¾ï¼Œèº«è¾¹äººç¾¤çš„å‹åŠ›ï¼Œç¤¾ä¼šç¯å¢ƒå¦‚ä½•æ”¹è¿›ï¼Œæ°‘æ—å›½å®¶çš„å‘½è¿å¦‚ä½•ï¼Ÿç”µè½¦ä¼šæ˜¯èƒ½æºé©å‘½å—ï¼Ÿå·´ä»¥å†²çªä¿„ä¹Œæˆ˜äº‰å¦‚ä½•åŒ–è§£ï¼Ÿç­‰ç­‰ï¼Œè¿™ç±»èƒ¡æ€ä¹±æƒ³åŸºæœ¬æ¨¡å¼æ˜¯ã€Œå› æœã€ï¼šå¦‚æœæˆ‘åšåˆ°Aï¼Œé‚£ä¹ˆBå°±ä¼šå‘ç”Ÿï¼›å¦‚æœæˆ‘é¿å…Cï¼Œé‚£ä¹ˆDè¿™ä¸ªç³Ÿç³•çš„ç»“æœå°±èƒ½æŒ½å›ã€‚è¿™ç±»äº‹ï¼Œåƒä¸‡ä¸è¦èººåœ¨åºŠä¸Šæƒ³ï¼Œå¦åˆ™è¶Šæƒ³è¶Šæ°”ã€‚</li>
<li>å¦ä¸€ç§æ€ç»ªæˆ‘ä»¬ç§°ä¹‹ä¸ºæ„Ÿæ€§ï¼Œæ¸©æš–çš„é˜³å…‰ä¸‹å¾®é£å¹è¿‡çš®è‚¤ï¼Œæ‹äººçš„æ‰‹è½»è½»æ‚ç€ä½ çš„è…°ï¼Œç¢§è“çš„æµ·å¹³é¢ä¸Šæ˜Ÿæ˜Ÿç‚¹ç‚¹çš„èˆ¹å¸†ï¼Œä½ èººåœ¨æ¤…å­ä¸Šæ— å¿§æ— è™‘çš„é—­ä¸Šçœ¼ç›äº«å—è¿™ä¸€åˆ‡ï¼Œåªè¦æŠŠè‡ªå·±å¸¦å…¥è¿™ç§ä½ äº²èº«ç»å†è¿‡çš„è®©ä½ èˆ’æœï¼Œæ”¾æ¾çš„ä½“ä¼šä¸­ï¼Œå‡æƒ³ä½ ç°åœ¨æ­£åœ¨äº²èº«ç»å†è¿™ç§æ„‰å¿«çš„äº‹ï¼Œé‚£ä¹ˆä½ å¾ˆå¿«å°±èƒ½å…¥ç¡ã€‚</li>
</ol>
<p>æˆ–è®¸ï¼Œæœ‰äººä¼šè¯´æˆ‘å‘½è‹¦å•Šï½æ²¡é‚£ä¹ˆå¤šäº«å—å¯ä»¥å›å‘³ã€‚æˆ‘ä¹‹å‰ä¹Ÿæ˜¯è¿™æ ·ï¼Œæ€»è§‰å¾—è¿‡å¾—å¾ˆåŒ†åŒ†æ²¡è¿™ä¹ˆç•™ä¸‹çš„ç¾å¥½å›å¿†ï¼Œæœ‰ä¸€æ¬¡ä¸‹ç­è·¯è¿‡éƒŠå¤–ï¼Œçœ‹åˆ°å¤©è¾¹å—è½å±±çš„å¤ªé˜³ï¼Œå…‰çº¿æ²¡é‚£ä¹ˆåˆºçœ¼ï¼Œæ©™çº¢è‰²çš„ä½™æ™–ç»™ç™½äº‘æäº†ä¸ªè¾¹ï¼Œå€’å½±åœ¨ä¸€å¤„æ°´å¡˜é‡Œï¼Œæ²¡æœ‰äº†ä¸­åˆé‚£ä¹ˆçƒ­çš„æš´æ™’ï¼Œå¾®é£åˆ®è¿‡å²¸è¾¹é‚£äº›ç¨€ç¨€æ‹‰æ‹‰çš„èŠ±æœµå’Œç»¿æ ‘ã€‚æ„Ÿå—åˆ°ç¾çš„ç¬é—´è¿«ä½¿æˆ‘ç«‹åˆ»åœä¸‹è„šæ­¥ï¼Œæ‰¾ä¸ªè‰åªåä¸‹æ¬£èµå¹¶ä¸”ä»”ç»†è§‚å¯Ÿï¼Œæ·±æ€•é”™è¿‡ä»»ä½•ä¸€ä¸ªç»†èŠ‚ï¼Œæˆ‘å½“æ—¶å†³å®šæŠŠè¿™ä¸ªæ—¶åˆ»æ·±æ·±è®°å½•åœ¨è„‘æµ·é‡Œå¹¶åå¤åŠ æ·±å°è±¡ï¼Œä»¥å¤‡å°†æ¥å†ä¹Ÿé‡ä¸åˆ°äº†ã€‚åæ¥è¿™ä¸ªã€Œåœºæ™¯ã€çš„ç¡®å¸®åŠ©æˆ‘åº¦è¿‡äº†å¾ˆå¤šä¸ªè‰°éš¾çš„å¤œæ™šã€‚</p>
<p>è¦è®­ç»ƒè¿™ä¸ªåŒºåˆ†èƒ½åŠ›æ²¡æœ‰æƒ³è±¡é‚£ä¹ˆéš¾ï¼Œä½†éœ€è¦é•¿æœŸçš„åˆ»æ„ç»ƒä¹ ï¼Œå¤§è„‘èƒ¡æ€ä¹±æƒ³çš„æ—¶å€™å¾ˆå®¹æ˜“ä¸è‡ªè§‰é™·å…¥ã€Œç†æ€§ã€éƒ¨åˆ†ï¼Œè¦æƒ³ç¡è§‰ï¼Œå°±å¾—é¿å…ã€‚ä¸è¦å°è¯•å»æ€è€ƒã€Œwhyã€ã€‚æ—¶åˆ»å¯¹å½“å‰çš„å¤§è„‘æ´»åŠ¨è¡Œä¸ºè¿›è¡Œã€Œé‰´å®šã€å’Œå½’ç±»ã€‚å¯¹äº‹ç‰©åˆ†æã€è§£é‡Šå’Œæ€»ç»“ç±»çš„äº‹ï¼Œèººç€å°±ä¸è¦å»æƒ³ï¼›ä¸€æ—¦èººä¸‹ï¼Œå°±å¤šå›å¿†å’Œå‡è±¡ä¸€äº›ã€Œä½“ä¼šã€å’Œã€Œæ„Ÿå—ã€ã€‚éœ€è¦é¢å¤–æ³¨æ„ï¼Œæƒ…æ„Ÿçš„å¤§ç±»é‡Œï¼Œæœ‰ä¸€ç§å«åšã€Œå®³æ€•ã€å’Œã€Œå¿§è™‘ã€çš„ä¸œè¥¿ï¼Œä¹Ÿè¦ç‰¹æ„é¿å…ï¼Œ<a href="https://blog.est.im/201905/stdin-004">Zizekè¯´è¿‡ â€œThe only emotion that doesn't deceive is anxietyâ€</a>ï¼Œç„¦è™‘æ˜¯æƒŸä¸€ä¸éª—äººçš„æƒ…æ„Ÿï¼Œè¿™å¥è¯çš„æ„æ€æ˜¯ï¼Œç„¦è™‘çš„æœ¬è´¨æ˜¯ç†æ€§å’Œå½’å› åˆ†æï¼Œè€Œä¸æ˜¯æƒ…æ„Ÿï¼Œæ‰€ä»¥å®ƒå¾ˆã€ŒçœŸã€è€Œä¸”å¾ˆã€Œé‡ã€ã€‚å…¥ç¡è¿™ç§äº‹å°±ä¸è¦å½“ã€ŒçœŸã€å•¦ï¼Œæƒ³ç‚¹è½»æ¾æ„‰å¿«çš„éª—éª—è‡ªå·±åšä¸ªç¾æ¢¦ä¸å¥½ä¹ˆã€‚</p>
<p>å¯¹æ€ç»ªçš„ç®€å•çš„äºŒå…ƒåˆ†ç±»å¹¶éæˆ‘ç‹¬åˆ›ï¼Œ<a href="https://blog.est.im/2022/stdin-13">Popperçš„ç¬¬ä¸‰ä¸–ç•Œ</a> å’Œ <a href="https://blog.est.im/2023/stderr-06">ã€Šæ€è€ƒå¿«ä¸æ…¢ã€‹é‡Œ Iã€IIå‹ç³»ç»Ÿ</a>éƒ½æœ‰ç±»ä¼¼çš„é˜è¿°ã€‚è¿™ä¸ªå…¥ç¡æ–¹æ³•æ˜¯æˆ‘æ— æ„ä¸­å®è·µå‡ºæ¥çš„ï¼Œå¯èƒ½æ˜¯æ—©å¹´æ— èŠç‰¹åˆ«å–œæ¬¢å¯¹æ€è¾¨æœ¬èº«è¿›è¡Œæ€è¾¨ï¼ŒäºŒåˆ†æ¨¡å¼å½’ç±»ï¼Œç¡ä¸ç€æ˜¯å› ä¸ºå¤§è„‘è€æ˜¯ç¢ç£¨äº‹ï¼Œæˆ‘æ— èŠå¾—ç¢ç£¨èµ·ç¢ç£¨æœ¬èº«ï¼ˆmeta-ç¢ç£¨ï¼Ÿï¼‰ï¼Œäºæ˜¯é€æ¸ç¢ç£¨å‡ºä¸€ä¸ªè¾…åŠ©å…¥ç¡è§„å¾‹ã€‚</p>
<p>ä»Šå¤©åˆšå¥½çœ‹åˆ°å¦ä¸€ä¸ªç ”ç©¶ï¼š<a href="https://www.dedao.cn/share/course/article?id=R2Mo65zY4QZ3VnmYBYKqEdNAa98jGB">å¾·å›½è’‚å®¾æ ¹å¤§å­¦å‘ç°ï¼Œåˆç†åˆ©ç”¨ç¡çœ ï¼Œå¯ä»¥æå‡ä¸€ä¸ªäººçš„å†³ç­–èƒ½åŠ›</a></p>
<blockquote>
<p>ç ”ç©¶è¿‡ç¨‹æ˜¯ï¼Œæ‹›å‹Ÿä¸€ç¾¤8åˆ°11å²çš„å­©å­ï¼Œç»™ä»–ä»¬çœ‹ä¸€ç»„å¾ˆå“äººçš„ç…§ç‰‡ï¼Œæ¯”å¦‚å‡¶çŒ›çš„åŠ¨ç‰©ä¹‹ç±»ã€‚å½“æ—¶ï¼Œå‡ ä¹æ‰€æœ‰çš„å­©å­éƒ½è¢«å“åˆ°äº†ã€‚ä¹‹åï¼ŒæŠŠè¿™äº›å­©å­åˆ†æˆä¸¤ç»„ï¼Œç¬¬ä¸€ç»„è®©ä»–ä»¬å›å»ç¡ä¸€è§‰ã€‚ç¬¬äºŒç»„ï¼Œè®©ä»–ä»¬é€šå®µç©æ¸¸æˆã€‚<br />
ç¬¬äºŒå¤©ï¼Œå†ç»™è¿™äº›å­©å­çœ‹è¿™äº›å¯æ€•çš„ç…§ç‰‡ã€‚ç»“æœå‘ç°ï¼Œç¡è§‰ç»„çš„å­©å­ï¼Œå¯ä»¥ç›¸å¯¹å¹³é™åœ°è§‚çœ‹ç…§ç‰‡ã€‚ä»–ä»¬æ˜¾å¾—æ²¡é‚£ä¹ˆå®³æ€•äº†ã€‚è€Œé€šå®µæ¸¸æˆç»„çš„å­©å­ï¼Œè¢«æƒŠå“ç¨‹åº¦ï¼Œè·Ÿå‰ä¸€å¤©å‡ ä¹æ²¡æœ‰åŒºåˆ«ã€‚<br />
ç ”ç©¶äººå‘˜è®¤ä¸ºï¼Œè¿™å°±æ˜¯ç¡çœ çš„ä½œç”¨ã€‚ç¡çœ å°±åƒä¸€ä¸ªè¿‡æ»¤å™¨ã€‚å½“æˆ‘ä»¬é¢å¯¹ä¸€ä»¶äº‹æ—¶ï¼Œå¤§è„‘çš„é€»è¾‘ç³»ç»Ÿå’Œæƒ…æ„Ÿç³»ç»Ÿï¼Œä¼šåŒæ—¶è¿è½¬ã€‚æ¯”å¦‚ï¼Œçœ‹åˆ°ä¸€æ¡æ¯’è›‡ã€‚ä½ æ—¢ä¼šäº§ç”Ÿé€»è¾‘ä¸Šçš„è¯†åˆ«ï¼Œè®°ä½è¿™æ¡è›‡çš„åŸºæœ¬ç‰¹å¾ã€‚åŒæ—¶ï¼Œä½ ä¹Ÿä¼šäº§ç”Ÿæƒ…æ„Ÿå±‚é¢çš„ååº”ï¼Œä¹Ÿå°±æ˜¯å®³æ€•ã€‚<br />
è€Œç¡çœ çš„ä½œç”¨ï¼Œå°±åœ¨äºï¼Œè¿‡æ»¤æ‰å…¶ä¸­æƒ…æ„Ÿçš„éƒ¨åˆ†ï¼Œä¿ç•™é€»è¾‘çš„éƒ¨åˆ†ã€‚å› æ­¤ï¼Œç¡è§‰çš„å­©å­å†çœ‹åˆ°è›‡æ—¶ï¼Œä»–ä»¬å°±ä¸ä¼šé‚£ä¹ˆå®³æ€•ï¼Œåªä¼šè®°å¾—ï¼Œè¿™æ¡è›‡æ˜¨å¤©è§è¿‡ã€‚è€Œé€šå®µç»„çš„å­©å­ï¼Œè¿™ä¸ªå®³æ€•çš„æ„Ÿè§‰è¿˜åœ¨ï¼Œä»–ä»¬å†çœ‹åˆ°è›‡æ—¶ï¼Œè¿˜ä¼šå¾ˆå®³æ€•ã€‚<br />
è¿™ä¹Ÿæ˜¯ä¸ºä»€ä¹ˆï¼Œå¾ˆå¤šäººæ™šä¸Šä¸€ä¸Šç§¤ï¼Œå‘ç°è‡ªå·±èƒ–äº†ï¼Œå‘èª“ç¬¬äºŒå¤©æ—©ä¸Šè¦èµ·æ¥è·‘æ­¥ã€‚ä½†ç¬¬äºŒå¤©å´èµ·ä¸æ¥ã€‚è¿™å°±æ˜¯å› ä¸ºï¼Œä½ ç«‹flagæ—¶çš„æ¿€æƒ…ï¼Œè¢«ç¡çœ ç»™è¿‡æ»¤æ‰äº†ã€‚è¿™ä¹Ÿæ˜¯ä¸ºä»€ä¹ˆæœ‰äººè¯´ï¼Œç¡å‰åƒä¸‡ä¸è¦ç«‹flagã€‚<br />
æŠŠè¿™ä¸ªç»“è®ºå†å»¶ä¼¸ä¸€æ­¥ï¼Œç ”ç©¶äººå‘˜è®¤ä¸ºï¼Œå‡å¦‚ä½ åšä¸€ä»¶äº‹æ—¶ï¼Œåœ¨å¾ˆå¤§ç¨‹åº¦ä¸Šå—åˆ°æƒ…ç»ªå¹²æ‰°ï¼Œé‚£ä¹ˆä½ æœ€å¥½å…ˆå»ç¡ä¸€ä¼šå„¿ã€‚è¿™èƒ½å¸®åŠ©ä½ æ›´å¥½åœ°é›†ä¸­æ³¨æ„åŠ›ã€‚<br />
æ¯”å¦‚ï¼Œè¦ä¸è¦åˆ›ä¸šï¼Ÿä¸åˆ›ä¸šï¼Œè§‰å¾—æœ‰ç‚¹è™šåº¦é’æ˜¥ã€‚åˆ›ä¸šï¼Œåˆæœ‰ç‚¹æ‚£å¾—æ‚£å¤±ã€‚è¿™å°±æ˜¯å—æƒ…ç»ªå¹²æ‰°å¤ªå¤šã€‚æŒ‰ç…§è¿™ä¸ªç ”ç©¶ï¼Œä½ å°±åº”è¯¥å…ˆå»ç¡ä¸€è§‰ã€‚è®©ä½ çš„æƒ…ç»ªè„‘å…ˆå†·å´ä¸‹æ¥ï¼Œç¡é†’ä¹‹åï¼Œå†ç”¨ä½ çš„é€»è¾‘è„‘ä»”ç»†æƒ³æƒ³ã€‚<br />
å…¶å®ï¼Œè¿™ä¸ªç ”ç©¶å¯ä»¥ç”¨ä¸€å¥è¯æ¦‚æ‹¬ï¼Œä¸å°±æ˜¯ï¼Œä¸€æ—¥ä¹‹è®¡åœ¨äºæ™¨å—ï¼Ÿä¹Ÿå°±æ˜¯ï¼ŒæŠŠéœ€è¦åŠ¨ç”¨é€»è¾‘æ€è€ƒï¼Œéœ€è¦è®¡ç®—ï¼Œéœ€è¦åšè®¡åˆ’çš„äº‹æƒ…ï¼Œå°½é‡æ”¾åœ¨ä¸€è§‰ç¡é†’ä¹‹åã€‚</p>
</blockquote>
<p>æ‰€ä»¥ç¡è§‰å°±ç¡è§‰ï¼Œåˆ«æƒ³é‚£ä¹ˆå¤šã€‚è‡ªç„¶å°±èƒ½ç¡å¾—ç€äº†ã€‚æœ¬æ–‡ä¹Ÿç”¨æ¥å›ç­”Vç«™æé—®<a href="https://v2ex.com/t/1023202">ã€Šå¦‚ä½•åœ¨ç¡è§‰çš„æ—¶å€™ä¸èƒ¡æ€ä¹±æƒ³ã€‹</a> ã€‚ è½¬è½½è¯·æ³¨æ˜æ¥è‡ªestçš„åšå®¢ <a href="https://blog.est.im/2024/stdout-05">https://blog.est.im/2024/stdout-05</a> ï¼Œå¦‚æœè§‰å¾—å¯¹ä½ æœ‰ç”¨ï¼Œç»™æˆ‘ç•™ä¸€å¥è¯„è®ºæ˜¯å†å¥½ä¸è¿‡çš„äº† ğŸ˜Š </p></p>
            <div class="card-subtext muted-text">
              <p>Posted <time datetime="2024-03-13T13:25:11+08:00">2024-03-13</time></p>
<p>stdout</p>            </div>
          </article>
        </div>


        <!-- new article -->
        <div class="card blog-card">
          <article class="card-body">
            <a href="/2024/stdout-04"  rel="bookmark" >
              <h2 class="card-title">1900å¹´å±…ç„¶ä¸æ˜¯é—°å¹´ï¼Ÿ</h2>
            </a>
            <p class="card-text"><p>çœ‹HNè®¨è®º <a href="https://news.ycombinator.com/item?id=39554995">æ˜¨å¤©2024-02-29æœ‰å“ªäº›é—°å¹´çš„bug</a>ï¼Œæœ‰ä¸€ä¸ªåƒæƒŠäº†</p>
<pre><code>&gt;&gt;&gt; datetime.datetime.strptime('Feb 29', '%b %d')
ValueError: day is out of range for month
</code></pre>
<p>pythonçš„ <code>datetime()</code> é»˜è®¤ <code>year=1900</code>ã€‚ä½†æ˜¯å¿ƒé‡Œæƒ³ 1900 ä¸åº”è¯¥ä¹Ÿæ˜¯é—°å¹´å—ï¼Ÿ</p>
<p>æŸ¥äº†ä¸‹è¿˜çœŸä¸æ˜¯ã€‚å›§ã€‚ä¸€å¹´æœ‰ 365.242374 å¤©ï¼š</p>
<ul>
<li>è¿‘ä¼¼çœ‹æˆ 365.25 å¤©å°±æ˜¯4å¹´ä¸€æ¶¦ï¼›</li>
<li>å‰©ä½™çš„ç²¾åº¦ 365.25-365.242374 == 0.0076 å¤©</li>
<li>è€Œä¸”ï¼Œ0.0076 âœ–ï¸ 400 == 3.0504ï¼Œä¹Ÿå°±æ˜¯æ¯400å¹´è¦å°‘æ¶¦3å¤©</li>
<li>ç»“è®ºå°±æ˜¯æ¯100å¹´ä¸æ¶¦ï¼Œä½†æ˜¯æ¯400å¹´åˆè¦æ¶¦</li>
<li>æ¯”å¦‚ 1700, 1800, 1900, 2100, 2200, 2300, 2500, 2600 è¿™äº›å¹´éƒ½ä¸æ˜¯é—°å¹´ã€‚2000ã€2400æ˜¯é—°å¹´ã€‚</li>
</ul>
<p>çœŸå¤æ‚ï¼</p></p>
            <div class="card-subtext muted-text">
              <p>Posted <time datetime="2024-03-01T13:57:00+08:00">2024-03-01</time></p>
<p>stdout</p>            </div>
          </article>
        </div>


        <!-- new article -->
        <div class="card blog-card">
          <article class="card-body">
            <a href="/2024/stdout-03"  rel="bookmark" >
              <h2 class="card-title">ç©·äººçš„supervisor OOM killer</h2>
            </a>
            <p class="card-text"><p>å‚é‡Œçš„dockerä¸Šè·‘äº†ä¸ªsupervisordï¼Œç”¨æ¥æŠŠæŒ‚æ‰çš„è¿›ç¨‹æ‹‰èµ·æ¥ã€‚æœ€è¿‘çš„é—®é¢˜ä¸æ˜¯è¿›ç¨‹æŒ‚æ‰ï¼Œè€Œæ˜¯å†…å­˜æ³„æ¼</p>
<p>è·‘ç€è·‘ç€å†…å­˜çˆ†äº†ï¼Œç„¶åå®¿ä¸»æœºOOMéšæœºæ€æ‰ä¸€ä¸ªè¿›ç¨‹ï¼Œç»“æœå ç”¨å†…å­˜æœ€å¤§çš„é‚£ä¸ªè¿˜æ´»ç€ï¼Œæ­£å¸¸çš„è¿›ç¨‹åè€Œggï¼Œè¯¥æ¼çš„ç»§ç»­æ¼ï¼Œç„¶ååå¤OOMã€‚æƒ³çœ‹ä¸‹å“ªé‡Œæ¼äº†ï¼Œ<code>--cap-add=SYS_PTRACE</code> ä¹Ÿä¸ç»™åŠ ï¼ŒOOMç­–ç•¥ä¹Ÿä¸ç»™è°ƒï¼Œæ€æ¥æƒ³å»åªèƒ½è‡ªå·±åšé˜²æ°´è¡¥æ¼äº†ã€‚åšèµ·æ¥ä¹Ÿç®€å•ï¼Œsupervisorå†è·‘ä¸€å¥—bashè„šæœ¬å³å¯ï¼š</p>
<pre><code>while true; do
  p=`ps --no-headers  -xo rss,pid --sort=-rss | awk '{
    if($1 &gt; 1000000){ print $2 }
  }'`
  kill $p 2&gt;/dev/null || echo "everything fine";
  sleep 60;
done;
</code></pre>
<p><code>1000000</code> ä»£è¡¨1G å†…å­˜ã€‚ <code>sleep 60</code> è¡¨ç¤º æ¯60ç§’æ£€æŸ¥ä¸€æ¬¡ã€‚</p></p>
            <div class="card-subtext muted-text">
              <p>Posted <time datetime="2024-02-27T16:48:00+08:00">2024-02-27</time></p>
<p>stdout</p>            </div>
          </article>
        </div>


        <!-- new article -->
        <div class="card blog-card">
          <article class="card-body">
            <a href="/2024/stdout-02"  rel="bookmark" >
              <h2 class="card-title">ä» å¹»å…½å¸•é² Palworld è®¾æƒ³ä¸€ä¸‹æœªæ¥çš„è”æœºæ¸¸æˆ</h2>
            </a>
            <p class="card-text"><p>æ‰“å¼€steamåˆ·åˆ°ä¸€ä¸ªæ–°é—»ã€Š<a href="https://store.steampowered.com/news/app/294100/view/5851926268001690398?l=english">Ten years of RimWorld</a>ã€‹ã€‚å•Šï¼Ÿéƒ½åå¹´äº†ï¼Ÿå›æƒ³èµ·æ¥æœ€è¿‘éå¸¸çˆ†ç« å¹»å…½å¸•é² Palworld ï¼Œè¢«å¤§å®¶ç§°ä¸ºç¼åˆæ€ªï¼Œä»€ä¹ˆéƒ½ç¼äº†ã€‚ç»†ç»†ç›˜ç‚¹ä¸€ä¸‹æˆ‘å¯¹è¯¥ç±»åˆ«æ¸¸æˆå¤§æ‚çƒ©çš„ä¸€ä¸ªè¯„ä»·ï¼Œä»¥åŠæˆ‘å¯¹æœªæ¥æ¸¸æˆæœºåˆ¶çš„ä¸€ä¸ªYYã€‚</p>
<h2>Minecraft æŒ–çŸ¿äº‰éœ¸</h2>
<p>æˆ‘ä»è¿™ç©æ„è¿˜æ²¡ä¸­æ–‡åå­—çš„betaæ—¶ä»£å°±å¼€å§‹ç©ï¼ˆç›—ç‰ˆï¼‰ï¼Œä»å±±è„šä¸‹ä¸€ä¸ª 1x2 ç©´å±…çš„ç¬¬ä¸€å¤œï¼ŒæŒ–åˆ°è‡ªå·±çš„ç¬¬ä¸€é“²ç…¤ï¼Œå†åˆ°æ¹–åº•æ°´æ™¶å®«ï¼Œç„¶åä¿®å»ºè‡ªå·±çš„é“è·¯åœ¨å¹¿è¢¤çš„å¹³åŸå’Œå±±é—´å“å‘³é‚£è®©äººç•™è¿å¿˜è¿” procedure generated terrain ï¼Œé‚£ä¸ªæ—¶å€™çœŸçš„èƒ½ç»™äººä¸€ç§æ¿€åŠ¨ã€‚</p>
<p>åæ¥æçš„ä»€ä¹ˆåˆ›é€ æ¨¡å¼ï¼Œå„ç§å¤æ‚çš„æœºåˆ¶å’Œé“å…·ï¼Œæ²¡é‚£ä¸ªç®€å•çš„å¿«ä¹äº†ã€‚</p>
<h2>Conan Exiles</h2>
<p>å’Œ minecraft çš„ voxel å»ºç­‘é£æ ¼ç›¸æ¯”ï¼Œå®ƒçš„å»ºç­‘æ˜¯ç”±<a href="https://blog.est.im/201905/stdin-003">æ­£ä¸‰è§’å½¢ã€æ­£æ–¹å½¢æ„é€ å‡ºæ¥çš„å¥‡ç‰¹é•¶åµŒ</a> ã€‚å½“ç„¶è¿˜æœ‰ç‰¹è‰²çš„ wheel of pain é©¯å¥´ç³»ç»Ÿï¼Œç®€ç›´è§£æ”¾åŠ³åŠ¨åŠ›å•Š</p>
<h2>Rimworld</h2>
<p>è¿™ç©æ„å¥½å°±å¥½åœ¨å®ƒé‚£å¥— story-teller å¸¦æ¥çš„è°ƒæ€§ï¼Œå¾ˆæœ‰é‚£ä¸ªå‘³ã€‚åæ¥çš„å…¶ä»–ä½œå“æ¯”å¦‚ Stranded: Alien Down è™½ç„¶è®¾æ–½è®¾å¤‡ã€æœºåˆ¶éƒ½å †äº†ï¼Œä½†æ˜¯æ€»ç»™äººä¸€ç§å•è–„ï¼ŒåæœŸæ²¡åŠ²çš„æ„Ÿè§‰ã€‚Rimworld çš„é™åˆ¶å°±åœ¨äº 2D è€Œä¸”å›ºå®šå°ºå¯¸åœ°å›¾ï¼Œä¸æ˜¯ open-world</p>
<h2>Grand Theft Auto</h2>
<p>è¿™ç©æ„å½“å¹´ä» GTA:SA æ¥è§¦è§‰å¾—ç®€ç›´æ˜¯ç¥ä½œå•Šï¼æ— ç¼åœ°å›¾åœ¨å½“å¹´çœ‹æ¥å°±æ˜¯é­”æ³•ä¸€èˆ¬ã€‚è€Œä¸”è¿„ä»Šä¸ºæ­¢å®ƒä¹Ÿæ˜¯æ²¡æœ‰å¤ªå¤šç§‘å¹»å…ƒç´ ï¼Œå®Œå…¨ä»¥ã€Œç°ä»£ã€ä¸ºé¢˜æçš„éƒ½å¸‚ç±»æ¸¸æˆï¼Œå›½äº§çš„å–œæ¬¢åšä¸‰å›½ã€ä»™ä¾ ï¼Œå›½å¤–çš„å–œæ¬¢ä¸­ä¸–çºªã€åºŸåœŸå’Œèµ›åšã€‚å‡¸æ˜¾äº† GTA çš„ç‹¬ç‰¹ç”Ÿæ€ä½ã€‚å½“ç„¶è¿™ç©æ„ç© online å°±æ˜¯çº¯çº¯çš„ grindï¼Œè¿˜å¥½æˆ‘æ—©å°±é€šè¿‡å¤–æŒ‚åˆ·äº†å‡ ä¸ªäº¿ï¼Œå¾ˆè½»æ¾æƒ¬æ„ã€‚ï¼ˆå£°æ˜ï¼šå¤–æŒ‚åªç”¨æ¥åˆ·é’±ï¼Œå¹¶ä¸å…·å¤‡å…¶å®ƒä¸å…¬å¹³åŠŸèƒ½ï¼‰ã€‚è¿™ç©æ„åœ¨æˆ‘å¿ƒç›®ä¸­æ˜¯ open-world å½“ä¹‹æ— æ„§çš„å¼€åˆ›è€…å’Œç‹è€…ã€‚</p>
<h2>Palworld</h2>
<p>æ¥è§¦äº†ä¸€ä¸‹è¿™ç©æ„ï¼Œå…¶å®æˆ‘å¯¹ pokemon ä¸€ç›´æœ‰è€³é—»ä½†æ˜¯å®Œå…¨ä¸æ‡‚ï¼Œç°åœ¨çœ‹æ¥æœ‰ç‚¹ç±»ä¼¼æ”¶é›†+é…ç§è¿™æ ·ä¸€ä¸ªæœºåˆ¶ã€‚æƒ³èµ·æ¥ç©ä¸€äº› MMORPG æ¯”å¦‚ Black Desert å‘ç°ä¸€ä¸ªå«åš ã€Œfamilyã€çš„æœºåˆ¶å¾ˆæœ‰è¶£ï¼Œä½ å¯ä»¥åˆ›å»ºå¤šä¸ªè§’è‰²å¹¶åˆ‡æ¢ï¼Œéƒ¨åˆ†ç‰©å“ç”šè‡³æ˜¯é€šç”¨çš„ã€‚ä½†æ˜¯è¿™ç©æ„æ„Ÿè§‰é™¤äº†å¯¹ä¸åŒè§’è‰²ä½“éªŒä¸€ç•ªï¼Œå¹¶ä¸èƒ½å¸¦æ¥ 1+1&gt;2 çš„æ•ˆæœã€‚æˆ‘å½“æ—¶å°±éå¸¸å¸Œæœ›åŒä¸€ä¸ª family çš„è§’è‰²èƒ½ç›¸äº’é…åˆï¼Œå°±åƒã€ŒDragon Age: Originsã€é‡Œä¸€æ ·ï¼Œåœ¨è¡Œèµ°å’Œæ‰“æ¶çš„æ—¶å€™èƒ½éšæ—¶åˆ‡æ¢ï¼Œä¸åŒçš„èŒä¸šç”šè‡³èƒ½æ‰“å‡ºæ¥ä¸€äº›é…åˆï¼Œé‚£è¯¥æœ‰å¤šå¥½ã€‚</p>
<h2>ç¼åˆ</h2>
<p>æ¸¸æˆé‡Œæœ€è›‹ç—›çš„ä¸€ç‚¹ï¼Œå¯¹èµ„æºå¼€é‡‡çš„å¤§é‡éœ€æ±‚ï¼Œåº”è¯¥å¯ä»¥æŠŠç©å®¶çš„è§’è‰²æ‰˜ä»˜ç»™AIæŒ‚æœºï¼Œæ­£å¦‚ Black Desert çš„ auto-fishing ä¸€æ ·ã€‚Palworld è¿™ä¸€ç‚¹å°±ç¼åˆçš„ç›¸å½“æœ‰è¶£äº†ï¼ŒåŸç‰ˆçš„ pokemon æ®è¯´åªèƒ½æŠ“æ¥æ‰“æ¶ï¼Œè¿™é‡Œå˜æˆäº†è¿˜å¯ä»¥æ˜¯ç”Ÿäº§åŠ›ã€‚æ¯” Conan Exiles é‡Œçš„å¥´éš¶æœºåˆ¶æ›´æœ‰æ„æ€ã€‚ç»¼åˆæˆ‘å‰é¢çš„è®¾æƒ³ï¼Œæˆ‘è§‰å¾—ä»¥åçš„è”æœºæ¸¸æˆï¼Œplayer-character åº”è¯¥ä¸æ˜¯ä¸€ä¸ªï¼Œè€Œæ˜¯ä¸€ç¾¤ã€‚æœ‰è¡€ç¼˜æˆ–è€…åŠ³åŠ¨é™„åº¸å…³ç³»çš„ã€Œå®¶æ—ã€ã€‚ç©å®¶åº”è¯¥æœ‰è‡ªç”±åº¦é€‰æ‹©æ§åˆ¶å…¶ä¸­ä¸€ä¸ªæˆ–å¤šä¸ªï¼Œç©å®¶ç¦»çº¿çš„æ—¶å€™è¿™ä¸ªã€Œå®¶æ—ã€åº”è¯¥ä¹Ÿä¼šæŒ‰ç…§è®¾å®šè¿›è¡Œç”Ÿäº§å’ŒåŠ³åŠ¨ã€‚ã€‚ã€‚ã€‚ç”šè‡³é˜²å¾¡ï¼</p>
<p>å¦‚æœè€ƒè™‘æ­»äº¡æ‰è½æœºåˆ¶ï¼Œé‚£ä¹ˆå¯ä»¥è®¾è®¡ä¸€å¥—æ›´æœ‰è¶£çš„ç³»ç»Ÿï¼š</p>
<ol>
<li>æè„¸ä¸èƒ½å…¨éƒ¨è‡ªå®šä¹‰ï¼Œè€Œæ˜¯ç±»ä¼¼ Red Dead Redemption é‚£æ ·çš„åŒäº²ç»§æ‰¿+å¾®è°ƒ</li>
<li>è§’è‰²çš„èŒä¸šï¼Œå¤©èµ‹ç‚¹ï¼Œä¹Ÿåº”è¯¥é€šè¿‡è¡€ç¼˜è·å¾—ï¼Œè€Œä¸æ˜¯ç”Ÿç¡¬çš„æ•°å€¼</li>
<li>ç©å®¶æ§åˆ¶è§’è‰²å¯ä»¥é‡ä¼¤ï¼Œç”šè‡³æ­»äº¡ã€‚æ­»äº†å°±çœŸæ­»é€äº†ã€‚ä½†æ˜¯ä½ å¯ä»¥å¤šç”Ÿè‚²å­å¥³ï¼Œé€‰ä¸€ä¸ªæ¯”å¦‚95%ç›¸ä¼¼åº¦çš„ï¼Œç»§ç»­ç©ã€‚</li>
<li>ç©å®¶éšèº«ç‰©å“ï¼Œå¦‚æœæ‰è½ï¼Œéœ€è¦å®¶æ—é‡Œå…¶ä»–äººå»æï¼Œæˆ–è€…å‘æ‚¬èµæ¢å›</li>
<li>å­å¥³å¤ªå¤šå¯ä»¥äº¤ç»™ç¤¾ä¼šåŒ–æŠšå…»ï¼Œå˜æˆNPCã€‚</li>
<li>ä»˜è´¹ç©å®¶å¯ä»¥å…¨ä»·è‡ªå®šä¹‰æŠ•èƒï¼Œå…è´¹ç©å®¶å¯ä»¥ä»å¼ƒå…»çš„NPCé‡ŒæŒ‘é€‰ã€‚</li>
<li>å®¶æ—é‡Œå…¶ä»–è§’è‰²å¯ä»¥éšæ—¶æ§åˆ¶ï¼Œæˆ–è€…åˆ†é…ç”Ÿäº§ã€æˆ˜æ–—ä»»åŠ¡</li>
<li>æœ‰ä¿˜è™ã€é›‡ä½£ï¼Œéšä»ç­‰ã€Œæ¡çº¦ã€ç³»ç»Ÿæ”¯æŒè·¨è¡€ç¼˜é…åˆ</li>
<li>éƒ½è¯´æ–‡æ˜å‘¨è¾¹ä¼šåˆ·å‡ºæ¥è›®æ—ã€‚è›®æ—å“ªé‡Œæ¥çš„ï¼Ÿè¶…å‡ºæ‰¿è½½èƒ½åŠ›çš„äººå£æµäº¡å‡ºå»çš„ã€‚ä¸€ä¸ªã€Œfamilyã€ç”Ÿè‚²å¤ªå¤šï¼Œå…»ä¸èµ·ï¼Œå¯ä»¥æ”¾å‡ºå»ã€Œè‡ªè°‹ç”Ÿè·¯ã€ï¼ŒæŠ•é åˆ«çš„éƒ¨è½ã€‚NPCæ‚å…µä¸åº”è¯¥æ˜¯æ— è„‘å¤åˆ¶ï¼Œè€Œæ˜¯æ¯ä¸ªè§’è‰²éƒ½æœ‰ä¸ªèƒŒæ™¯æ¿ã€‚ç±»ä¼¼ Rimworld é‡Œ colonist è¢«æµ·ç›—æŠ“èµ°ä¿˜è™ï¼Œé¢ ç ´æµç¦»ã€‚</li>
</ol>
<p>è¿™æ ·çš„ä½“ç³»ä¸‹ï¼Œè¯´ä¸å®šå¯ä»¥åŠ å…¥å®¶æ—æ”¿æ²»å‹¾å¿ƒæ–—è§’ï¼Œæœ€åæ¼”å˜æˆç±»ä¼¼ åå­—å†›ä¹‹ç‹ ä¸€ç±»çš„ç­–ç•¥æ¸¸æˆï¼Ÿ23333</p>
<p>åœ¨å®¶æ—è¿™æ ·çš„è®¾å®šä¸‹ï¼Œè¿˜éœ€è¦è§£å†³æœ€åä¸€ä¸ªæ‹¼å›¾ï¼šç©å®¶ç»ˆå½’æ˜¯è¦æ—¶ä¸æ—¶AFKçš„ã€‚é‚£ä¹ˆç©å®¶ä¸€å®šä¼šéœ€è¦æ®ç‚¹ã€‚è¿™ç±» base-building æ¸¸æˆä¹Ÿçƒ‚å¤§è¡—äº†ã€‚ä½†æ˜¯æœ€å¤§çš„é—®é¢˜å°±æ˜¯ï¼Œä¸€ä¸ªæœåŠ¡å™¨åœ°å›¾æ˜¯æœ‰é™çš„ï¼Œå¥½çš„å»ºå®¶ç‚¹ä½å°±é‚£ä¹ˆå‡ ä¸ªï¼Œç›®å‰è”æœºæ¸¸æˆä¸€èˆ¬çš„åšæ³•æ˜¯æä¸€å¥—å·¨å¤æ‚çš„é˜²å¾¡æœºåˆ¶ï¼Œé«˜éš¾åº¦é™·é˜±é˜²æ­¢åˆ«çš„ç©å®¶æŠ„å®¶ã€‚å®é™…ä¸ŠæŠ„å®¶å’Œè¢«æŠ„å®¶éƒ½æŒºéš¾å—çš„ã€‚</p>
<p>æˆ‘çš„æƒ³æ³•æ˜¯ï¼Œè¦ä¸å¹²è„†æŠŠ  base-building æ”¹æˆå…³å¡ç¼–è¾‘å™¨ã€‚æŠŠä½ åŸºåœ°å½“æˆTower of Defense çš„åœ°ç‰¢æ¥è®¾è®¡ï¼Œå®¶æ—æˆå‘˜é€šè¿‡å ä½å’Œåˆ†å·¥è®¾è®¡æˆé—¯å…³NPCï¼Œæœ€åæŠŠä½ å®¶æ—é‡Œæˆ˜æ–—åŠ›æœ€å¼ºçš„é…ç½®ä¸Šæœ€å¥½çš„è£…å¤‡å’Œæ­¦å™¨è®¾è®¡æˆbossã€‚ç„¶åæ‹¿ä¸€éƒ¨åˆ†å®¶äº§ä½œä¸ºå…¶ä»–ç©å®¶é—¯å…³æˆåŠŸçš„å¥–åŠ±ã€‚åˆ«çš„ç©å®¶æ¥é—¯å…³ï¼Œæ˜¯é—¯ä½ å®¶çš„å‰¯æœ¬ï¼Œè¿™æ ·ä¸å®Œå…¨ç ´åä½ çš„å®¶ï¼Œä¹Ÿå¯ä»¥è®©ç©å®¶å‘æŒ¥è‡ªå·±èªæ˜æ‰æ™ºï¼Œè®©åˆ«çš„ç©å®¶ä½“ä¼šä¼šè¢«é˜´ã€è¢«è™çš„ä¹è¶£ã€‚</p>
<p>æœ‰äº†ã€Œå®¶æ—ã€å’Œã€Œå…³å¡ã€ä¸¤å¥—æœºåˆ¶ï¼Œæ¸¸æˆçš„ç©å®¶ä¹Ÿæˆäº†æ¸¸æˆæœºåˆ¶è¿›åŒ–çš„ä¸€éƒ¨åˆ†ï¼Œå¯ä»¥è¯´ç—…æ¯’å¼ä¼ æ’­ï¼Œç”Ÿç”Ÿä¸æ¯äº†ã€‚åæ­£æˆ‘åˆä¸åšæ¸¸æˆï¼Œæ‰€ä»¥éšä¾¿YYï¼Œä¸ç”¨å…³å¿ƒå¯è¡Œæ€§å’Œæˆæœ¬ï¼Œè°æœ‰å…´è¶£è¯·è‡ªè¡ŒæŒªç”¨ï¼Œæœ€å¥½åšå‡ºæ¥èƒ½é‚€è¯·æˆ‘å†…æµ‹ :)</p></p>
            <div class="card-subtext muted-text">
              <p>Posted <time datetime="2024-02-12T14:52:00+08:00">2024-02-12</time></p>
<p>stdout</p>            </div>
          </article>
        </div>


        <!-- new article -->
        <div class="card blog-card">
          <article class="card-body">
            <a href="/2024/stdout-01"  rel="bookmark" >
              <h2 class="card-title">FastAPI/Starlette é•¿è¿æ¥æ„ŸçŸ¥æ–­å¼€</h2>
            </a>
            <p class="card-text"><p>ä¹‹å‰å†™è¿‡å¦‚ä½• <a href="/2023/stdout-12">åœ¨æœåŠ¡å™¨é‡å¯çš„æ—¶å€™æ„ŸçŸ¥é•¿è¿æ¥</a>ï¼Œæœ€è¿‘å‘ç°æŠ˜è…¾å¤æ‚äº†ã€‚</p>
<p><a href="https://github.com/encode/starlette/discussions/1776">https://github.com/encode/starlette/discussions/1776</a></p>
<p>æµ‹è¯•ä»£ç ï¼š </p>
<pre><code>import asyncio

async def async_streamer():
    try:
        while True:
            yield b&quot;--boundary\r\nContent-Type: text/plain\r\nContent-Length: 1\r\n\r\n1\r\n&quot;
            await asyncio.sleep(0)
    except asyncio.CancelledError:
        print(&quot;caught cancelled error&quot;)

app = Starlette(routes=[
    Route('/async', async_endpoint),
])
</code></pre>
<p>è·‘èµ·æ¥ï¼š <code>uvicorn stream:app</code></p>
<p>è¿™æ®µä»£ç ç²—ä¸€çœ‹æ²¡å•¥å¤§ä¸äº†çš„ï¼Œä½†æ˜¯ç¥å¥‡çš„åœ°æ–¹åœ¨äºï¼Œå¦‚æœå»æ‰ <code>try ... except asyncio.CancelledError</code> ï¼Œä»£ç ä¹Ÿèƒ½æ­£å¸¸è·‘</p>
<pre><code>
async def async_streamer():
    while True:
        yield b&quot;--boundary\r\nContent-Type: text/plain\r\nContent-Length: 1\r\n\r\n1\r\n&quot;
        await asyncio.sleep(0)
</code></pre>
<p>è€Œä¸”ä¸ä¼šæŠ¥é”™ï¼æœ€è›‹ç—›çš„æ˜¯ï¼Œè¿™ç©æ„å› ä¸ºæ˜¯ä¸ª <code>while True</code>ï¼Œå¦‚æœä½ é‡Œé¢æœ‰æ‰“å¼€çš„æ•°æ®åº“è¿æ¥ï¼Œæ˜¯ä¸ä¼šä¸­æ–­çš„ï¼Œä¹Ÿä¸ä¼šå›æ”¶çš„ã€‚å› ä¸ºè¿™ä¸ª coroutine æ²¡æœ‰ç»§ç»­ <code>async for</code> æ¥æ¶ˆè´¹ï¼Œå°±ä¸€ç›´æŒ‚åœ¨è¿›ç¨‹é‡Œå½“åƒµå°¸äº†ï¼</p>
<p>åŠ ä¸Š <code>try ... except asyncio.CancelledError</code>ï¼Œèƒ½æ•è·å‡ºé”™ï¼Œä¹Ÿèƒ½å¤„ç†å–„åäº†ã€‚</p>
<p>çœŸæ˜¯ç¥å¥‡å•Šã€‚ä¸çŸ¥é“æ˜¯ uvicorn çš„ç‰¹æ€§ï¼Œè¿˜æ˜¯ ASGI éƒ½è¿™æ ·ã€‚</p></p>
            <div class="card-subtext muted-text">
              <p>Posted <time datetime="2024-01-18T14:44:12+08:00">2024-01-18</time></p>
<p>stdout</p>            </div>
          </article>
        </div>


        <!-- new article -->
        <div class="card blog-card">
          <article class="card-body">
            <a href="/2023/stdout-19"  rel="bookmark" >
              <h2 class="card-title">ä¸èƒ½å¿˜å´çš„è®°å¿†</h2>
            </a>
            <p class="card-text"><p>ç”±äºå°çˆ±åŒå­¦ä¸èƒ½å¯¼å‡ºå°±æŒ¨ä¸ªæ‰‹æ‰“å‡ºæ¥ã€‚çºªå¿µè¿™ä¸ªæ—¥å­ã€‚</p>
<p><img alt="" src="/images/2023/stdout-19-01.jpg" /></p>
<p>ä¸€å¹´å‰è¿™å‡ å¤©ï¼Œå­©å­å’Œçˆ±äººç›¸ç»§ç—…å€’ï¼Œæˆ‘æœ¬æ¥ä»¥ä¸ºè‹Ÿä½äº†èƒ½ä»¥å¹¸å…ç»“æœåœ¨å®¶äººå¥½è½¬çš„æ—¶å€™ä¸€æµ‹ä½“æ¸©å‘ç°åé«˜ã€‚äºæ˜¯èµ¶ç´§æ´—äº†ä¸ªæ¾¡ï¼ŒæŠŠå°å§å®¤è…¾å‡ºæ¥ï¼Œå¼„å¥½ç”µæš–æ°”ã€ç”µå¹é£ï¼Œè£…æ»¡å¼€æ°´å£¶ï¼ŒæŠŠmbpå’Œå…¶å®ƒä¸ªäººç‰©å“æ¬è¿›å»ï¼Œå› ä¸ºæˆ‘çŸ¥é“æ¥ä¸‹æ¥çš„æ—¥å­å°†ä¼šæ— æ¯”ç…ç†¬ã€‚</p>
<table>
<thead>
<tr>
<th>date</th>
<th>â„ƒ</th>
</tr>
</thead>
<tbody>
<tr>
<td>2022-12-18 16:41</td>
<td>37.3</td>
</tr>
<tr>
<td>2022-12-18 16:43</td>
<td>37.3</td>
</tr>
<tr>
<td>2022-12-18 17.31</td>
<td>38.1</td>
</tr>
<tr>
<td>2022-12-18 17:46</td>
<td>38.3</td>
</tr>
<tr>
<td>2022-12-18 18:33</td>
<td>39.3</td>
</tr>
<tr>
<td>2022-12-18 18.41</td>
<td>38.7</td>
</tr>
<tr>
<td>2022-12-18 19:07</td>
<td>38.3</td>
</tr>
<tr>
<td>2022-12-18 19:15</td>
<td>38.7</td>
</tr>
<tr>
<td>2022-12-18 20:01</td>
<td>38.6</td>
</tr>
<tr>
<td>2022-12-18 21:11</td>
<td>39.5</td>
</tr>
<tr>
<td>2022-12-18 21:20</td>
<td>38.9</td>
</tr>
<tr>
<td>2022-12-18 21:26</td>
<td>39.1</td>
</tr>
<tr>
<td>2022-12-18 21:41</td>
<td>39.2</td>
</tr>
<tr>
<td>2022-12-18 23:30</td>
<td>38.4</td>
</tr>
<tr>
<td>2022-12-19 02:38</td>
<td>39.3</td>
</tr>
<tr>
<td>2022-12-19 02:48</td>
<td>38.3</td>
</tr>
<tr>
<td>2022-12-19 10:05</td>
<td>38.5</td>
</tr>
<tr>
<td>2022-12-19 10:12</td>
<td>37.9</td>
</tr>
<tr>
<td>2022-12-19 10:36</td>
<td>37.4</td>
</tr>
<tr>
<td>2022-12-19 11:19</td>
<td>37.7</td>
</tr>
<tr>
<td>2022-12-19 14:03</td>
<td>37.7</td>
</tr>
<tr>
<td>2022-12-19 14:29</td>
<td>37.0</td>
</tr>
<tr>
<td>2022-12-19 15:18</td>
<td>37.7</td>
</tr>
<tr>
<td>2022-12-19 16:33</td>
<td>37.6</td>
</tr>
<tr>
<td>2022-12-19 18:05</td>
<td>38.1</td>
</tr>
<tr>
<td>2022-12-19 18:44</td>
<td>37.8</td>
</tr>
<tr>
<td>2022-12-19 19:12</td>
<td>37.2</td>
</tr>
<tr>
<td>2022-12-19 19:47</td>
<td>37.8</td>
</tr>
<tr>
<td>2022-12-19 20:00</td>
<td>37.6</td>
</tr>
<tr>
<td>2022-12-19 21:09</td>
<td>37.2</td>
</tr>
<tr>
<td>2022-12-19 21:44</td>
<td>37.2</td>
</tr>
<tr>
<td>2022-12-19 22:57</td>
<td>36.9</td>
</tr>
<tr>
<td>2022-12-20 00:19</td>
<td>37.2</td>
</tr>
<tr>
<td>2022-12-20 06:55</td>
<td>37.1</td>
</tr>
<tr>
<td>2022-12-20 09:03</td>
<td>37.0</td>
</tr>
<tr>
<td>2022-12-20 09:34</td>
<td>37.0</td>
</tr>
<tr>
<td>2022-12-20 10:49</td>
<td>36.8</td>
</tr>
<tr>
<td>2022-12-20 11:41</td>
<td>38.0</td>
</tr>
<tr>
<td>2022-12-20 11:59</td>
<td>38.4</td>
</tr>
<tr>
<td>2022-12-20 14:47</td>
<td>38.6</td>
</tr>
<tr>
<td>2022-12-20 15:51</td>
<td>38.1</td>
</tr>
<tr>
<td>2022-12-20 16:32</td>
<td>38.0</td>
</tr>
<tr>
<td>2022-12-20 18:22</td>
<td>38.3</td>
</tr>
<tr>
<td>2022-12-20 22:31</td>
<td>38.4</td>
</tr>
<tr>
<td>2022-12-21 09:12</td>
<td>38.1</td>
</tr>
<tr>
<td>2022-12-21 09:59</td>
<td>38.2<code>*</code></td>
</tr>
<tr>
<td>2022-12-21 11:57</td>
<td>38.2</td>
</tr>
<tr>
<td>2022-12-21 13:46</td>
<td>37.5</td>
</tr>
<tr>
<td>2022-12-21 15:10</td>
<td>37.5</td>
</tr>
<tr>
<td>2022-12-21 16.44</td>
<td>37.2</td>
</tr>
<tr>
<td>2022-12-21 17:07</td>
<td>37.0</td>
</tr>
<tr>
<td>2022-12-21 20:37</td>
<td>37.2</td>
</tr>
<tr>
<td>2022-12-21 20:54</td>
<td>37.7</td>
</tr>
<tr>
<td>2022-12-21 22:54</td>
<td>38.3</td>
</tr>
<tr>
<td>2022-12-21 23:05</td>
<td>38.4</td>
</tr>
<tr>
<td>2022-12-22 09:23</td>
<td>36.7</td>
</tr>
<tr>
<td>2022-12-22 09:43</td>
<td>37.3</td>
</tr>
<tr>
<td>2022-12-22 12:44</td>
<td>37.6</td>
</tr>
</tbody>
</table>
<p><code>*</code>: å¸ƒæ´›èŠ¬å·²ç”¨å®Œ</p>
<p>å¯èƒ½å¤§å®¶åªæ˜¯çœ‹åˆ°ä¸€ä¸²å†·å†°å†°çš„æ•°å­—ï¼Œä½†æ˜¯æˆ‘æ‰“å­—éƒ½æ˜¯é¢¤æŠ–çš„ï¼Œæ¯ä¸€åˆ»æ—¶é—´å’Œä½“æ¸©éƒ½æ˜¯åˆ»éª¨é“­å¿ƒçš„è®°å¿†ã€‚</p>
<p>NEVER FORGET!</p></p>
            <div class="card-subtext muted-text">
              <p>Posted <time datetime="2023-12-21T20:43:47+08:00">2023-12-21</time></p>
<p>stdout</p>            </div>
          </article>
        </div>


        <!-- new article -->
        <div class="card blog-card">
          <article class="card-body">
            <a href="/2023/stdout-18"  rel="bookmark" >
              <h2 class="card-title">äº¬åŠ é«˜é“</h2>
            </a>
            <p class="card-text"><p>ä»Šå¤©äº†è§£åˆ°è¿™ä¹ˆä¸€ä»¶äº‹ï¼Œç™½ä»¤æµ·å³¡åŸæ¥ä¹Ÿå°± 82.5km å®½ï¼Œæ°´æ·±55ç±³ï¼Œå¯¹äºç°ä»£å·¥ç¨‹æŠ€æœ¯æ¥è¯´ä¿®æ¡¥å’Œéš§é“éƒ½ä¸æ˜¯é—®é¢˜ã€‚</p>
<p><img alt="" src="https://upload.wikimedia.org/wikipedia/commons/thumb/0/0e/BeringSt-close-VE.jpg/600px-BeringSt-close-VE.jpg" /></p>
<p>å¦‚æœä¸­é—´é‚£ä¸ªå²›åšä¸ªä¸­è½¬ç«™ï¼Œé‚£ä¹ˆä¸¤ä¾§éƒ½å„è‡ª30kmå·¦å³ã€‚æ‰€ä»¥ç†è®ºä¸Šä»åŒ—äº¬ä¿®ä¸€æ¡åˆ°è¥¿é›…å›¾/åŠ å·çš„é«˜é“å®Œå…¨æ²¡æœ‰é—®é¢˜ã€‚ã€‚</p>
<p><img alt="" src="https://upload.wikimedia.org/wikipedia/commons/thumb/3/37/North_pole_map.jpeg/800px-North_pole_map.jpeg" /></p></p>
            <div class="card-subtext muted-text">
              <p>Posted <time datetime="2023-12-18T23:10:40+08:00">2023-12-18</time></p>
<p>stdout</p>            </div>
          </article>
        </div>


        <!-- new article -->
        <div class="card blog-card">
          <article class="card-body">
            <a href="/2023/stdout-17"  rel="bookmark" >
              <h2 class="card-title">query git notes with Github GraphQL</h2>
            </a>
            <p class="card-text"><p>git notes is an interesting feature, you can use it like </p>
<pre><code class="language-bash">git notes add -m &quot;hello test git notes&quot;
git push origin 'refs/notes/*'
</code></pre>
<p>Github supported them back <a href="https://github.blog/2010-08-25-git-notes-display/">in 2010</a> then gave up LMAO.</p>
<p>If you need to retrive them with Github API, try GraphQL like this</p>
<pre><code>  {
    repository(owner: "est", name: "snippets") {
      refs(refPrefix:"refs/notes/",first:1) {
        nodes{
          ... on Ref{
            target {
              oid
              ... on Commit{
                changedFilesIfAvailable
                message
                tree{
                  oid
                  entries{
                    oid
                    path
                    size
                    lineCount
                    mode
                    object{
                      ... on Blob{
                        byteSize
                        text
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    }
  }
</code></pre>
<p>It will return something like:</p>
<pre><code>  {
    "data": {
      "repository": {
        "refs": {
          "nodes": [
            {
              "target": {
                "oid": "bfdfda121f3d8a2d6aa399e3e8f0d58b3db0a543",
                "changedFilesIfAvailable": 1,
                "message": "Notes added by 'git notes add'",
                "tree": {
                  "oid": "2ab3e6a8b0dff6596fa60ecfb3c61bf91e5b4e1f",
                  "entries": [
                    {
                      "oid": "404d353a254ffbc97b2e16d17b8c100461aef586",
                      "path": "4fb1272f1e235580f87e3ec071984658de050dc9",
                      "size": 21,
                      "lineCount": 1,
                      "mode": 33188,
                      "object": {
                        "byteSize": 21,
                        "text": "hello test git notes\n"
                      }
                    }
                  ]
                }
              }
            }
          ]
        }
      }
    }
  }
</code></pre>
<p>Here <code>"path": "4fb1272f1e235580f87e3ec071984658de050dc9"</code> is the commit SHA.</p>
<p>If you add more filter parameters in <code>refs()</code> you can fetch all the notes.</p></p>
            <div class="card-subtext muted-text">
              <p>Posted <time datetime="2023-11-27T09:06:11+08:00">2023-11-27</time></p>
<p>stdout</p>            </div>
          </article>
        </div>


        <!-- new article -->
        <div class="card blog-card">
          <article class="card-body">
            <a href="/2023/stdout-16"  rel="bookmark" >
              <h2 class="card-title">VPSæ¨èï¼šHosteon</h2>
            </a>
            <p class="card-text"><p>ç»§ç»­<a href="/202012/stderr-012">ä¸Šæ¬¡ Racknerd</a> ä¹‹åå‘ç°è¿™å®¶è¿˜è¡Œã€‚å†™äº†ä¸ª<a href="https://github.com/est/snippets/blob/master/vps_scan/main.py">çˆ¬è™«</a>æ‰’äº†ä¸€ä¸‹å„è‰²é…ç½®ï¼Œç‹¬ç«‹æœé™¤å¤–ï¼Œæœ‰éœ€è¦çš„è‡ªå–</p>
<table>
<thead>
<tr>
<th>pid</th>
<th>spec</th>
<th>Disk</th>
<th>Bandwidth</th>
<th>Annual $</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="https://my.hosteons.com/aff.php?aff=2128&amp;pid=1">1</a></td>
<td>1C512M</td>
<td>5GB</td>
<td>100Mbps</td>
<td>$27.00</td>
</tr>
<tr>
<td><a href="https://my.hosteons.com/aff.php?aff=2128&amp;pid=7">7</a></td>
<td>6C8G</td>
<td>100GB</td>
<td>100Mbps</td>
<td>$270.00</td>
</tr>
<tr>
<td><a href="https://my.hosteons.com/aff.php?aff=2128&amp;pid=77">77</a></td>
<td>1C1G</td>
<td>10GB</td>
<td>1Tbps</td>
<td>$21.00</td>
</tr>
<tr>
<td><a href="https://my.hosteons.com/aff.php?aff=2128&amp;pid=78">78</a></td>
<td>2C1.5G</td>
<td>20GB</td>
<td>2Tbps</td>
<td>$36.00</td>
</tr>
<tr>
<td><a href="https://my.hosteons.com/aff.php?aff=2128&amp;pid=79">79</a></td>
<td>2C2G</td>
<td>25GB</td>
<td>3Tbps</td>
<td>$45.00</td>
</tr>
<tr>
<td><a href="https://my.hosteons.com/aff.php?aff=2128&amp;pid=80">80</a></td>
<td>2C2.5G</td>
<td>30GB</td>
<td>4Tbps</td>
<td>$54.00</td>
</tr>
<tr>
<td><a href="https://my.hosteons.com/aff.php?aff=2128&amp;pid=81">81</a></td>
<td>3C3G</td>
<td>40GB</td>
<td>5Tbps</td>
<td>$63.00</td>
</tr>
<tr>
<td><a href="https://my.hosteons.com/aff.php?aff=2128&amp;pid=83">83</a></td>
<td>3C5G</td>
<td>50GB</td>
<td>8Tbps</td>
<td>$90.00</td>
</tr>
<tr>
<td><a href="https://my.hosteons.com/aff.php?aff=2128&amp;pid=84">84</a></td>
<td>6C10G</td>
<td>120GB</td>
<td>12Tbps</td>
<td>$180.00</td>
</tr>
<tr>
<td><a href="https://my.hosteons.com/aff.php?aff=2128&amp;pid=85">85</a></td>
<td>10C12G</td>
<td>150GB</td>
<td>15Tbps</td>
<td>$270.00</td>
</tr>
<tr>
<td><a href="https://my.hosteons.com/aff.php?aff=2128&amp;pid=86">86</a></td>
<td>14C20G</td>
<td>200GB</td>
<td>20Tbps</td>
<td>$450.00</td>
</tr>
<tr>
<td><a href="https://my.hosteons.com/aff.php?aff=2128&amp;pid=87">87</a></td>
<td>20C30G</td>
<td>300GB</td>
<td>30Tbps</td>
<td>$675.00</td>
</tr>
<tr>
<td><a href="https://my.hosteons.com/aff.php?aff=2128&amp;pid=110">110</a></td>
<td>1C1G</td>
<td>15GB</td>
<td>2Tbps</td>
<td>$21.00</td>
</tr>
<tr>
<td><a href="https://my.hosteons.com/aff.php?aff=2128&amp;pid=111">111</a></td>
<td>2C2G</td>
<td>20GB</td>
<td>4Tbps</td>
<td>$39.99</td>
</tr>
<tr>
<td><a href="https://my.hosteons.com/aff.php?aff=2128&amp;pid=112">112</a></td>
<td>3C3G</td>
<td>30GB</td>
<td>6Tbps</td>
<td>$49.50</td>
</tr>
<tr>
<td><a href="https://my.hosteons.com/aff.php?aff=2128&amp;pid=113">113</a></td>
<td>4C4G</td>
<td>40GB</td>
<td>8Tbps</td>
<td>$59.99</td>
</tr>
<tr>
<td><a href="https://my.hosteons.com/aff.php?aff=2128&amp;pid=119">119</a></td>
<td>1C512M</td>
<td>10GB</td>
<td>500Gbps</td>
<td>$24.00</td>
</tr>
<tr>
<td><a href="https://my.hosteons.com/aff.php?aff=2128&amp;pid=120">120</a></td>
<td>1C1G</td>
<td>15GB</td>
<td>1Tbps</td>
<td>$36.00</td>
</tr>
<tr>
<td><a href="https://my.hosteons.com/aff.php?aff=2128&amp;pid=121">121</a></td>
<td>2C2G</td>
<td>30GB</td>
<td>2Tbps</td>
<td>$72.00</td>
</tr>
<tr>
<td><a href="https://my.hosteons.com/aff.php?aff=2128&amp;pid=122">122</a></td>
<td>2C3G</td>
<td>50GB</td>
<td>3Tbps</td>
<td>$108.00</td>
</tr>
<tr>
<td><a href="https://my.hosteons.com/aff.php?aff=2128&amp;pid=123">123</a></td>
<td>2C4G</td>
<td>70GB</td>
<td>4Tbps</td>
<td>$144.00</td>
</tr>
<tr>
<td><a href="https://my.hosteons.com/aff.php?aff=2128&amp;pid=124">124</a></td>
<td>4C5G</td>
<td>90GB</td>
<td>5Tbps</td>
<td>$180.00</td>
</tr>
<tr>
<td><a href="https://my.hosteons.com/aff.php?aff=2128&amp;pid=126">126</a></td>
<td>6C6G</td>
<td>100GB</td>
<td>6Tbps</td>
<td>$216.00</td>
</tr>
<tr>
<td><a href="https://my.hosteons.com/aff.php?aff=2128&amp;pid=127">127</a></td>
<td>6C7G</td>
<td>120GB</td>
<td>7Tbps</td>
<td>$252.00</td>
</tr>
<tr>
<td><a href="https://my.hosteons.com/aff.php?aff=2128&amp;pid=128">128</a></td>
<td>8C8G</td>
<td>140GB</td>
<td>8Tbps</td>
<td>$288.00</td>
</tr>
<tr>
<td><a href="https://my.hosteons.com/aff.php?aff=2128&amp;pid=129">129</a></td>
<td>8C9G</td>
<td>150GB</td>
<td>9Tbps</td>
<td>$324.00</td>
</tr>
<tr>
<td><a href="https://my.hosteons.com/aff.php?aff=2128&amp;pid=130">130</a></td>
<td>10C10G</td>
<td>170GB</td>
<td>10Tbps</td>
<td>$360.00</td>
</tr>
<tr>
<td><a href="https://my.hosteons.com/aff.php?aff=2128&amp;pid=131">131</a></td>
<td>10C11G</td>
<td>180GB</td>
<td>11Tbps</td>
<td>$396.00</td>
</tr>
<tr>
<td><a href="https://my.hosteons.com/aff.php?aff=2128&amp;pid=132">132</a></td>
<td>12C12G</td>
<td>200GB</td>
<td>12Tbps</td>
<td>$432.00</td>
</tr>
<tr>
<td><a href="https://my.hosteons.com/aff.php?aff=2128&amp;pid=154">154</a></td>
<td>1C1G</td>
<td>20GB</td>
<td>4Tbps</td>
<td>$33.00</td>
</tr>
<tr>
<td><a href="https://my.hosteons.com/aff.php?aff=2128&amp;pid=155">155</a></td>
<td>2C2G</td>
<td>30GB</td>
<td>6Tbps</td>
<td>$40.00</td>
</tr>
<tr>
<td><a href="https://my.hosteons.com/aff.php?aff=2128&amp;pid=156">156</a></td>
<td>3C3G</td>
<td>40GB</td>
<td>8Tbps</td>
<td>$60.00</td>
</tr>
<tr>
<td><a href="https://my.hosteons.com/aff.php?aff=2128&amp;pid=157">157</a></td>
<td>4C4G</td>
<td>50GB</td>
<td>10Tbps</td>
<td>$84.00</td>
</tr>
<tr>
<td><a href="https://my.hosteons.com/aff.php?aff=2128&amp;pid=158">158</a></td>
<td>5C5G</td>
<td>60GB</td>
<td>12Tbps</td>
<td>$105.00</td>
</tr>
<tr>
<td><a href="https://my.hosteons.com/aff.php?aff=2128&amp;pid=159">159</a></td>
<td>6C6G</td>
<td>70GB</td>
<td>14Tbps</td>
<td>$130.00</td>
</tr>
<tr>
<td><a href="https://my.hosteons.com/aff.php?aff=2128&amp;pid=160">160</a></td>
<td>7C7G</td>
<td>80GB</td>
<td>16Tbps</td>
<td>$145.00</td>
</tr>
<tr>
<td><a href="https://my.hosteons.com/aff.php?aff=2128&amp;pid=161">161</a></td>
<td>8C8G</td>
<td>90GB</td>
<td>18Tbps</td>
<td>$170.00</td>
</tr>
<tr>
<td><a href="https://my.hosteons.com/aff.php?aff=2128&amp;pid=162">162</a></td>
<td>9C9G</td>
<td>100GB</td>
<td>20Tbps</td>
<td>$190.00</td>
</tr>
<tr>
<td><a href="https://my.hosteons.com/aff.php?aff=2128&amp;pid=163">163</a></td>
<td>10C10G</td>
<td>110GB</td>
<td>22Tbps</td>
<td>$210.00</td>
</tr>
<tr>
<td><a href="https://my.hosteons.com/aff.php?aff=2128&amp;pid=164">164</a></td>
<td>11C11G</td>
<td>120GB</td>
<td>24Tbps</td>
<td>$240.00</td>
</tr>
<tr>
<td><a href="https://my.hosteons.com/aff.php?aff=2128&amp;pid=165">165</a></td>
<td>12C12G</td>
<td>130GB</td>
<td>26Tbps</td>
<td>$260.00</td>
</tr>
<tr>
<td><a href="https://my.hosteons.com/aff.php?aff=2128&amp;pid=166">166</a></td>
<td>8C8G</td>
<td>50GB</td>
<td>30Tbps</td>
<td>$98.99</td>
</tr>
<tr>
<td><a href="https://my.hosteons.com/aff.php?aff=2128&amp;pid=167">167</a></td>
<td>4C4G</td>
<td>25GB</td>
<td>15Tbps</td>
<td>$56.99</td>
</tr>
<tr>
<td><a href="https://my.hosteons.com/aff.php?aff=2128&amp;pid=168">168</a></td>
<td>4C4G</td>
<td>25GB</td>
<td>15Tbps</td>
<td>$79.00</td>
</tr>
<tr>
<td><a href="https://my.hosteons.com/aff.php?aff=2128&amp;pid=169">169</a></td>
<td>8C8G</td>
<td>50GB</td>
<td>30Tbps</td>
<td>$158.00</td>
</tr>
<tr>
<td><a href="https://my.hosteons.com/aff.php?aff=2128&amp;pid=170">170</a></td>
<td>12C12G</td>
<td>75GB</td>
<td>30Tbps</td>
<td>$235.00</td>
</tr>
<tr>
<td><a href="https://my.hosteons.com/aff.php?aff=2128&amp;pid=171">171</a></td>
<td>16C16G</td>
<td>100GB</td>
<td>30Tbps</td>
<td>$318.00</td>
</tr>
<tr>
<td><a href="https://my.hosteons.com/aff.php?aff=2128&amp;pid=172">172</a></td>
<td>20C20G</td>
<td>125GB</td>
<td>30Tbps</td>
<td>$399.00</td>
</tr>
<tr>
<td><a href="https://my.hosteons.com/aff.php?aff=2128&amp;pid=173">173</a></td>
<td>24C24G</td>
<td>150GB</td>
<td>30Tbps</td>
<td>$480.00</td>
</tr>
<tr>
<td><a href="https://my.hosteons.com/aff.php?aff=2128&amp;pid=174">174</a></td>
<td>28C28G</td>
<td>175GB</td>
<td>30Tbps</td>
<td>$575.00</td>
</tr>
<tr>
<td><a href="https://my.hosteons.com/aff.php?aff=2128&amp;pid=175">175</a></td>
<td>32C32G</td>
<td>200GB</td>
<td>30Tbps</td>
<td>$660.00</td>
</tr>
<tr>
<td><a href="https://my.hosteons.com/aff.php?aff=2128&amp;pid=176">176</a></td>
<td>36C36G</td>
<td>225GB</td>
<td>30Tbps</td>
<td>$730.00</td>
</tr>
<tr>
<td><a href="https://my.hosteons.com/aff.php?aff=2128&amp;pid=177">177</a></td>
<td>40C40G</td>
<td>250GB</td>
<td>30Tbps</td>
<td>$810.00</td>
</tr>
<tr>
<td><a href="https://my.hosteons.com/aff.php?aff=2128&amp;pid=178">178</a></td>
<td>1C1G</td>
<td>20GB</td>
<td>2Tbps</td>
<td>$21.00</td>
</tr>
<tr>
<td><a href="https://my.hosteons.com/aff.php?aff=2128&amp;pid=179">179</a></td>
<td>32C32G</td>
<td>1TB</td>
<td>1Gbps</td>
<td>$540.00</td>
</tr>
<tr>
<td><a href="https://my.hosteons.com/aff.php?aff=2128&amp;pid=180">180</a></td>
<td>64C64G</td>
<td>1TB</td>
<td>1Gbps</td>
<td>$725.00</td>
</tr>
<tr>
<td><a href="https://my.hosteons.com/aff.php?aff=2128&amp;pid=181">181</a></td>
<td>128C128G</td>
<td>2x</td>
<td>1Gbps</td>
<td>$1850.00</td>
</tr>
</tbody>
</table></p>
            <div class="card-subtext muted-text">
              <p>Posted <time datetime="2023-11-19T22:10:55+08:00">2023-11-19</time></p>
<p>stdout</p>            </div>
          </article>
        </div>


        <!-- new article -->
        <div class="card blog-card">
          <article class="card-body">
            <a href="/2023/stdout-15"  rel="bookmark" >
              <h2 class="card-title">å¤ªé˜³ç³»å¤©ä½“çš„ unicode ç¬¦å·</h2>
            </a>
            <p class="card-text"><p>å‘ç°<a href="https://en.wikipedia.org/wiki/Astronomical_symbols">Astronomical symbols</a>ï¼Œ<a href="https://en.wikipedia.org/wiki/Planet_symbols">Planet symbols<br />
</a> åŠ <a href="https://en.wikipedia.org/wiki/Alchemical_symbol#Unicode">Alchemical symbol</a></p>
<table>
<thead>
<tr>
<th>IAU</th>
<th>ä¸ƒé‡‘</th>
<th>ç¬¦å·</th>
<th>å</th>
<th>name</th>
<th>æ˜ŸæœŸ</th>
<th>ä¸ƒæ›œ</th>
<th>å¤‡æ³¨</th>
</tr>
</thead>
<tbody>
<tr>
<td></td>
<td>é‡‘</td>
<td>â˜‰ï¸</td>
<td>å¤ªé˜³</td>
<td>Sun</td>
<td>æ˜ŸæœŸå¤©</td>
<td>æ—¥æ›œ</td>
<td></td>
</tr>
<tr>
<td></td>
<td>é“¶</td>
<td>â˜¾</td>
<td>æœˆçƒ</td>
<td>Moon</td>
<td>æ˜ŸæœŸä¸€</td>
<td>æœˆæ›œ</td>
<td>ä¹Ÿå¯ä»¥ç”»æˆ â˜½ï¸ <br>æˆ–è€…æœˆç›¸ ğŸŒ‘ï¸ğŸŒ’ï¸ğŸŒ“ï¸ğŸŒ”ï¸ğŸŒ•ï¸ğŸŒ–ï¸ğŸŒ—ï¸ğŸŒ˜ï¸ï¼ŒğŸŒšï¸ğŸŒ›ï¸ï¸ğŸŒï¸ï¸ğŸŒœï¸ï¸</td>
</tr>
<tr>
<td>H</td>
<td>æ±</td>
<td>â˜¿</td>
<td>æ°´æ˜Ÿ</td>
<td>Mercury</td>
<td>æ˜ŸæœŸä¸‰</td>
<td>æ°´æ›œ</td>
<td>èµ«è€³å¢¨æ–¯(Hermes)ï¼Œç½—é©¬äººç§° Mercury<br>ç°ä»£äººç§°ã€Œçˆ±é©¬ä»•ã€çš„åŒç›˜è›‡å¸¦ç¿¼æƒæ– Caduceus <font size="5">â˜¤</font></td>
</tr>
<tr>
<td>V</td>
<td>é“œ</td>
<td>â™€</td>
<td>é‡‘æ˜Ÿ</td>
<td>Venus</td>
<td>æ˜ŸæœŸäº”</td>
<td>é‡‘æ›œ</td>
<td>ç»´çº³æ–¯</td>
</tr>
<tr>
<td>E</td>
<td></td>
<td>ğŸœ¨</td>
<td>åœ°çƒ</td>
<td>Earch</td>
<td></td>
<td></td>
<td><em>Bible</em> é‡Œè¯´çš„å››æ¡æ²³æŠŠåœ°çƒåˆ†æˆå››æ´²<br>å¦å¤–çš„ç¬¦å·æ˜¯ â™ è¡¨ç¤ºåå­—æ¶é’‰ä¸ªçƒ <em>globus cruciger</em></td>
</tr>
<tr>
<td>M</td>
<td>é“</td>
<td>â™‚</td>
<td>ç«æ˜Ÿ</td>
<td>Mars</td>
<td>æ˜ŸæœŸäºŒ</td>
<td>ç«æ›œ</td>
<td>ç¬¦å·æ˜¯æˆ˜ç¥ç›¾ç‰Œå’Œé•¿çŸ›</td>
</tr>
<tr>
<td>J</td>
<td>é”¡</td>
<td>â™ƒ</td>
<td>æœ¨æ˜Ÿ</td>
<td>Jupiter</td>
<td>æ˜ŸæœŸå››</td>
<td>æœ¨æ›œ</td>
<td>å­—æ¯ Zetaï¼ˆå¤§å†™Î–å°å†™Î¶ï¼‰åŠ ä¸€æ ï¼Œä»£è¡¨å®™æ–¯/æœ±åº‡ç‰¹</td>
</tr>
<tr>
<td>S</td>
<td>é“…</td>
<td>â™„</td>
<td>åœŸæ˜Ÿ</td>
<td>Saturn</td>
<td>æ˜ŸæœŸå…­</td>
<td>åœŸæ›œ</td>
<td>å­—æ¯ kappa-rho ï¼Œè¡¨ç¤º Kronos åŠ ä¸€æ <br>æ³°å¦ å…‹ç½—è¯ºæ–¯ï¼Œå®™æ–¯ä»–çˆ¹</td>
</tr>
<tr>
<td>U</td>
<td></td>
<td>â›¢</td>
<td>å¤©ç‹æ˜Ÿ</td>
<td>Uranus</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>N</td>
<td></td>
<td>â™…</td>
<td>æµ·ç‹æ˜Ÿ</td>
<td>Neptune</td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
<p>å‡ ç‚¹ï¼š</p>
<ul>
<li>å…¶ä¸­ é‡‘æ˜Ÿ/ç«æ˜Ÿ ç¬¦å·è¢«æ‹¿æ¥ä»£è¡¨ å¥³/ç”· æ˜¯1750å¹´ä»£Carl Linnaeuså¹²çš„ã€‚ </li>
<li>å†¥ç‹æ˜Ÿ Pluto å‘ç°çš„æ™šï¼Œå æ˜Ÿæœ¯è¿˜æ²¡æ¥å¾—åŠæ”¹ç‰ˆå°±æƒ¨é­é™¤åæˆçŸ®è¡Œæ˜Ÿã€‚</li>
<li>æ˜ŸæœŸå’Œå¯¹åº”çš„å¤©ä½“æ„ä¹‰ï¼Œ<a href="https://en.wikipedia.org/wiki/Names_of_the_days_of_the_week">å…¨ä¸–ç•ŒæƒŠäººçš„ä¸€è‡´</a></li>
</ul>
<p>å…¶å®ƒå„ç§å«æ˜Ÿï¼Œå°è¡Œæ˜Ÿçš„åå­—å°±æ‡’å¾—è´´äº†ã€‚</p>
<p>æœ‰äº†è¿™äº›ç¬¦å·ï¼Œæˆ‘ä»¬å¯ä»¥ç”»ä¸€ä¸ªæ¯”å¦‚æ‰˜å‹’å¯†çš„ç®€åŒ–ç‰ˆå¤ªé˜³ç³»æ¨¡å‹ï¼š</p>
<p><img alt="" src="/images/2023/stdout-15-01.jpg" /></p>
<p>æœ¬æ–‡æºè‡ªã€Š<a href="https://www.cricetuscricetus.co.uk/post/copernicus-galileo-kepler-they-all-lacked-proof">å“¥ç™½å°¼ã€ä¼½åˆ©ç•¥ã€å¼€æ™®å‹’éƒ½æ˜¯è„±ç¦»è¯æ®æ‹è„‘è¢‹æ’•é€¼</a>ã€‹ä¸€æ–‡ã€‚<a href="https://news.ycombinator.com/item?id=38300902">HN</a></p></p>
            <div class="card-subtext muted-text">
              <p>Posted <time datetime="2023-11-18T16:15:51+08:00">2023-11-18</time></p>
<p>stdout</p>            </div>
          </article>
        </div>


        <!-- new article -->
        <div class="card blog-card">
          <article class="card-body">
            <a href="/2023/stdout-14"  rel="bookmark" >
              <h2 class="card-title">Getting started blogging on Win10</h2>
            </a>
            <p class="card-text"><p>I am planning to setup by blogging environment on my Windows PC.</p>
<ul>
<li>OS: Windows 10</li>
<li>Shell: Bash on WSL1</li>
<li>Program: <code>pelican</code> on Miniconda3 with Python 3.11</li>
</ul>
<p>My objective today is get rid of the <code>static/js/core.js</code> from <code>aether-pelican</code> theme and replace it with <a href="https://jsfiddle.net/t78mf7jb/3/">a simple CSS</a>, and it turns out quite challenging.</p>
<h3>WSL1 and file system</h3>
<p>As it turns out, the installed Ubuntu root filesystem on WSL1 is located here:</p>
<p><code>%localappdata%\Packages\CanonicalGroupLimited.UbuntuonWindows_79rhkp1fndgsc\LocalState\rootfs</code></p>
<p>I plan to move my home dir (at least) to another SSD on my PC, as the <code>C:\</code> drive is an old SanDisk Plus240, which is unforgivablly slow these days. I tried to <code>mv ~ /mnt/d/home</code>, ok but the permission gets weird.</p>
<p>So I tried to copy the folder on Windows to <code>D:\home</code>, and <code>mklink</code> back. I tried both <code>mklink /D</code> and <code>mklink /J</code> ( the <code>/D</code> switch works on a remote drive whereas the <code>/J</code> junction works on local NTFS disks only) and they both failed be recognized by WSL1. The bash yields <code>Broken stdout/stdin</code> upon launch</p>
<p>So OK, default home dir then. Bad luck for me.</p>
<h3>Ubuntu 22</h3>
<p>I just found out my <code>cat /etc/lsb-release</code> shows Ubuntu 18, which is the default distro installed on <code>WSL1</code> I assume. I tried to install Ubuntu 22 from the Microsoft Store, after several wasted minutes (curse the slow Internet in Mainland!) it turns out for WSL2 only. Luckily the Windows Subsystem for Linux was successfully upgraded to latest version:</p>
<pre><code>C:\&gt; wsl --version
WSL version: 1.2.5.0
Kernel version: 5.15.90.1
WSLg version: 1.0.51
MSRDC version: 1.2.3770
Direct3D version: 1.608.2-61064218
DXCore version: 10.0.25131.1002-220531-1700.rs-onecore-base2-hyp
Windows version: 10.0.19045.3570
</code></pre>
<p>the <code>wsl --list --online</code> commands stuck for a total of 10 minutes and returns nothing (curse the AS4134 163NET!)</p>
<h3>Getting Python, Miniconda and Pelican</h3>
<p>So linux distro setup was back to where started, I only have Python to mess with. Miniconda3 gets insalled easily, now that's a some progress. The static site generator I am using <code>pip install pelican[markdown]</code> finishes ok, the pypi was not blocked? Keke.</p>
<p>Then I typed <code>make</code>. It was not part of WSL1? Blaspheme!</p>
<p>Manually running <code>python -m pelican.server</code>, and voila! The Windows asks for firewall listening permission, granted, open up browser, BAM! My blog setup process is done and now I can write and tweak it on Windows. </p>
<p>Oh, and there's <code>git config core.fileMode false</code> needs to be checked!</p></p>
            <div class="card-subtext muted-text">
              <p>Posted <time datetime="2023-11-11T10:31:11+08:00">2023-11-11</time></p>
<p>stdout</p>            </div>
          </article>
        </div>


        <!-- new article -->
        <div class="card blog-card">
          <article class="card-body">
            <a href="/2023/stdout-13"  rel="bookmark" >
              <h2 class="card-title">ç«æ˜Ÿä¸Šæ€ä¹ˆç»“ç®—å·¥èµ„</h2>
            </a>
            <p class="card-text"><p>çœ‹åˆ°ä¸ªæ®µå­</p>
<p><img alt="" src="/images/2023/stdout-13-01.jpg" /></p>
<p>çªç„¶è®©æˆ‘æƒ³èµ·ä¸ªäº‹ï¼Œå¦‚æœå»ç«æ˜Ÿæ‰“å·¥ï¼Œè–ªèµ„è¯¥æ€ä¹ˆè®¡ç®—ï¼Ÿæ‘˜å½• wikipedia</p>
<blockquote>
<p>ç«æ˜Ÿçš„æ’æ˜Ÿæ—¶é•¿ <code>24å°æ—¶37åˆ†é’Ÿ22.663ç§’</code>ï¼Œè€Œå¤ªé˜³æ—¥åˆ™é•¿ <code>24å°æ—¶39åˆ†é’Ÿ35.24409</code> ç§’ã€‚è€Œåœ°çƒçš„æ’æ˜Ÿæ—¶å’Œå¤ªé˜³æ—¥åˆ™åˆ†åˆ«æ˜¯ <code>23å°æ—¶56åˆ†é’Ÿ4.0916ç§’</code> åŠ <code>24å°æ—¶</code>ã€‚åœ¨æ¯”è¾ƒä¹‹ä¸‹ï¼Œä¸€ç«æ˜Ÿå¤ªé˜³æ—¥ç­‰äº1.027491åœ°çƒå¤ªé˜³æ—¥ï¼Œå³æ¯”åœ°çƒå¤ªé˜³æ—¥é•¿2.7%ã€‚</p>
</blockquote>
<p>æ€ä¹ˆæœ‰ä¸¤ä¸ªå¤©ï¼Ÿç»§ç»­æœ</p>
<blockquote>
<p>å¤ªé˜³æ—¥ï¼ˆè‹±è¯­ï¼šsolar dayï¼‰æ˜¯ä¾æ®å¤ªé˜³è¿åŠ¨ï¼Œæ‰€å®šä¹‰çš„æ—¶é—´ï¼Œå¯ä»¥åˆ†ä¸ºè§†è§‰å¤ªé˜³æ—¥å’Œå¹³å‡å¤ªé˜³æ—¥ã€‚ä¸€å¤ªé˜³æ—¥ä¼ ç»Ÿç§°ä¸ºä¸€â€œæ—¥â€ã€ä¸€â€œå¤©â€æˆ–ä¸€â€œæ˜¼å¤œâ€ã€‚</p>
</blockquote>
<p><img alt="" src="https://upload.wikimedia.org/wikipedia/commons/thumb/6/67/Sidereal_day_%28prograde%29.png/600px-Sidereal_day_%28prograde%29.png" /></p>
<p>è‹±è¯­é‡ŒæŠŠç«æ˜Ÿçš„ä¸€å¤©å«åšä¸€ä¸ª <code>Sol</code>ã€‚ä¸€ä¸ªç«æ˜Ÿå¹´åœ¨è‹±æ–‡çš„ wikipedia æœ‰è®²</p>
<blockquote>
<p>sidereal year ... is about 686.98 Earth solar days (â‰ˆ 1.88 Earth years), or <code>668.5991</code> sols ã€‚ä¹Ÿå°±æ˜¯è¯´ç«æ˜Ÿä¸€å¹´æœ‰ 668.5991 ç«æ˜Ÿå¤©ã€‚ã€‚ã€‚</p>
</blockquote>
<p>ç«æ˜Ÿå› ä¸ºæœ‰<code>25.19Â°</code>çš„è‡ªè½¬å€¾è§’ï¼Œè·Ÿåœ°çƒç›¸è¿‘ï¼Œæ‰€ä»¥ä¹Ÿå¯ä»¥åˆ’åˆ†å››å­£ã€‚ä½†é—®é¢˜æ˜¯ï¼Œç«æ˜Ÿçš„è½¨é“é•¿è¿™æ ·ï¼š</p>
<p><img alt="" src="https://upload.wikimedia.org/wikipedia/commons/thumb/5/55/Mars_earth_orbit.png/600px-Mars_earth_orbit.png" /></p>
<p>æ‰€ä»¥å¦‚æœæŒ‰ç…§å››ä¸ªå­£èŠ‚åˆ’åˆ†ï¼Œæœ€é•¿çš„å­£èŠ‚æœ‰ <code>194 ä¸ª Martian Sols</code>ï¼Œæœ€çŸ­çš„ <code>142 Martian sols</code></p>
<p>é‚£ä¹ˆé—®é¢˜æ¥äº†ã€‚åœ¨ç«æ˜Ÿä¸Šæ€ä¹ˆç®—å·¥èµ„å‘¢ï¼Ÿæˆ‘è§‰å¾—å¾—å®‰å¤©ç»“äº†ã€‚è¿˜æœ‰ï¼Œå‡å¦‚äº²çˆ±çš„è¯»è€…å°ä¼™ä¼´å°†æ¥åˆ°ç«æ˜ŸåŠ¡å·¥ï¼Œåº”è˜çš„æ—¶å€™ä¸€å®šç¡®è®¤å¥½æ˜¯æŒ‰åœ°çƒå¹´ç»“ç®—è¿˜æ˜¯ç«æ˜Ÿå¹´å“¦ã€‚è°¨é˜²ç«æ˜Ÿå†è¯ˆéª—ï¼</p></p>
            <div class="card-subtext muted-text">
              <p>Posted <time datetime="2023-11-09T15:50:11+08:00">2023-11-09</time></p>
<p>stdout</p>            </div>
          </article>
        </div>


        <!-- new article -->
        <div class="card blog-card">
          <article class="card-body">
            <a href="/2023/stdout-12"  rel="bookmark" >
              <h2 class="card-title">FastAPI/Starlette graceful shutdown server-sent events</h2>
            </a>
            <p class="card-text"><h3>ç¼˜èµ·</h3>
<p>å‡å¦‚ä½ ç”¨ FastAPI/Starletteæ¡†æ¶ï¼Œå†™äº†ä¸€æ®µ <a href="https://developer.mozilla.org/en-US/docs/Web/API/Server-sent_events/Using_server-sent_events">Server-sent Events</a></p>
<pre><code class="language-python">@app.get('/api/my_stream')
async def api_stream():
  async def gen():
    while 1:
      yield &quot;data: {}\n\n&quot;
      await asyncio.sleep(1.0)

  return StreamingResponse(gen, media_type=&quot;text/event-stream&quot;, headers={
    'X-Accel-Buffering': 'no',
    'Cache-Control': &quot;no-cache&quot;,
    'Connection': &quot;keep-alive&quot;,
  })
</code></pre>
<h3>FastAPI äº‹ä»¶</h3>
<p>ç„¶åä½ é‡å¯äº†æœåŠ¡å™¨ï¼Œæ¯”å¦‚ gunicorn+uvicornï¼Œä½ ä¼šå‘ç°è¿™ä¸ªè¿æ¥ä¸ä¼šæ–­å¼€ï¼Œä¸€ç›´è¾“å‡ºç»“æœã€‚ç›´åˆ° worker è¿›ç¨‹è¶…è¿‡é…ç½®é‡Œçš„ <code>timeout</code> å‚æ•°ï¼ˆé»˜è®¤60ç§’ï¼‰ï¼Œè¢« master å¼ºè¡Œæ€æ­»ç„¶åé‡å¯ã€‚</p>
<p>ä¸€å¼€å§‹å°è¯•äº† <a href="https://fastapi.tiangolo.com/advanced/events/#shutdown-event">FastAPI å®˜æ–¹çš„ <code>shutdown</code> äº‹ä»¶</a>ï¼Œå†åœ¨ä»£ç çš„ <code>while 1</code> åŠ ä¸€ä¸ª <code>if</code> åˆ¤æ–­ã€‚å‘ç°ä¸ç®¡ç”¨</p>
<pre><code class="language-python">@app.on_event('shutdown')
def on_server_shutdown():
    app.state.running = False
</code></pre>
<p>å‘ç°è¿™æ®µä»£ç æ‰§è¡Œæ˜¯æ‰§è¡Œäº†ï¼Œä½†æ˜¯æ˜¯åœ¨æ€æ­»workerçš„æ—¶å€™ç”Ÿæ•ˆçš„ã€‚å¾—æ›´åŠ æå‰ã€‚ç”¨<a href="https://asgi.readthedocs.io/en/latest/specs/lifespan.html">ASGIæ¨èçš„<code>lifespan</code></a>å’Œ <a href="https://asgi.readthedocs.io/en/latest/specs/www.html#disconnect-receive-event"><code>http.disconnect</code></a> å¤ªå¤æ‚ï¼Œæ”¾å¼ƒã€‚</p>
<h3>Linux signal</h3>
<p>å°è¯•æš´åŠ›ç›‘å¬ worker signal</p>
<pre><code class="language-python">import signal
signal.signal(signal.SIGINT, on_server_shutdown)  # ctrl+c
signal.signal(signal.SIGUSR2, on_server_shutdown)
signal.signal(signal.SIGTERM, on_server_shutdown)
signal.signal(signal.SIGWINCH, on_server_shutdown)
signal.signal(signal.SIGHUP, on_server_shutdown)
signal.signal(signal.SIGQUIT, on_server_shutdown)
</code></pre>
<p>å‘ç°ä¹Ÿä¸ç®¡ç”¨ã€‚ç ”ç©¶äº†åŠå¤©ï¼Œä¼¼ä¹æ˜¯ <code>UvicornWorker.init_signals</code> çš„æ—¶å€™<a href="https://github.com/encode/uvicorn/issues/894">ç»™<code>signal.SIG_DFL</code>äº†</a>ã€‚æ— è¯­ing</p>
<h3>uvicorn shutdown æµç¨‹</h3>
<p>çœ‹gunicornæ—¥å¿—ï¼š</p>
<pre><code>[2023-11-02 09:50:38 +0800] [25918] [INFO] Shutting down
[2023-11-02 09:50:38 +0800] [25918] [INFO] Waiting for application shutdown.
[2023-11-02 09:50:38 +0800] [25918] [INFO] Waiting for connections to close. (CTRL+C to force quit)
....
[2023-11-02 09:51:18 +0800] [25918] [INFO] Application shutdown complete.
[2023-11-02 09:51:18 +0800] [25918] [INFO] Finished server process [25918]
[2023-11-02 09:51:18 +0800] [25918] [INFO] Worker exiting (pid: 25918)
</code></pre>
<p>è§‚å¯Ÿåˆ° Waiting for connections to close ä¹‹åå¡ä½ã€‚</p>
<p>å±äº uvicorn çš„ <a href="](https://github.com/encode/uvicorn/blob/07c2b36455b5475ff7edfa54068ff2c0581a2be1/uvicorn/server.py#L303)"><code>Server.shutdown()</code></a> æ–¹æ³•</p>
<p>è¿™ä¸ªæ–¹æ³•è°ƒç”¨é“¾ï¼š</p>
<ol>
<li><code>Server.install_signal_handlers</code> é‡Œæ³¨å†Œ signal </li>
<li><code>Server.handle_exit</code> é‡Œè®¾ç½® <code>Server.should_exit = True</code></li>
<li>æ¯ç§’ä¸€æ¬¡çš„ <code>Server.on_tick</code> å°±ä¼šæ‰“æ–­ <code>Server.main_loop()</code> æ­»å¾ªç¯</li>
<li>è°ƒç”¨ <code>Server.shutdown</code></li>
</ol>
<p>å¦‚æœèƒ½æ‹¿åˆ° <code>Server.should_exit</code> è‡ªè¡Œåˆ¤æ–­å°±å¥½äº†ï¼Œä½†æ˜¯ ASGI æ˜¯å®¹å™¨æ— æ„Ÿçš„ï¼Œåªç»§ç»­ç ”ç©¶</p>
<h3>æ–­å¼€httpè¿æ¥</h3>
<p>ä¸Šé¢æ—¥å¿—æœ‰ä¸€ä¸ªæ¯”è¾ƒå…³é”®ï¼š</p>
<pre><code class="language-python"># Request shutdown on all existing connections.
for connection in list(self.server_state.connections):
    connection.shutdown()
    await asyncio.sleep(0.1)
</code></pre>
<p>å…¶httpè¿æ¥å…³é—­æ–¹æ³•å®ç°ä¸ºï¼š</p>
<pre><code class="language-python">def shutdown(self):
    &quot;&quot;&quot;
    Called by the server to commence a graceful shutdown.
    &quot;&quot;&quot;
    if self.cycle is None or self.cycle.response_complete:
        self.transport.close()
    else:
        self.cycle.keep_alive = False
</code></pre>
<p>è¿™é‡Œåº”è¯¥èµ°çš„æ˜¯ <code>else</code> åˆ†æ”¯ã€‚æ‰€ä»¥è§£å†³æ–¹æ³•å°±æ˜¯å»ä»£ç é‡Œæ‹¿åˆ° <code>cycle.keep_alive</code> è¿™ä¸ªå±æ€§ã€‚</p>
<h3>ASGI æ¥å£</h3>
<p>è·Ÿäº†ä¸€ä¼šå„¿ï¼Œå‘ç°ASGI åœ¨  starlette é‡Œå¦‚ä¸‹æµç¨‹ï¼š</p>
<ol>
<li><code>Route()</code> åˆå§‹åŒ– <code>self.app = request_response(endpoint)</code></li>
<li><code>Route().handle()</code> çš„æ—¶å€™ä¼šè°ƒç”¨ <code>self.app(scope, receive, send)</code></li>
<li><code>unicorn</code> çš„ <code>run_asgi</code> ä¼š <code>result = await app(self.scope, self.receive, self.send)</code> ã€‚å…¶ä¸­ <code>app</code> å°±æ˜¯ starlette çš„ <code>Route()</code> å®ä¾‹</li>
</ol>
<p>æ‰€ä»¥è§£å†³æ–¹æ¡ˆé€æ¸æ˜æœ—äº†</p>
<h3>é»æ˜çš„å‰å¤œ</h3>
<p>é€šè¿‡ FastAPI/Starlette è¯·æ±‚çš„ <code>.receive</code> å±æ€§çš„ <code>__self__</code> æ‹¿åˆ° unicorn çš„ <code>cycle</code> å®ä¾‹ï¼Œç„¶åå®šæ—¶åˆ¤æ–­ä¸Šé¢ <code>shutdown</code> èµ‹å€¼çš„ <code>self.cycle.keep_alive = False</code></p>
<pre><code class="language-python">@app.get('/api/my_stream')
async def api_stream(req: Request):
  async def gen():
    while 1:
      yield &quot;data: {}\n\n&quot;
      await asyncio.sleep(1.0)
      if getattr(req.receive.__self__, 'keep_alive', None) is False:
        break

  return StreamingResponse(...
</code></pre>
<p>è¿™é‡Œç”¨äº†ä¸ª <code>getattr()</code> æ˜¯ä¿è¯è¿™ä¸ª hack åœ¨é unicorn ä¸‹ä»£ç ä¹Ÿèƒ½æ­£å¸¸è·‘</p>
<p><code>git commit . -m "haha"</code> ä¸Šæœºè”è°ƒï¼Œå‘ç°å‘äº†ã€‚ã€‚ã€‚æˆ‘ç‰¹ä¹ˆã€‚ã€‚ã€‚ã€‚è¿™ä¸ª <code>cycle.keep_alive</code> é»˜è®¤å°±æ˜¯ <code>False</code></p>
<h3>æ‰­è½¬ keep_alive</h3>
<p>è¿™ç©æ„ä¸€ç›´ä¸º <code>False</code> çš„åŸå› æ˜¯ï¼Œunicorn çš„ <code>HttpToolsProtocol.on_headers_complete</code> èµ‹å€¼è¿‡ç¨‹ï¼š</p>
<p><code>self.cycle = RequestResponseCycle(..., keep_alive=http_version != "1.0")</code></p>
<p>è¿™é‡Œ <code>http_version</code> å¯ä»¥é€šè¿‡  <code>req.scope['http_version']</code> å¾—åˆ°ï¼Œæ‰“å°äº†ä¸€ä¸‹ï¼Œä½ çŒœæ€ä¹ˆç€ï¼Œè¿˜çœŸtmæ˜¯ã€‚ã€‚ã€‚åŸå› å°±æ˜¯å‚é‡Œåä»£ <a href="http://nginx.org/en/docs/http/ngx_http_proxy_module.html#proxy_http_version">nginxçš„proxy_http_version</a>æ²¡é…ç½®ã€‚è¿™é‡Œæ˜¯ä¸ªå¸¸è§çš„å‘ï¼Œéå¸¸å½±å“æ€§èƒ½ï¼Œå› ä¸ºæ¯ä¸ªè¯·æ±‚ä¼šç”Ÿæˆä¸€ä¸ªæ–°çš„ http è¿æ¥ã€‚</p>
<p>ä½†æ˜¯ä¹Ÿç­‰ä¸æ€¥SAå»æ”¹é…ç½®äº†ã€‚äºæ˜¯ç›´æ¥åœ¨ä»£ç  <code>async def gen():</code> å‰é¢å†™æ­»ï¼š</p>
<p><code>req.receive.__self__.keep_alive = True</code> ã€‚æäº¤ï¼Œå†è¯•ã€‚ã€‚ã€‚å’¦ï¼Œæ€ä¹ˆ <code>keep_alive</code> ä¾ç„¶ä¸º <code>False</code>ï¼Ÿï¼Ÿï¼Ÿï¼Ÿæ˜æ˜åˆšåˆšèµ‹å€¼äº†ï¼Ÿ</p>
<p>ç»§ç»­è¯»ä»£ç ï¼Œå‘ç°ç¬¬äºŒä¸ªå‘ï¼Œå‘ç° unicorn çš„ <code>RequestResponseCycle.send()</code> æ–¹æ³•é‡Œï¼Œåœ¨æ„é€ è¿”å›çš„æ—¶å€™ï¼Œæœ‰ä¸€å¥</p>
<pre><code class="language-python">for name, value in headers:
    elif name == b&quot;connection&quot; and value.lower() == b&quot;close&quot;:
        self.keep_alive = False
</code></pre>
<p>å¥½å§ã€‚ã€‚ã€‚é‚£ä¹ˆè§£å†³æ–¹æ³•å°±æ˜¯ï¼ŒæŠŠ <code>keep_alive = True</code> æŒªåˆ°è¿”å›å†…éƒ¨ã€‚å…ˆå®Œæˆè¿”å›æ„é€ ï¼Œå†å¼ºè¡Œæ”¹å€¼ã€‚</p>
<h4>æœ€åçš„ä»£ç </h4>
<pre><code class="language-python">@app.get('/api/my_stream')
async def api_stream(req: Request):
  # req.receive.__self__.keep_alive = True  # doesn't work here
  async def gen():
    req.receive.__self__.keep_alive = True  # works here
    while 1:
      yield &quot;data: {}\n\n&quot;
      await asyncio.sleep(1.0)
      if req.receive.__self__.keep_alive is False:
        break

  return StreamingResponse(gen, media_type=&quot;text/event-stream&quot;, headers={
    'X-Accel-Buffering': 'no',
    'Cache-Control': &quot;no-cache&quot;,
    'Connection': &quot;keep-alive&quot;,
  })
</code></pre>
<p>æµ‹è¯•é‡å¯ workerï¼Œè¯¥è¿æ¥åœ¨1ç§’åæ–­å¼€ï¼Œworkerå¹³ç¨³é‡å¯ã€‚å®Œç¾ã€‚</p>
<p>è‹¦é€¼æ’¸ä¸šåŠ¡çš„ä¸€å¤©åˆå¼€å§‹äº†ã€‚</p></p>
            <div class="card-subtext muted-text">
              <p>Posted <time datetime="2023-11-02T09:44:12+08:00">2023-11-02</time></p>
<p>stdout</p>            </div>
          </article>
        </div>


        <!-- new article -->
        <div class="card blog-card">
          <article class="card-body">
            <a href="/2023/stdout-11"  rel="bookmark" >
              <h2 class="card-title">æµè§ˆå™¨æ‹‰èµ·é’‰é’‰å®¢æˆ·ç«¯å¹¶è·³è½¬OAå·¥å•</h2>
            </a>
            <p class="card-text"><p>åˆæ˜¯ corporate software engineering åƒå±çš„ä¸€å¤©ã€‚ç”¨æˆ·åœ¨å†…éƒ¨ç³»ç»Ÿèµ°æµç¨‹ï¼Œå‚é‡Œç”¨çš„æ˜¯é’‰é’‰è‡ªå¸¦çš„OAå·¥å•å®¡æ‰¹ã€‚å·²ç»æ¥å…¥äº†APIåˆ›å»ºã€å®Œæˆå·¥å•</p>
<p>é—®é¢˜åœ¨äºå‘èµ·å·¥å•ä¹‹åï¼Œç”¨æˆ·å¹¶æ²¡æœ‰æ„ŸçŸ¥ï¼Œä¸çŸ¥é“å·¥å•å»å“ªé‡Œäº†ï¼Œæµç¨‹å°±æ–­äº†ï¼Œå‘é’‰é’‰å®˜æ–¹å”®åå‘èµ·å’¨è¯¢ï¼Œå¯¹æ–¹ä¸¢äº†ä¸€å¥ï¼šä¸æ”¯æŒã€‚æ— è¯­</p>
<p>åªèƒ½è‡ªå·±é¼“æ£ã€‚å·²çŸ¥å·¥å•é“¾æ¥ï¼Œåœ¨é’‰é’‰èŠå¤©çª—å£å†…éƒ¨çš„æœ€çŸ­çš„ç½‘å€ä¸ºï¼š</p>
<pre><code>  https://aflow.dingtalk.com/dingtalk/mobile/homepage.htm?corpid=...&amp;procInstId=...#approval
</code></pre>
<p>å¯¹æ–¹ä¸¢äº†ä¸€ä¸ª <a href="https://open.dingtalk.com/document/isvapp/webapp-unified-routing-protocol#title-kkq-kgx-lbq">dingtalk:// è·³è½¬åè®®</a></p>
<p>åå¤å°è¯•ï¼Œå‘ç°ä¸€ä¸ªå¾ˆæœ‰ç”¨ï¼š</p>
<blockquote>
<p>æ¡Œé¢ç«¯æ‰“å¼€URL <br />
<code>dingtalk://dingtalkclient/page/link</code> <br />
ä¾§è¾¹æ ï¼š <code>pc_slide=true</code> <br />
å¤§å®¹å™¨ï¼ˆç±»ä¼¼å·¥ä½œå°å®¹å™¨ï¼‰<code>ddtab=true</code>   </p>
</blockquote>
<p>äºæ˜¯æ„é€ ä¸€ä¸ªè¯•è¯•ï¼š</p>
<pre><code>  dingtalk://dingtalkclient/page/link?url=https%3A%2F%2Faflow.dingtalk.com%2Fdingtalk%2Fpc%2Fquery%2Fpchomepage.htm%3Fcorpid%3D...%26procInstId%3D...%23%2Fapproval
</code></pre>
<p>ç„¶åæœç„¶okäº†ã€‚</p>
<p>é’‰é’‰ç»™äººçš„æ„Ÿè§‰å°±æ˜¯å„ä¸ªéƒ¨é—¨ hack å¼ºè¡Œæ‰åˆèµ·æ¥ä¸€ä¸ªæ€ªç‰©ã€‚å„ç§ä¸å®Œå–„ã€ä¸ä¸€è‡´çš„é—®é¢˜ã€‚æœ‰ç©ºå†™ä¸€ä¸‹åæ§½ã€‚</p></p>
            <div class="card-subtext muted-text">
              <p>Posted <time datetime="2023-10-18T14:57:00+08:00">2023-10-18</time></p>
<p>stdout</p>            </div>
          </article>
        </div>


        <!-- new article -->
        <div class="card blog-card">
          <article class="card-body">
            <a href="/2023/stdout-10"  rel="bookmark" >
              <h2 class="card-title">SVGæ”¾åœ¨ img ä¸­ä¸èƒ½åŠ è½½å›¾ç‰‡/å­—ä½“</h2>
            </a>
            <p class="card-text"><p>æœ€è¿‘æƒ³åœ¨ markdown é‡Œæå›¾æ–‡æ··æ’ï¼Œé‡åˆ°ä¸€ä¸ªå¤§å›¾æŠŠç‰ˆé¢å å®Œäº†ï¼Œæƒ³ç¼©å°ä¸€äº›ï¼Œç”±äº .md æ¸²æŸ“å™¨å®‰å…¨é™åˆ¶ï¼Œæ²¡æ³•ç›´æ¥æŒ‡å®šå®½é«˜</p>
<p>åªèƒ½ä»å›¾ç‰‡æœ¬èº«æƒ³åŠæ³•ï¼Œé¦–å…ˆæœ€ç›´æ¥çš„æ‰‹æ®µå°±æ˜¯æœåŠ¡å™¨å†ç¼©æ”¾ä¸€æ¬¡ï¼Œä½†æ˜¯è›‹ç—›çš„é—®é¢˜æ˜¯ç¼©æ”¾ä¹‹åæ–‡ä»¶æ€ä¹ˆå­˜ï¼Œæ€ä¹ˆç»™é™æ€æ–‡ä»¶è·¯ç”±ï¼Œæ€ä¹ˆä¿éšœå›¾ç‰‡å¯ç”¨æ€§ï¼Œæ€ä¹ˆå…¼å®¹å„ç§å°ºå¯¸ï¼Œæƒ³æƒ³éƒ½å¤´å¤§ã€‚</p>
<p>æƒ³åˆ°ä¸€ä¸ª hackï¼Œè¦ä¸ç›´æ¥æ”¾ä¸€ä¸ª .svg è¿›å»ï¼Œå› ä¸º svg æ”¯æŒåŠ è½½ä½å›¾èµ„æºï¼Œæ‰€ä»¥æŠŠ svg ä½å›¾ç¼©å°ä¸€ç‚¹ï¼Œè®©æµè§ˆå™¨æ¸²æŸ“ svg ä¸å°±è¡Œäº†ã€‚</p>
<p>æ²¡æƒ³åˆ°å°±è¢«è¿™ä¸ª hack å‘äº†ã€‚åŸå› æ˜¯ svg å¦‚æœè¢« <code>&lt;img&gt;</code> æ ‡ç­¾æ¸²æŸ“ï¼Œé‚£ä¹ˆç¦æ­¢åŠ è½½ä»»ä½•å¤–éƒ¨èµ„æºï¼Œè„šæœ¬ä¹Ÿç¦æ­¢æ‰§è¡Œã€‚</p>
<p>ä¸ºäº†è¯æ˜è¿™ä¸ªé™åˆ¶ï¼Œæˆ‘å†™äº†ä¸ª demo æ”¾åœ¨ <a href="https://lab.est.im/shit_svg/">https://lab.est.im/shit_svg/</a></p>
<p>è¿™ä¸ªé—®é¢˜å¤ªéšè”½äº†ã€‚stackoverflow ä¸Šåªæœ‰ <a href="https://stackoverflow.com/a/30467585/41948">Robert Longson</a>ã€<a href="https://stackoverflow.com/a/69160093/41948">ThangLeQuoc</a>ã€<a href="https://stackoverflow.com/a/18244035/41948#18244035">TheHippo<br />
</a> çš„ç­”æ¡ˆæåˆ°éšçº¦çº¿ç´¢ï¼š</p>
<p>åæ¥æœäº†åˆ° <a href="https://supercodepower.com/en/svg-img-use-font">skychx</a> æŠŠè¿™ä¸ªé—®é¢˜ç ”ç©¶é€äº†ã€‚ç½ªé­ç¥¸é¦– <a href="https://www.w3.org/wiki/SVG_Security">SVG Security</a></p>
<blockquote>
<p>If an SVG file is fetched as image, then certain requirements apply to this document:   </p>
<ul>
<li>The SVG document is not allowed to fetch any resources. This also applies to scripts, stylesheets or images.   </li>
<li>Fonts shouldn't be loaded as well. The situation in UAs seems to still be unclear though.<br />
Scripts must not be executed.   </li>
<li>Event listeners must be disabled at all times.   </li>
</ul>
</blockquote>
<p>æµªè´¹æˆ‘å¥½å¤šæ—¶é—´ã€‚SVG2é‡ŒæŠŠè¿™ä¸ªè¯´å¾—å¾ˆæ˜ç™½äº† <a href="https://www.w3.org/TR/SVG2/conform.html#processing-modes">https://www.w3.org/TR/SVG2/conform.html#processing-modes</a></p>
<blockquote>
<p>When external references are disabled in an SVG document, any attempt to fetch a document through an external reference must instead be treated as if a network error occurred and no data was received.</p>
</blockquote>
<p>ä¸è¿‡æŸ¥é˜…èµ„æ–™çš„æ—¶å€™å‘ç°ä¸ªå¥½ç©çš„ï¼Œ<a href="https://www.w3.org/TR/SVG11/single-page.html#linking-LinksIntoSVG">SVG 1.1 æ”¯æŒ URL fragments</a></p>
<p>æ¯”å¦‚ï¼š</p>
<ul>
<li>åŸå›¾ <a href="https://lab.est.im/shit_svg/1.svg">https://lab.est.im/shit_svg/1.svg</a> <embed src="https://lab.est.im/shit_svg/1.svg"></li>
<li>æ”¾å¤§ <a href="https://lab.est.im/shit_svg/1.svg#svgView(viewBox(20,20,60,60))">https://lab.est.im/shit_svg/1.svg#svgView(viewBox(20,20,60,60))</a> <embed src="https://lab.est.im/shit_svg/1.svg#svgView(viewBox(20,20,60,60))"></li>
</ul></p>
            <div class="card-subtext muted-text">
              <p>Posted <time datetime="2023-10-17T22:13:18+08:00">2023-10-17</time></p>
<p>stdout</p>            </div>
          </article>
        </div>

    </main>
    <nav class="pagination-nav side-padding">
<a href="/category/stdout.02.html" class="pagination-older">Older Posts &gt;</a>    </nav>


  </body>
</html>