<!DOCTYPE html>
<html>
  <head>
    <title>est ã® è¾“å…¥ è¾“å‡ºå’Œå‡ºå…¥</title>

    <meta charset="utf-8" />
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <link href="https://feeds.feedburner.com/initiative" type="application/rss+xml" rel="alternate" title="est ã® è¾“å…¥ è¾“å‡ºå’Œå‡ºå…¥ RSS Feed" />

    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="This blog is rated ğŸ”, viewer discretion is advised" />

    <meta property="og:url" content="https://blog.est.im">
    <meta property="og:type" content="website">
    <meta property="og:title" content="est ã® è¾“å…¥ è¾“å‡ºå’Œå‡ºå…¥">
    <meta property="og:description" content="This blog is rated ğŸ”, viewer discretion is advised">

    <link rel="stylesheet" href="/theme/css/normalize.min.css" />
    <link rel="stylesheet" href="/theme/css/style.css" />


    <style>
      body {
        background: #ecedef url("/theme/img/ignasi_pattern_s.png") repeat;
      }
    </style>
  </head>
  <body class="list-body">
<nav class="nav-bar side-padding">
  <h1 class="nav-header"><a href="/" class="nav-text">
    est ã® è¾“å…¥ è¾“å‡ºå’Œå‡ºå…¥
  </a></h1>
  <div class="hamburger-menu">
    <button>
      <span></span>
      <span></span>
    </button>
    <ul id="menu" class="hamburger-menu-overlay">
      <li><a href="/" class="hamburger-menu-overlay-link">Home</a></li>
      <li><a href="https://feeds.feedburner.com/initiative" class="hamburger-menu-overlay-link">RSS</a></li>
      <li><a href="/about" class="hamburger-menu-overlay-link">About</a></li>

      <li><a href="/category/archive" class="hamburger-menu-overlay-link">archive</a></li>
      <li><a href="/category/stderr" class="hamburger-menu-overlay-link">stderr</a></li>
      <li><a href="/category/stdin" class="hamburger-menu-overlay-link">stdin</a></li>
      <li><a href="/category/stdout" class="hamburger-menu-overlay-link">stdout</a></li>

    </ul>
  </div>
</nav>    <main class="card-container side-gutter">
      <header class="list-header">
        <p class="list-header-subtext">This blog is rated ğŸ”, viewer discretion is advised</p>
        <!-- <h1 class="list-header-title">est ã® è¾“å…¥ è¾“å‡ºå’Œå‡ºå…¥</h1> -->
      </header>


        <!-- new article -->
        <div class="card blog-card">
          <article class="card-body">
            <a href="/2022/stdout-01"  rel="bookmark" >
              <h2 class="card-title">python-phoenixdb è®¾ç½®è¯»å–è¶…æ—¶</h2>
            </a>
            <p class="card-text"><p>PhoenixDB å±…ç„¶æ˜¯åŸºäº requests + pb2 åšçš„ä¼ è¾“å±‚åè®®ã€‚è¿æ¥çš„æ˜¯ queryserver çš„ http æ¥å£</p>
<p>çœ‹ <a href="https://git-wip-us.apache.org/repos/asf?p=phoenix-queryserver.git;a=blob;f=python-phoenixdb/phoenixdb/avatica/client.py">avatica/client.py æºç </a> å¯ä»¥å¾—çŸ¥è¿™ç©æ„é»˜è®¤æ˜¯ä¸æ”¯æŒè®¾ç½®read timeoutçš„ã€‚å¼ºè¡Œhackä¸€ä¸ªï¼š</p>
<pre><code>import phoenixdb
import functools
c = phoenixdb.connect('http://localhost:8765/', autocommit=True, auth=&quot;SPNEGO&quot;)
c._client.session.request = functools.partial(c._client.session.request, timeout=2)
</code></pre>
<p><code>partial</code> è¿™ä¸ªç¥å¥‡çš„é­”æ³•å¯ä»¥è®¾ç½®ä¸€ä¸ªé»˜è®¤å‚æ•°ã€‚å…¶å®ƒåœ°æ–¹ä¼ å…¥äº†åˆ«çš„timeoutä¹Ÿå¯ä»¥è‡ªè¡Œè¦†ç›–ï¼Œæ— ç¼å…¼å®¹ã€‚</p></p>
            <div class="card-subtext muted-text">
              <p>Posted <time datetime="2022-01-11T12:00:56+08:00">2022-01-11</time></p>
<p>stdout</p>            </div>
          </article>
        </div>


        <!-- new article -->
        <div class="card blog-card">
          <article class="card-body">
            <a href="/2022/stderr-01"  rel="bookmark" >
              <h2 class="card-title">ä¿¡æ¯æ—¶ä»£ çš„ å¨ƒ</h2>
            </a>
            <p class="card-text"><p>å®¶é‡Œçš„å¨ƒé€æ¸é•¿å¤§ï¼ŒTAåœ¨è½¦ä¸Šå–œæ¬¢å¬çš„æ­Œæ›²å°±ç¿»æ¥è¦†å»å¥¥ç‰¹æ›¼çš„ OP å’Œ EDã€‚ç„¶åæƒ³å¼•å¯¼TA ä»¬å¬ç‚¹åˆ«çš„ï¼ŒQQéŸ³ä¹åˆæ²¡æœ‰ä¹°ä¼šå‘˜ï¼Œä¸€äº›å¥½çš„å¤§éƒ¨å¤´ä½œå“ï¼Œèƒ½æœå‡ºæ¥çš„å°±æ˜¯å„ç§ç¿»å”±æˆ–è€…è‡ªåª’ä½“çš„åŒæ ‡é¢˜è¹­æµé‡çš„åƒåœ¾ä½œå“ï¼Œå¾ˆæ— å¥ˆã€‚</p>
<p>æƒ³èµ·æ¥è‡ªå·±å°æ—¶å€™è™½ç„¶å®¶åº­æ¡ä»¶ä¸€èˆ¬ï¼Œä½†æ˜¯ä¹Ÿæ˜¯ä¹°äº†æ”¶å½•æœºå’Œä¸€äº›ç»å…¸ç£å¸¦ï¼Œèƒ½å¤ŸæŠŠè‡ªå·±å–œæ¬¢çš„æ­Œæ›²åå¤å¬ä¸ªå¤Ÿã€‚åå¤å¬æ­Œæœ‰ä¸ªå¥½å¤„ï¼Œé‚£å°±æ˜¯ä¸“æ³¨åŠ›çš„è®­ç»ƒï¼Œå’Œé‡å¤å¸¦æ¥çš„é«˜å‡†ç¡®åº¦è®°å¿†ã€‚ç°åœ¨çš„å¨ƒå¬æ­Œï¼Œç”±äºç‚¹æ’­å¤ªæ–¹ä¾¿ï¼Œç»å¸¸å¬ä¸€åŠå°±åˆ‡æ­Œï¼Œç„¶åä¸Šä¸€æ¬¡ç‚¹çš„ä¸ä¸€å®šèƒ½recallç‚¹å‡ºæ¥ã€‚è¿˜æœ‰ç‰ˆæƒçš„åŸå› ï¼Œå‰ä¸€é˜µåŠ æ˜Ÿçš„æ­Œå¯èƒ½è¿‡ä¸€é˜µå°±å¬ä¸äº†äº†ã€‚è¿™æ ·çš„ç¯å¢ƒï¼Œåªèƒ½åŸ¹å…»å‡ºå¾ˆç³Ÿç³•çš„å¬ä¼—å’Œå¾ˆä½çš„æ¬£èµæ°´å¹³å§ã€‚</p>
<p>ä¹Ÿæ°å¥½ä»<a href="https://www.bilibili.com/video/BV1Gx411J7Qe">ã€ç®­å‚è§†é¢‘ã€‘æ¶ˆå¤±äº†20å¹´åï¼Œä¸­å›½é»‘èƒ¶å”±ç‰‡å·¥å‚å¤æ´»</a> çœ‹åˆ°ä¸€ä¸ªè¯„è®ºï¼Œå¾ˆæ˜¯æœ‰æ„Ÿè§¦</p>
<blockquote>
<p>ikyokyo 2017-08-18 13:27<br />
ä½œä¸ºä¸€ä¸ªé»‘èƒ¶æ—¶ä»£è¿‡æ¥ï¼Œå¹¶ä¸”å®¶é‡Œæ›¾ç»æœ‰è¿‡é»‘èƒ¶å”±ç‰‡æœºçš„äººï¼Œæˆ‘æƒ³åˆ†äº«ä¸€äº›å½“å¹´çš„æ—é—¨å·¦é“å’Œç©é»‘èƒ¶å¥‡æŠ€yinå·§ï¼Œè¿™äº›äº‹ä¸æ˜¯æ¯ä¸ªå¬é»‘èƒ¶çš„äººéƒ½çŸ¥é“ï¼Œæœ‰äº›äººçŸ¥é“ä¹Ÿä¸ä¼šè¯´ã€‚<br />
1.é»‘èƒ¶å”±ç‰‡æœºåˆ°åæœŸï¼Œå·²ç»ååˆ†è‡ªåŠ¨åŒ–äº†ï¼ŒæŒ‰ä¸‹æ’­æ”¾é”®ä»¥åï¼Œå”±é’ˆä¼šè‡ªåŠ¨æŒªåˆ°å”±ç‰‡å¼€å§‹çš„ä½ç½®ï¼Œç„¶åç¼“ç¼“ä¸‹é™ï¼ŒæŒ‰ä¸‹åœæ­¢é”®æˆ–è€…æ”¾å®Œä»¥åä¹Ÿä¼šè‡ªåŠ¨åœæ­¢å¹¶å½’ä½ï¼Œä¸€åˆ‡éƒ½æ˜¯ç”±æœºæ¢°å®ç°çš„ã€‚<br />
2.æ¢æ­Œéœ€è¦æ‰‹åŠ¨æŠŠå”±é’ˆæŠ¬èµ·æ¥ï¼Œç„¶åæŠŠæ‘‡æ†æ°åˆ°å¯¹åº”ä½ç½®ï¼Œå› ä¸ºå”±ç‰‡ä¸åƒCDé‚£æ ·æœ‰ä¸“é—¨çš„åŒºåŸŸå­˜å‚¨æ—¶é—´ç ï¼Œè‡³äºæ€ä¹ˆåˆ¤æ–­ä¸€é¦–æ­Œåœ¨ä»€ä¹ˆä½ç½®ï¼Œç”¨è‚‰çœ¼çœ‹å°±è¡Œäº†ï¼Œå”±ç‰‡çš„è®°å½•å¯†åº¦å¾ˆä½ä¸”éƒ½æ˜¯æ˜æ–‡ï¼Œä¸¤é¦–æ­Œä¸­é—´çš„ç©ºç™½éƒ¨åˆ†ç”±äºæ²¡æœ‰å£°éŸ³ï¼Œä¼šæœ‰ä¸€æ¡æ·±è‰²çš„å°è®°ã€‚<br />
3.åŒæ ·åœ°ï¼Œä½ å¯ä»¥ç”¨è‚‰çœ¼çœ‹å‡ºéŸ³ä¹å“ªäº›åœ°æ–¹æ˜¯é«˜æ½®ï¼Œå“ªäº›åœ°æ–¹æ˜¯ä½è°·ï¼Œé«˜æ½®éƒ¨åˆ†å› ä¸ºéŸ³é‡è¾ƒå¤§ï¼Œä¹å™¨è¾ƒå¤šï¼Œæ‰€ä»¥èŠ±çº¹åˆ»å¾—è¾ƒæ·±ï¼Œå®‰é™çš„éƒ¨åˆ†åä¹‹ã€‚ç”šè‡³å¯ä»¥é€šè¿‡æ•´ä¸ªå”±ç‰‡çš„èŠ±çº¹åˆ¤æ–­æ˜¯æ‘‡æ»šä¹è¿˜æ˜¯å¤å…¸ä¹ã€‚<br />
4.å³ä½¿ä¸æ’ç”µä½ ä¹Ÿä¸€æ ·å¯ä»¥å¬å”±ç‰‡ï¼Œæ—©å¹´çš„å”±ç‰‡æœºå°±æ˜¯è¿™æ ·å·¥ä½œçš„ï¼Œè€Œä¸”æœ‰æ„æ€çš„æ˜¯ï¼Œå¦‚æœä½ ä¸æ¥å–‡å­åªå¼€å”±ç‰‡æœºï¼Œè€³æœµå‡‘è¿‘å”±é’ˆé‚£é‡Œä¾ç„¶å¯ä»¥å¬åˆ°ååˆ†å¾®å°çš„å£°éŸ³ã€‚<br />
5.ä½ å¯ä»¥åœ¨å”±ç‰‡æœºå‡ºäºå¾…æœºçŠ¶æ€æ—¶ï¼Œè‡ªå·±æŠŠå”±é’ˆæ°åˆ°å”±ç‰‡ä¸Šï¼Œç„¶åç”¨æ‰‹å»è½¬å”±ç‰‡ï¼Œä½ å°†å¬åˆ°ååˆ†ä¸å‡åŒ€çš„è·‘è°ƒå£°éŸ³ï¼Œä½ è¿˜å¯ä»¥æŠŠå”±ç‰‡å€’è½¬ï¼Œå°±èƒ½å¬è§å€’æ”¾ã€‚è¿˜æœ‰ä¸€ç§å˜æ€ç©æ³•ï¼Œå°±æ˜¯æŠŠå”±ç‰‡æ•…æ„æ­ªç€æ”¾ï¼Œ è¿™æ ·å”±ç‰‡å’Œå”±é’ˆä¼šæ¥å›æ‘‡æ‘†ï¼Œé€Ÿåº¦ä¹Ÿä¼šå¿½é«˜å¿½ä½ï¼Œä¸€äº›è€ç”µå½±é‡Œå¯ä»¥çœ‹è§å†›æ–¹æˆ–è€…åè›‹ç”¨è¿™ç§æ–¹æ³•æŠ˜ç£¨äººã€‚<br />
6.å”±ç‰‡æ°¸è¿œä¸ä¼šå‡ºç°CDé‚£ç§åˆºè€³çš„ç£•ç»Šï¼Œä½†å”±ç‰‡ä¸€æ ·ä¼šå¡ç¢Ÿï¼Œå¦‚æœé‡ä¸Šå”±ç‰‡è®¾è®¡ä¸ä½³ï¼Œæˆ–è€…å”±æœºæ•…éšœç­‰åŸå› ï¼Œå”±é’ˆåœ¨æ”¾å®Œä¸€åœˆååˆè·ƒè¿å›å»äº†ï¼Œå”±æœºå°±ä¼šåœ¨ä¸€å°æ®µæ—‹å¾‹é—´åå¤å¾ªç¯ï¼Œä¸­é—´ä¼šæœ‰â€œå˜­â€çš„ä¸€å£°ã€‚<br />
7.ç›—ç‰ˆå”±ç‰‡å¾ˆéš¾è¾¾åˆ°æ­£ç‰ˆéŸ³è´¨ï¼Œå› ä¸ºç›—ç‰ˆå•†é™¤éè·Ÿå”±ç‰‡å‚å‹¾ç»“ï¼Œå¦åˆ™æ‹¿ä¸åˆ°æ¯ç‰ˆï¼Œæ‰€ä»¥è¯´æ•°å­—éŸ³ä¹æ—¶ä»£çš„åˆ°æ¥ä¸€å®šç¨‹åº¦ä¸Šæ˜¯åŠ©é•¿äº†ç›—ç‰ˆã€‚</p>
</blockquote>
<p>ç°åœ¨æƒ³èµ·æ¥ï¼Œç£å¸¦/å”±ç‰‡/CDè¿™ä¸ªä¸œè¥¿æ˜¯æœ‰ã€Œçµæ°”ã€çš„ï¼Œæ˜¯ä¸€ä¸ªå¾ˆå¥½çš„äº¤äº’ä½“éªŒï¼š</p>
<ul>
<li>å…·ä½“çš„æ­Œé›†å’Œç£å¸¦çš„å®ç‰©æ˜¯ä¸€ä¸€å¯¹åº”çš„ï¼Œä½ åœ¨æ•°ç æ—¶ä»£ï¼Œä½ æ— æ³•å›å¿†èµ·é‚£ä¸ªä¸‹é›¨å¤©æŠŠç£å¸¦æ’å…¥æ”¶å½•æœºçš„å¿ƒæƒ…ã€‚</li>
<li>æ•°ç æ—¶ä»£æ²¡æ³•æ ¹æ®å°é¢æ£€ç´¢ã€‚å­©å­ä»¬ç¼ºä¹éŸ³ä¹å¯¹ visual è‰ºæœ¯ä¸Šçš„å…³è”ã€‚</li>
<li>ä½ è¿˜å¯ä»¥è‡ªç”±å¯¹æ­Œæ›²è¿›è¡Œç¿»å½•ã€å¯¹ instrumental/é…ä¹ç‰ˆ è¿›è¡Œè‡ªæˆ‘é™¶é†‰çš„äºŒåˆ›</li>
<li>è®¢é˜…åˆ¶çš„streaming serviceï¼Œè¿™å¯¹æˆ‘ä»¬è¿™ä¸€ä»£ä¹ æƒ¯äº† ownership çš„äººæ¥è¯´å¾ˆä¸å®‰ã€‚ä½ è´­ä¹°äº†ï¼Œä¸ä¸€å®šä½ ä»¥åèƒ½éšæ—¶æ’­æ”¾ï¼Œä½ ä¼šå‘˜å¤±æ•ˆäº†æˆ–è€…è´¦å·è¢«å¤¹ï¼Œä½ å°±ä¸èƒ½å¬ä½ ã€Œä¹°ã€è¿‡çš„æ­Œäº†ã€‚</li>
<li>æœ€é‡è¦çš„ï¼Œå­©å­ä»¬å¯¹æ­Œè¯æ˜¯æ²¡æœ‰ã€Œå­—é¢æ„ä¹‰ã€çš„ç†è§£ï¼Œä»–ä»¬æ°¸è¿œæƒ³ä¸åˆ°æˆ‘ä»¬å°æ—¶å€™ä¼šä¸ºäº†ä¸€é¦–å–œçˆ±çš„æ­Œï¼Œåœ¨è¯¾å ‚ä¸Šå·å·æ‰‹æŠ„æ­Œè¯ã€‚</li>
</ul>
<p>ç¬¬äºŒä¸ªæ•…äº‹ï¼Œå¨ƒåœ¨ä¸€ä¸ªç©å…·ï¼Œç™¾å˜é­”å°ºï¼Œèƒ½è‡ªå·±ç¼–ä¸€ä¸ªç®€å•çš„åˆ€å‰‘ã€æªçš„å½¢çŠ¶ç©ï¼Œä½†æ˜¯æ›´å¤æ‚çš„ç»“æ„å°±åšä¸å‡ºæ¥äº†ã€‚çœ‹åˆ°å–å®¶ç§€çš„å„ç§ç©æ„å¾ˆæ˜¯æƒ³å­¦ä¼šï¼Œä½†æ˜¯è§†é¢‘åŠ¨ä½œå¤ªå¿«ï¼Œæ‹æ‘„è§’åº¦éå¸¸ä¸åˆ©äºå­¦ä¹ ã€‚å¨ƒç”±äºå·²ç»è¿‘è§†ï¼Œæ‰€ä»¥å¯¹TAçœ‹LCDå±å¹•è®¾å¤‡ä¹Ÿæ˜¯æ¯”è¾ƒå¿Œè®³ï¼Œæ‰€ä»¥åªæ˜¯ç»™ä»–çœ‹ä¸€ä¼šå„¿ã€‚äºæ˜¯æˆ‘å›å¿†èµ·å°æ—¶å€™æ‹¿ä¸€æœ¬æŠ˜çº¸ä¹¦åå¤ç¢ç£¨ï¼Œäºæ˜¯å» yangkeduo ä¸Šæœäº†ä¸€ä¸‹çº¸è´¨çš„é­”å°ºæ•™ç¨‹ææ–™ï¼Œé”€é‡å±…ç„¶åªæœ‰åŒºåŒºå‡ åï¼Œæˆ‘ä¸æ˜ç™½æˆç™¾ä¸Šåƒçš„å¨ƒæ˜¯æ€ä¹ˆå­¦ä¼šé­”å°ºçš„é«˜çº§ç©æ³•çš„ã€‚éƒ½é è‡ªå·±ç¢ç£¨å—ï¼Ÿè¿˜æ˜¯å¨ƒè‡ªå·±ä»æ‰‹æœº/Padä¸Šè·å¾—ï¼Ÿ</p>
<p>æ‰€ä»¥æœ€è¿‘ä¸€ç›´è¢«è¿™ä¸ªé—®é¢˜å›°æ‰°ã€‚ä¿¡æ¯æ—¶ä»£å¯¹å½“ä»£ç¤¾ä¼šæ¥è¯´æ˜¯æ€ä¹ˆæ ·çš„ impactã€‚å®¶é•¿æŒæœ‰æ‰‹æœºå’Œæ•°ç è®¾å¤‡ï¼Œå¯¹ç€ä¿¡æ¯æœ‰ç»å¯¹çš„æŒæ§æƒï¼Œå¯ä»¥æŒ‡å®šä»€ä¹ˆæ—¶å€™çœ‹ä»€ä¹ˆä¸œè¥¿ï¼Œå¨ƒå’Œæˆ‘ä»¬å°æ—¶å€™æ¯”èµ·æ¥ï¼Œæ›´åƒæ˜¯å®¶é•¿å’Œè€å¸ˆé™„åº¸ï¼Œç¼ºä¹ä¸€ä¸ªè‡ªç”±æ¢ç´¢çš„æ¡ä»¶ã€‚è™½ç„¶ç½‘ä¸Šå¥½ä¸œè¥¿å¤šï¼Œä½†æ˜¯åœ¨TAä»¬å¯¹è‡ªç”±ç‚¹æ’­å’Œæ£€ç´¢çš„å†…å®¹æœ‰æŠŠæ§èƒ½åŠ›ä¹‹å‰ï¼ŒTAä»¬çš„èµ„è®¯è·å–èƒ½åŠ›ææ€•æ˜¯åŠå…¶ç‹­éš˜å’Œå°é—­çš„ã€‚åŠ ä¸Šå›½å†…çš„åœ¨çº¿å¹³å°è´¨é‡åˆå‚å·®ä¸é½ï¼Œå®¹æ˜“çœ‹ã€Œæ­ªã€çš„ä¸œè¥¿ä¸Šç˜¾ã€‚æ›´ä¸å¹¸çš„æ˜¯ï¼Œä»–ä»¬è¿™ä»£äººåˆä¼´éšè¿™å¹³åº¸å‡ºç‰ˆç‰©çš„æå¤§ä¸°å¯Œï¼Œæ¯”å¦‚è¢«å¾ˆå¤šäººå–·ä¸‰è§‚æœ‰é—®é¢˜çš„ã€Šç±³å°åœˆã€‹ã€Šå§œå°ç‰™ã€‹ï¼Œæ°å¥½æ˜¯å¨ƒçš„æœ€çˆ±ã€‚å¯¹ä¸¥è‚ƒ(aka æ¯ç‡¥)ä¸€ç‚¹çš„çº¸è´¨å†…å®¹ï¼Œä»–ä»¬åˆéå¸¸ä¸è€å—ï¼Œæœ‰å…¸å‹çš„æ•°ç æˆ’æ–­ååº”ã€‚å”‰ã€‚</p>
<p>è¿™æˆ–è®¸æ˜¯æˆ‘å®¶å¨ƒè‡ªå·±çš„åŸå› ï¼Œæˆ–è€…æ˜¯æˆ‘ä½œä¸ºå®¶é•¿çš„é—®é¢˜ï¼Œä½†æ„¿æ˜¯æˆ‘æƒ³å¤šäº†</p></p>
            <div class="card-subtext muted-text">
              <p>Posted <time datetime="2022-01-10T22:13:39+08:00">2022-01-10</time></p>
<p>stderr</p>            </div>
          </article>
        </div>


        <!-- new article -->
        <div class="card blog-card">
          <article class="card-body">
            <a href="/2021/stdin-017"  rel="bookmark" >
              <h2 class="card-title">Zizek å’Œç›—ç‰ˆ</h2>
            </a>
            <p class="card-text"><blockquote>
<p>é½æ³½å…‹å…ˆç”Ÿåœ¨2007 å¹´ç¬¬ä¸€æ¬¡åˆ°ä¸­å›½æ¥è®¿é—®ï¼Œä»–åœ¨æˆ‘ä»¬è¿™é‡Œå¾…äº†ä¸€ä¸ªæ˜ŸæœŸï¼Œä»–è®²äº†ä¸€ä¸ªæ•…äº‹ï¼Œæ˜¯è·Ÿä¸­å›½æœ‰å…³çš„ã€‚ä»–è®²äº†ä»€ä¹ˆå‘¢ï¼Ÿå°±æ˜¯æœ‰ä¸€å¤©ï¼Œä»–åœ¨ç¾å›½çš„å½•åƒåº—é—¨å£ï¼Œçœ‹åˆ°è¿™ä¹ˆä¸€å¥è¯ï¼šâ€œä¸è¦ä¹°ç›—ç‰ˆå…‰ç¢Ÿï¼Œä¹°ç›—ç‰ˆï¼Œå°±ç­‰äºæ”¯æŒå…±äº§ä¸»ä¹‰â€ã€‚å› ä¸ºï¼Œå¾ˆå¤§ä¸€éƒ¨åˆ†ç›—ç‰ˆå…‰ç¢Ÿéƒ½æ˜¯ä¸­å›½ç”Ÿäº§çš„ï¼Œæ‰€ä»¥ç¾å›½äººéå¸¸æ¼ç«è¿™ä¸ªçŸ¥è¯†äº§æƒçš„é—®é¢˜ã€‚é½æ³½å…‹è·Ÿæˆ‘è¯´ï¼šâ€œä¸€çœ‹åˆ°è¿™ä¸ªæ ‡è¯­æˆ‘å°±éå¸¸å…´å¥‹ï¼Œæˆ‘å°±åè¦ä¹°ç›—ç‰ˆâ€ã€‚è¿™æ˜¯ä¸ºä»€ä¹ˆå‘¢ï¼Œå› ä¸ºè¿™äº›å·¦æ´¾æ€æƒ³å®¶æœ‰ä¸ªéå¸¸é‡è¦çš„è§‚ç‚¹æ˜¯ï¼Œæ•°ç æ—¶ä»£å®é™…ä¸Šæ˜¯ç§æœ‰åˆ¶çœŸæ­£ç ´äº§çš„æ—¶ä»£ï¼Œå› ä¸ºå¤åˆ¶å¤ªå®¹æ˜“äº†ã€‚æˆ‘ä»¬åé¢è®²åˆ°é²å¾·é‡Œäºšå°±ä¼šè®²åˆ°æ–‡æœ¬çš„æ¶ˆå¤±ï¼Œå°±æ˜¯æ‹ŸçœŸæ€§æ˜¯è®²ä»€ä¹ˆå‘¢ï¼Œæ˜¯è®²è¿‡å»æˆ‘ä»¬æœ‰ä¸ªæ‰‹ç¨¿ï¼Œä¸€å†™ä¸€ä¸ªæ‰‹ç¨¿ç„¶åå¾ˆçè´µã€‚ç°åœ¨æˆ‘ä»¬æœ‰ç”µè„‘ï¼Œå°±å¤§å®¶åœ¨ç”µè„‘ä¸Šé¢å†™ä½œä¸šçš„æ—¶å€™æœ‰æ²¡æœ‰æƒ³è¿‡ä¸€ä¸ªé—®é¢˜ï¼šä»¥åæˆ‘ä»¬æ˜¯ä¸€ä¸ªæ— æ¡£æ¡ˆçš„æ—¶ä»£ï¼Œå› ä¸ºä½ æ²¡æœ‰åŸå§‹æ‰‹ç¨¿ï¼Œä½ æœ€åäº¤ç»™å‡ºç‰ˆç¤¾çš„ï¼Œå¦‚æœä½ æ²¡æœ‰æ•…æ„å‚¨å­˜ï¼Œä¹Ÿå°±æ˜¯è¯´æ¯ä¿®æ”¹ä¸€æ¬¡å‚¨å­˜ä¸€æ¬¡çš„è¯ï¼Œä½ ä¿®æ”¹çš„ç—•è¿¹éƒ½æ²¡æœ‰ã€‚æ‰€ä»¥é½æ³½å…‹åœ¨å—äº¬ï¼Œä»–è·Ÿæˆ‘è®²ï¼Œå“ªæœ‰å–ç›—ç‰ˆçš„ï¼Ÿæˆ‘å°±æ˜¯è¦ä¹°ï¼</p>
</blockquote>
<p><img alt="" src="/images/2021/stdin-017-1.jpg" /></p>
<p>ä» <a href="https://www.zhihu.com/question/494242235/answer/2237418578">å¦‚ä½•çœ‹å¾…ä¿„è™šæ‹Ÿä¸»æ’­å› ç¿»å”±ã€Šå–€ç§‹èã€‹è¢«ç´¢è¦ç‰ˆæƒè´¹ï¼Ÿ</a> çœ‹åˆ°çš„ <a href="https://ptext.nju.edu.cn/b9/03/c12209a243971/page.htm">å¼ å¼‚å®¾ï¼šã€Šé²å¾·é‡Œäºšï¼šæ¬¢è¿æ¥åˆ°çœŸå®çš„è’æ¼ â€”â€”ä»ç”µå½±&lt;éª‡å®¢å¸å›½&gt;è°ˆèµ·ã€‹</a>ã€‚åè€…æœ‰ä» å°¼åº·D800è®²åˆ°å¥¥è¿ªA6è®²åˆ° iPad éå¸¸æœ‰è¶£ï¼Œå€¼å¾—ä¸€è¯»ã€‚</p></p>
            <div class="card-subtext muted-text">
              <p>Posted <time datetime="2021-12-30T15:06:03+08:00">2021-12-30</time></p>
<p>stdin</p>            </div>
          </article>
        </div>


        <!-- new article -->
        <div class="card blog-card">
          <article class="card-body">
            <a href="/2021/stdout-028"  rel="bookmark" >
              <h2 class="card-title">Microsoft å®˜ç½‘çš„ 403 é”™è¯¯</h2>
            </a>
            <p class="card-text"><pre><code>$ curl -H &quot;User-Agent: User-Agent: Mozilla/5&quot; -kvs 'http://www.microsoft.com'
*   Trying 118.123.102.107...
* TCP_NODELAY set
* Connected to www.microsoft.com (118.123.102.107) port 80 (#0)
&gt; GET / HTTP/1.1
&gt; Host: www.microsoft.com
&gt; Accept: */*
&gt; User-Agent: User-Agent: Mozilla/5
&gt;
&lt; HTTP/1.1 403 Forbidden
&lt; Server: GHost
&lt; Content-Length: 306
&lt; Content-Type: text/html
&lt; Mime-Version: 1.0
&lt; Expires: Wed, 29 Dec 2021 14:42:28 GMT
&lt; Cache-Control: max-age=0, no-cache
&lt; Pragma: no-cache
&lt; Date: Wed, 29 Dec 2021 14:42:28 GMT
&lt; Connection: keep-alive
&lt;
&lt;HTML&gt;&lt;HEAD&gt;
&lt;TITLE&gt;Access Denied&lt;/TITLE&gt;
&lt;/HEAD&gt;&lt;BODY&gt;
&lt;H1&gt;Access Denied&lt;/H1&gt;

You don't have permission to access &quot;http&amp;#58;&amp;#47;&amp;#47;mscom&amp;#46;errorpage&amp;#46;failover&amp;#46;com&amp;#47;403&amp;#47;403&amp;#46;htm&amp;#63;&quot; on this server.&lt;P&gt;
Reference&amp;#32;&amp;#35;18&amp;#46;1c697b76&amp;#46;1640788948&amp;#46;3b971c1f
&lt;/BODY&gt;
&lt;/HTML&gt;
* Connection #0 to host www.microsoft.com left intact
* Closing connection 0
</code></pre>
<p>ä¸çŸ¥é“ä¸ºä½•ä¼šæŒ‡å‘  <code>http://mscom.errorpage.failover.com</code> è¿™åŸŸåä¹Ÿä¸æ˜¯å¾®è½¯çš„ã€‚</p></p>
            <div class="card-subtext muted-text">
              <p>Posted <time datetime="2021-12-29T22:42:14+08:00">2021-12-29</time></p>
<p>stdout</p>            </div>
          </article>
        </div>


        <!-- new article -->
        <div class="card blog-card">
          <article class="card-body">
            <a href="/2021/stdout-027"  rel="bookmark" >
              <h2 class="card-title">Chrome é˜‰å‰²æŒ‡å—</h2>
            </a>
            <p class="card-text"><p>ä¸æŠ˜è…¾ä¸èˆ’æœã€‚ç»§ä¹‹å‰ <a href="/2021/stdout-020">Edgeè°ƒæ•™</a> ä¹‹åè®°å½•ä¸€ä¸‹ Chrome V70æ€ä¹ˆé˜‰å‰²ã€‚</p>
<p>ä¸‹è½½ï¼š</p>
<p><a href="https://dl.google.com/edgedl/release2/chrome/ALiXMYM2w8-h_70.0.3538.77/70.0.3538.77_chrome_installer.exe">win 32</a> | <a href="https://dl.google.com/edgedl/release2/chrome/AJ7ozxk4OLvN_70.0.3538.77/70.0.3538.77_chrome_installer.exe">win 64</a> | <a href="https://redirector.gvt1.com/release2/chrome/AIJolai8dEil_70.0.3538.67/GoogleChrome-70.0.3538.67.dmg">Mac</a></p>
<p>ä¸Šé¢çš„é“¾æ¥å·²ç»å¹´ä¹…å¤±ä¿®äº†ï¼Œå¯¹æ¯”äº†ä¸€ä¸‹è·å–æœ€æ–°ç‰ˆæœ¬çš„è„šæœ¬å‘ç° Google å·²ç»ä¸æä¾›è€é“¾æ¥äº†ã€‚</p>
<pre><code>curl -vsk 'https://tools.google.com/service/update2' -HContent-Type:text/xml --data-binary &quot;&lt;?xml version='1.0' encoding='UTF-8'?&gt;
&lt;request protocol='3.0' sessionid='{est-blog}' installsource='ondemandcheckforupdate' dedup='cr'&gt;
&lt;os platform='mac' version='66.6.6666.66' arch='x64'/&gt;
&lt;app appid='com.google.Chrome' ap='' version='' nextversion='' lang='' brand='GGLS' client=''&gt;&lt;updatecheck/&gt;&lt;/app&gt;
&lt;/request&gt;&quot;
</code></pre>
<p>å®‰è£…å®Œæ¯•ä¹‹å</p>
<pre><code>cd '/Applications/Google Chrome.app/Contents'
touch Frameworks
sudo chown root:wheel Frameworks
sudo chmod 000 Frameworks

cd ~/Library/Google
rm -rf GoogleSoftwareUpdate
touch GoogleSoftwareUpdate
sudo chown root:wheel GoogleSoftwareUpdate
sudo chmod 000 GoogleSoftwareUpdate
</code></pre></p>
            <div class="card-subtext muted-text">
              <p>Posted <time datetime="2021-12-28T23:00:05+08:00">2021-12-28</time></p>
<p>stdout</p>            </div>
          </article>
        </div>


        <!-- new article -->
        <div class="card blog-card">
          <article class="card-body">
            <a href="/2021/stdout-026"  rel="bookmark" >
              <h2 class="card-title">è®¤è¯†ã€Œæ´‹èŠ‚ã€</h2>
            </a>
            <p class="card-text"><p>éƒ½è¯´ xmas eve æ˜¯æ´‹èŠ‚ï¼Œæˆ‘ä»¬å°±æ¥æ•°ä¸€æ•°åˆ°åº•æœ‰å“ªäº›æ´‹èŠ‚</p>
<ol>
<li>å…ƒæ—¦1æœˆ1æ—¥ã€‚ç”±åŒ—ã€Œæ´‹ã€å†›é˜€è¢ä¸–å‡¯è®¾ç«‹ã€‚ä¾æ®æ˜¯å†…åŠ¡éƒ¨æ€»é•¿æœ±å¯é’¤ã€Šå®šå››å­£èŠ‚å‡å‘ˆã€‹ï¼ŒæŠŠåŸæ¥å†œå†ï¼ˆå¤å†ï¼‰çš„æ­£æœˆåˆä¸€çš„ã€Œå…ƒæ—¦ã€æŒªç”¨åˆ°äº†æ ¼é‡Œå†ä¸€æœˆä¸€æ—¥ã€‚æ ¼é‡Œå†(Gregorian calendar)å¼•å…¥ä¸­å›½æ˜¯1912ï¼Œå…ƒæ—¦æ­£å¼ç”Ÿæ•ˆæ˜¯1914å¹´ã€‚</li>
<li>æ˜¥èŠ‚ã€‚ä¸¥æ ¼çš„æ¥è¯´ï¼Œä¼ ç»Ÿæ˜¥èŠ‚æ˜¯äºŒåå››èŠ‚æ°”ä¸­çš„â€œç«‹æ˜¥â€ï¼Œæ˜¯å¤ªé˜³å†ã€‚åæ¥è¢«è¢ä¸–å‡¯ç›´æ¥æ‹æ¿æˆå†œå†æ­£æœˆåˆä¸€ã€‚è€Œå¤å†æ­£æœˆåˆä¸€ä¸€èˆ¬è¢«è®¤ä¸ºæ˜¯æœ€æ¥è¿‘ç«‹æ˜¥ä¹‹æœ”æ—¥ï¼ˆæœˆç¼ºä¹‹æ—¥ï¼‰ã€‚å†œå†æœ€åä¸€æ¬¡å†œå†å¤§æ”¹ç‰ˆä¸ºã€Šæˆæ—¶å†ã€‹ï¼Œå‘ç”Ÿåœ¨å´‡ç¥¯äºŒå¹´ï¼ˆ1629å¹´ï¼‰ä¹æœˆï¼Œç”±ç¤¼éƒ¨å·¦ä¾éƒå¾å…‰å¯å‘èµ·ï¼Œç¼–æ’°è€…ï¼šè€¶ç¨£ä¼šçš„é¾™åæ°‘ï¼ˆè¥¿è¥¿é‡Œäººï¼‰ã€ç½—é›…è°·ï¼ˆç±³å…°äººï¼‰ã€é‚“ç‰å‡½ï¼ˆç‘å£«äººï¼‰ã€æ±¤è‹¥æœ›ï¼ˆæ—¥è€³æ›¼äººï¼‰ã€‚</li>
<li>ç”Ÿè‚–å…¶å®ä¸è·Ÿå†œå†ç»‘å®šï¼Œè€Œæ˜¯è·Ÿ äºŒåå››èŠ‚æ°”ç»‘å®šã€‚äºŒåå››èŠ‚æ°”æœ€åä¸€æ¬¡æ”¹ç‰ˆï¼Œä¹Ÿæ˜¯ä¸Šé¢é‚£ä¸ªã€Šæ—¶å®ªå†ã€‹é‚£å¸®æ´‹ä¼ æ•™å£«å®šä¸‹æ¥çš„ã€‚æœ‰æ„æ€çš„æ˜¯ï¼Œæ˜¥åˆ†é‚£ä¸€å¤©æ°å¥½å¼€å§‹ç™½ç¾Šåº§ï¼Œå…¶å®æˆ‘æœ€è¿‘æ‰çŸ¥é“äºŒåå››èŠ‚æ°”å°±çº¦ç­‰äº12æ˜Ÿåº§ï¼Œä¹Ÿå°±æ˜¯é»„é“åäºŒå®«ã€‚å¦‚æœè¦è¯´å†œå†ã€Šæ—¶å®ªå†ã€‹å«æ´‹é‡å¤ªé«˜ï¼Œé‚£ä¹ˆä»–ä¹‹å‰çš„ã€Šæˆæ—¶å†ã€‹ç¼–æ’°è€…æ˜¯æ²³åŒ—äººéƒ­å®ˆæ•¬ï¼Œç”Ÿäºå…ƒå¤ªå®—(çªé˜”å°)ä¸‰å¹´ï¼ˆ1231å¹´ï¼‰äºé‚¢å·ï¼Œç”±ä»–ç¥–çˆ¶éƒ­è£(é‡‘å›½äºº)æŠšå…»æˆäººï¼Œè¯´èµ·æ¥è¿™è€å…„ç”šè‡³é¡ºç€è’™å¤äººç»Ÿæ²»ä¸‹çš„é”¡ä¼¯åˆ©äºšå»è¿‡åŒ—æç§‘è€ƒï¼ŒåŒä¸€ä½å°¼æ³Šå°”å»ºç­‘å¸ˆé˜¿å°¼å“¥åˆä½œæè¿‡å¤©æ–‡å°ï¼Œååˆ†äº†å¾—ã€‚</li>
<li>å¦‡å¥³èŠ‚ï¼Œå…¨ç§°ä¸ºã€Œâ€œä¸‰å…«â€å›½é™…åŠ³åŠ¨å¦‡å¥³èŠ‚ã€ã€‚1857å¹´3æœˆ8æ—¥ï¼Œç¾å›½çº½çº¦çš„åˆ¶è¡£å’Œçººç»‡å¥³å·¥èµ°ä¸Šè¡—å¤´ï¼ŒæŠ—è®®æ¶åŠ£çš„å·¥ä½œæ¡ä»¶å’Œä½è–ªã€‚å°½ç®¡åæ¥å½“å±€å‡ºåŠ¨è­¦å¯Ÿæ”»å‡»å¹¶é©±æ•£äº†æŠ—è®®äººç¾¤ï¼Œä½†è¿™æ¬¡æŠ—è®®æ´»åŠ¨ä¿ƒæˆäº†ä¸¤å¹´åçš„3æœˆç¬¬ä¸€ä¸ªå·¥ä¼šç»„ç»‡çš„å»ºç«‹ã€‚1917å¹´3æœˆ8æ—¥ï¼Œåœ¨ä¿„ç½—æ–¯å¸å›½é¦–éƒ½å½¼å¾—æ ¼å‹’ï¼Œçººç»‡å¥³å·¥ä¸¾è¡Œç½¢å·¥åŠæ¸¸è¡Œï¼ŒéåŠæ•´ä¸ªåŸå¸‚ï¼Œä¹Ÿå¯¼è‡´ä¿„ç½—æ–¯é©å‘½çš„å¼€å§‹ã€‚</li>
<li>æ¸…æ˜èŠ‚ï¼ŒäºŒåå››èŠ‚æ°”ä¹‹ä¸€ã€‚å¤ªé˜³åˆ°è¾¾é»„ç»15Â°</li>
<li>åŠ³åŠ¨èŠ‚ï¼Œ1884å¹´ï¼ŒåŠ³åŠ¨éª‘å£«å›¢ Knights of Labor å€¡å¯¼ã€Œ8å°æ—¶å·¥ä½œåˆ¶ã€ï¼›10æœˆï¼Œè¡Œä¼šä¸å·¥ä¼šè”ç›Ÿå¬å¼€å¤§ä¼šç¡®å®š1886å¹´5æœˆ1æ—¥ä¸ºè¦æ±‚å…«å°æ—¶å·¥ä½œåˆ¶æˆä¸ºæ ‡å‡†çš„æ—¥æœŸï¼Œç¾å›½å·¥ä¼šå‡†å¤‡ä¸¾è¡Œæ€»ç½¢å·¥æ”¯æ´ï¼›1886å¹´5æœˆ1æ—¥ï¼Œæ•°åƒåå‚åŠ ç½¢å·¥å’Œå‚åŠ å…¨ç¾å„åœ°ä¸¾è¡Œçš„é›†ä¼šçš„å·¥äººå”±èµ·äº†ã€Šå…«å°æ—¶ã€‹ï¼ˆEight Hourï¼‰ä¸€æ­Œï¼›æ¥ä¸‹æ¥å‘ç”Ÿå¹²è‰å¸‚åœºå± æ€(Haymarket affair)ã€‚</li>
<li>ç«¯åˆèŠ‚ï¼Œæ®ä¼ æ˜¯ä¸ºäº†çºªå¿µ<a href="/202006/stderr-008">æ¨å›½è¯—äººå±ˆåŸ</a>ï¼Œæ¥è‡ªã€Œè›®å¤·ã€æ¥šå›½</li>
<li>å„¿ç«¥èŠ‚ã€‚1949å¹´11æœˆå›½é™…æ°‘ä¸»å¦‡å¥³è”åˆä¼šåœ¨è‹è”è«æ–¯ç§‘æ‰€å¬å¼€çš„æ‰§è¡Œå§”å‘˜ä¼šè®®ï¼Œä¼šä¸Šä¸ºçºªå¿µæ‚¼å¿µ1942å¹´æ·å…‹åˆ©è¿ªç­–æ‘å¯¹å„¿ç«¥çš„å± æ€åŠä¼¤å®³ï¼Œä»¥åŠå…¨ä¸–ç•Œæ‰€æœ‰åœ¨æ³•è¥¿æ–¯ä¾µç•¥æˆ˜äº‰ä¸­æ­»éš¾çš„å„¿ç«¥ï¼Œä¸ºä¿éšœä¸–ç•Œå„å›½å„¿ç«¥çš„ç”Ÿå­˜æƒã€ä¿å¥æƒå’Œå—æ•™è‚²æƒåŠæ”¹å–„å„¿ç«¥çš„ç”Ÿæ´»ï¼Œå†³è®®ä»¥6æœˆ1æ—¥ä¸ºå›½é™…å„¿ç«¥èŠ‚ã€‚1949å¹´12æœˆ23ä¸­å¤®äººæ°‘æ”¿åºœæ”¿åŠ¡é™¢ç¬¬åäºŒæ¬¡æ”¿åŠ¡ä¼šè®®äºæ—¥é€šè¿‡äº†ã€Šå…¨å›½å¹´èŠ‚åŠçºªå¿µæ—¥æ”¾å‡åŠæ³•ã€‹ï¼Œå…¶ä¸­è§„å®š6æœˆ1æ—¥ä¸ºå„¿ç«¥èŠ‚ã€‚</li>
<li>å»ºå†›èŠ‚ï¼Œç”± å¥‘ä¸¹è‹ç»´åŸƒå…±å’Œå›½ (Kitajskaja Sovetskaja Respublika, ĞšĞ¸Ñ‚Ğ°ÌĞ¹ÑĞºĞ°Ñ Ğ¡Ğ¾Ğ²ĞµÌÑ‚ÑĞºĞ°Ñ Ğ ĞµÑĞ¿ÑƒÌĞ±Ğ»Ğ¸ĞºĞ°) äº1933å¹´6æœˆå†³å®šï¼Œå°†8æœˆ1æ—¥å®šä¸ºä¸­å›½å·¥å†œçº¢å†›çš„å»ºå†›èŠ‚ã€‚<br />
<img alt="" src="https://upload.wikimedia.org/wikipedia/commons/thumb/3/3a/National_Flag_of_Chinese_Soviet_Republic.svg/400px-National_Flag_of_Chinese_Soviet_Republic.svg.png" /></li>
<li>åœ£çºªèŠ‚ï¼Œç©†ç½•é»˜å¾·çš„è¯è¾°ä¸é€ä¸–æ°å·§éƒ½åœ¨ä¼Šæ–¯å…°æ•™å†ä¸‰æœˆåäºŒæ—¥ï¼Œå›å›ä¸‰å¤§èŠ‚ä¹‹ä¸€ã€‚<br />
<img alt="" src="http://wx1.sinaimg.cn/large/4b18c48fly4glz8qsahmzj20kw0fmdia.jpg" /></li>
</ol>
<p>å†è¯´ä¸€ä¸‹çœŸæ­£è¢« appropriation çš„ã€Œæ´‹èŠ‚ã€</p>
<ol>
<li>åœ£è¯èŠ‚ã€‚å¼‚æ•™å¾’çš„èŠ‚æ—¥ï¼Œå››èˆäº”å…¥å†¬è‡³æ—¥ï¼Œå¤åŸƒåŠå¤ªé˜³ç¥ Ra çš„èŠ‚æ—¥ï¼Œè¢«(ä¸œ)ç½—é©¬å¸å›½æ‹¿æ¥å®£ä¼ æˆä¸­ä¸œäººè€¶ç¨£çš„ç”Ÿæ—¥ã€‚ã€‚ã€‚æ‘Šæ‰‹ã€‚ã€‚ã€‚æ¯”å¦‚çŠ¹å¤ªäººå°±ä¸è¿‡åœ£è¯èŠ‚ï¼Œä½†æ˜¯ä»–ä»¬åœ¨è¿™ä¸€å¤©<a href="https://www.youtube.com/watch?v=Ny3PQOWsUGs">åƒä¸­é¤</a></li>
<li>æ¯äº²èŠ‚ï¼Œç”±12å²å¥³å­©å®‰å¨œÂ·è´¾ç»´æ–¯(Anna Jarvis)å‘èµ·ï¼Œè¢«å•†å®¶åˆ©ç”¨ï¼Œå®‰å¨œç”¨<a href="https://www.sohu.com/a/313400538_782639">ä¸‹åŠè¾ˆå­åå¯¹æ¯äº²èŠ‚</a></li>
<li>çˆ¶äº²èŠ‚ï¼šæŠ„è¢­æ¯äº²èŠ‚ã€‚</li>
</ol></p>
            <div class="card-subtext muted-text">
              <p>Posted <time datetime="2021-12-24T23:59:59+08:00">2021-12-24</time></p>
<p>stdout</p>            </div>
          </article>
        </div>


        <!-- new article -->
        <div class="card blog-card">
          <article class="card-body">
            <a href="/2021/stdout-025"  rel="bookmark" >
              <h2 class="card-title">å¦‚ä½•å¯è§†åŒ–è·Ÿè¸ªåˆ†æ Python import è€—æ—¶</h2>
            </a>
            <p class="card-text"><p>é¦–å…ˆåœ¨æœ¬åœ°å®‰è£… <code>pip install tuna</code></p>
<p>ç„¶åè·‘ä¸ªåˆ†ï¼Œéœ€è¦ <code>CPython &gt;= 3.7</code>ï¼Œè¾“å…¥</p>
<p><code>PYTHONPROFILEIMPORTTIME=1 python3 myscript.py 2&gt;1.log</code></p>
<p><img alt="tuna" src="https://camo.githubusercontent.com/d76ac242a42f9c394c1ae66da655173a51d9ed9c09107dd8d42b684c15aa2d05/68747470733a2f2f6e7363686c6f652e6769746875622e696f2f74756e612f666f6f2e706e67" /></p>
<p>ç„¶å <code>tuna 1.log</code> ï¼Œä¼šè‡ªåŠ¨æ‰“å¼€æµè§ˆå™¨å›´è§‚ <code>import</code> è€—æ—¶åˆ†å¸ƒã€‚</p></p>
            <div class="card-subtext muted-text">
              <p>Posted <time datetime="2021-12-22T14:00:28+08:00">2021-12-22</time></p>
<p>stdout</p>            </div>
          </article>
        </div>


        <!-- new article -->
        <div class="card blog-card">
          <article class="card-body">
            <a href="/2021/stdout-024"  rel="bookmark" >
              <h2 class="card-title">4å¥è¯è‡ªåŠ¨æ¢win10å£çº¸</h2>
            </a>
            <p class="card-text"><ol>
<li>è·å–å½“å‰ç”¨æˆ· <code>sid</code>ã€‚cmdä¸‹è®¾å˜é‡å¦‚æ­¤å¤æ‚ã€‚è€Œä¸” <code>|</code> çš„è½¬ä¹‰å­—ç¬¦å±…ç„¶æ˜¯ <code>^|</code></li>
<li>è¯»å– LogonUI çš„è‡ªåŠ¨å£çº¸ã€‚<code>reg query</code>è¾“å‡ºæå…¶ä¸å‹å¥½ã€‚éœ€è¦ tokens=3</li>
<li>è®¾ç½®ä¸ºå½“å‰æ¡Œé¢ã€‚</li>
<li>åˆ·æ–°ã€‚è¿™ä¸ªå±äºæŒ‰è¿æ°”æˆåŠŸã€‚çœŸæ­£åˆ·æ–°çš„éœ€è¦è°ƒç”¨ dll ã€‚ç®—äº†</li>
</ol>
<pre><code>for /f %%g in ('wmic useraccount where name^=&quot;%USERNAME%&quot; get sid ^| findstr ^S\-d*') do set USERSID=%%g
For /f &quot;tokens=3&quot; %%k IN ('reg query HKLM\SOFTWARE\Microsoft\Windows\CurrentVersion\Authentication\LogonUI\Creative\%USERSID%  /s /v  landscapeImage /t REG_SZ ^| findstr /ri &quot;REG_SZ&quot;') do set img_path=%%k
reg add &quot;HKEY_CURRENT_USER\Control Panel\Desktop&quot; /v Wallpaper /t REG_SZ /d %img_path% /f
RUNDLL32.EXE user32.dll,UpdatePerUserSystemParameters 
</code></pre>
<p><a href="/202104/stdout-005">ä¹‹å‰çš„æ–¹æ³•</a>æå¤æ‚äº†</p></p>
            <div class="card-subtext muted-text">
              <p>Posted <time datetime="2021-12-08T21:39:36+08:00">2021-12-08</time></p>
<p>stderr</p>            </div>
          </article>
        </div>


        <!-- new article -->
        <div class="card blog-card">
          <article class="card-body">
            <a href="/2021/stdout-023"  rel="bookmark" >
              <h2 class="card-title">FastAPI/Starletteæ”¯æŒé™æ€æ–‡ä»¶æ”¯æŒSPA</h2>
            </a>
            <p class="card-text"><p>FastAPI å®˜æ–¹æ”¯æŒ <code>from fastapi.staticfiles import StaticFiles</code> å……å½“ä¸€ä¸ªé™æ€æ–‡ä»¶æœåŠ¡å™¨</p>
<p>å…¶å®å®ç°æ˜¯ starletteã€‚è¿™ç©æ„å¯ä»¥åœ¨ <code>directory</code> ä¸‹æ”¾ä¸€ä¸ª <code>404.html</code>ï¼Œæ°å¥½å•é¡µåº”ç”¨ä¹Ÿéœ€è¦ç”¨ <code>index.html</code> å……å½“æ‰€æœ‰ javascript æ¡†æ¶æ³¨å†Œçš„ router</p>
<p>åªæ˜¯æœ‰ä¸€ä¸ªæ¯›ç—…ï¼Œè¿™è´§è¿”å›çš„ HTTP status code æ˜¯ 404ã€‚ç”¨èµ·æ¥æ²¡å•¥å¤§æ¯›ç—…ï¼Œä½†æ˜¯å°±æ˜¯æµè§ˆå™¨ä¸ä¼šè®°å½•ç½‘å€ï¼Œå¯¼è‡´æ²¡æ³•åŒ¹é…æµè§ˆå†å²å¿«é€Ÿæ‰¾åˆ°ä¹‹å‰è®¿é—®è¿‡çš„é¡µé¢ã€‚</p>
<p>æ‹¿æ¥æ”¹æ”¹ç»§ç»­ç”¨</p>
<pre><code>  from starlette.staticfiles import StaticFiles, Scope, Headers, Response, FileResponse

  class StaticFilesWithout404(StaticFiles):
      async def get_response(self, path: str, scope: Scope) -&gt; Response:
          r = await super().get_response(path, scope)
          h = Headers(scope=scope)
          full_path, stat_result = await self.lookup_path('404.html')
          if isinstance(r, FileResponse) and r.path == full_path:
              if 'text/html' in (h.get('accept') or ''):
                  r.status_code = 200
              else:
                  return Response('', status_code=404)
          return r

  app.mount("/frontend", StaticFilesWithout404(directory="frontend", html=True), name="static")
</code></pre>
<p>è¿™æ®µä»£ç å¤§æ¦‚æ˜¯èµ·åˆ°äº†ç±»ä¼¼ <a href="http://nginx.org/en/docs/http/ngx_http_core_module.html#try_files">nginx <code>try_files</code></a> çš„ä½œç”¨ã€‚é»˜è®¤é™æ€æ–‡ä»¶æ˜ å°„ä¸€ä¸ªç›®å½•ï¼Œä½†æ˜¯å¦‚æœæ‰¾ä¸åˆ°å°±æŒ‰æ ¹ç›®å½•çš„ index.html è¾“å‡ºã€‚è¿™é‡Œè¿˜åˆ¤æ–­äº†è¯·æ±‚çš„ <code>accept</code> å¤´ï¼Œå¦‚æœæ˜¯ xhr/Fetch å°±ä¼šç›´æ¥è¿”å›ä¸€ä¸ª0å­—èŠ‚é•¿åº¦æ— MIMEçš„404ã€‚</p>
<p>ç”±æ­¤æˆ‘æƒ³åˆ°äº†ä¸€ä¸ªå­¦ç©¶å¼çš„ leaky abstractionã€‚ä¼—æ‰€å‘¨çŸ¥ï¼Œå¦‚æœä¸€ä¸ªURLä¸å­˜åœ¨ï¼Œé‚£ä¹ˆæœåŠ¡å™¨åº”è¯¥è¿”å›404</p>
<p>ä½†æ˜¯ç°åœ¨éƒ½æ˜¯ SPA å•é¡µåº”ç”¨ï¼Œéƒ½æ˜¯å…ˆ 200 è¿”å› <code>index.html</code> çš„å†…å®¹ï¼Œå†ç”± javascript çš„ router å»å†³å®šæ˜¯å¦æ­£å¸¸æ˜¾ç¤ºè¿˜æ˜¯404 ã€‚æ‰€ä»¥è¿”å› 200 ä½†æ˜¯æ˜¾ç¤º 404 å°±ç ´åäº†è¿™ä¸ªè¯­ä¹‰ã€‚å¦‚æœè¦ç²¾ç¡®åŒ¹é…SPAé‡Œçš„routerå¦‚æœä¸å­˜åœ¨ç”±æœåŠ¡å™¨è¿”å›404ï¼Œç¬¬ä¸€æ˜¯æ SSRï¼ŒæŠŠå‰ç«¯é‚£ä¸€å¨ä»£ç è·‘åœ¨æœåŠ¡å™¨ç«¯ï¼Œç¬¬äºŒç§åŠæ³•æ˜¯ npm build çš„æ—¶å€™è¾“å‡ºä¸€ä¸ªå¯è·¯ç”±URLåˆ—è¡¨ï¼Œç„¶åéƒ¨ç½²çš„æ—¶å€™å¯¼å…¥é™æ€æ–‡ä»¶æœåŠ¡å™¨æ›´æ–°ã€‚è¿™ä¸ªå…·ä½“å®ç°å°±ç•™ä½œhomeworkç”±è¯»è€…è‡ªè¡Œè§£å†³äº†ã€‚</p></p>
            <div class="card-subtext muted-text">
              <p>Posted <time datetime="2021-12-08T07:38:38+08:00">2021-12-08</time></p>
<p>stdout</p>            </div>
          </article>
        </div>


        <!-- new article -->
        <div class="card blog-card">
          <article class="card-body">
            <a href="/2021/stdout-022"  rel="bookmark" >
              <h2 class="card-title">äººå·¥æ„é€ Flask sessionæ¨¡æ‹Ÿcookieç™»é™†</h2>
            </a>
            <p class="card-text"><p>æœ‰æ²¡æœ‰å¥½å¥‡ä¸ºä»€ä¹ˆ Flask é…ç½®å¿…é¡»è¦æ±‚ä¸€ä¸ª <a href="https://flask.palletsprojects.com/en/latest/config/#SECRET_KEY">SECRET_KEY</a>ï¼Œç„¶åå°±å¯ä»¥åœ¨æµè§ˆå™¨ä¿å­˜ä¸€ä¸ª session çŠ¶æ€è¯»å†™æ•°æ®ã€‚</p>
<p>è¿™é‡Œè®°ä¸€ä¸‹å®ƒçš„åº•å±‚å®ç°ï¼Œå…¶å®éœ€è¦ä¾èµ–çš„åŒ…æ˜¯ <a href="https://itsdangerous.palletsprojects.com/">itsdangerous</a></p>
<pre><code>  import hashlib
  from itsdangerous import URLSafeTimedSerializer
  URLSafeTimedSerializer(
          'YOUR_SECRET_KEY',  # flask SECRET_KEY
          'cookie-session',  # from flask.sessions.SecureCookieSessionInterface.salt
          # serializer=TaggedJSONSerializer(),
          signer_kwargs={'key_derivation': 'hmac', 'digest_method': hashlib.sha1}
  ).dumps({
      "your_key": "your_value"
  })
</code></pre>
<p>åˆ«äººå¦‚æœæ‹¿åˆ°ä½ çš„ <code>SECRET_KEY</code> å°±å¯ä»¥ä¼ªé€ ä»»æ„ session cookie äº†</p></p>
            <div class="card-subtext muted-text">
              <p>Posted <time datetime="2021-12-08T07:15:03+08:00">2021-12-08</time></p>
<p>stdout</p>            </div>
          </article>
        </div>


        <!-- new article -->
        <div class="card blog-card">
          <article class="card-body">
            <a href="/2021/stdin-016"  rel="bookmark" >
              <h2 class="card-title">è‹35çš„UIæ±‰åŒ–</h2>
            </a>
            <p class="card-text"><p><a href="https://www.zhihu.com/question/304693612/answer/2250648177">åŸæ–‡</a>ç¦æ­¢è½¬è½½ï¼Œé‚£æˆ‘å°±è½¬è½½åŸæ–‡çš„<a href="https://mil.sina.cn/sd/2016-10-11/detail-ifxwrhpm2928730.d.html">åŸæ–‡</a></p>
<blockquote>
<p>æ—¥å‰ï¼Œä¿„ç½—æ–¯ã€Šæ¶ˆæ¯æŠ¥ã€‹é‡‡è®¿äº†ä¿„ç½—æ–¯æ— çº¿ç”µç”µå­æŠ€æœ¯é›†å›¢ï¼ˆä¿„ç½—æ–¯æŠ€æœ¯é›†å›¢ä¸‹å±ä¼ä¸šï¼‰å‰¯æ€»ç»ç†å‰ç»´âˆ™å å­£åŠ å¤«ï¼Œè¯¥é›†å›¢æ˜¯è‹-35å‡ ä¹æ‰€æœ‰èˆªç”µç³»ç»Ÿçš„ç ”åˆ¶ç”Ÿäº§å•ä½ã€‚<br />
å å­£åŠ å¤«è¡¨ç¤ºï¼Œâ€œæ ¹æ®è®¢è´­æ–¹çš„å›½æƒ…è¦æ±‚æ”¹è£…æœºè½½è®¾å¤‡æ˜¯é‡è¦çš„æŠ€æœ¯ç¨‹åºä¹‹ä¸€ï¼Œä¸€å¹´å¤šæ¥æˆ‘ä»¬éƒ½åœ¨è‡´åŠ›äºå°†é©¾é©¶èˆ±å†…çš„ä¿¡æ¯ç¿»è¯‘æˆæ±‰è¯­ã€‚ä½†æ˜¯ï¼Œä¸åƒæ–¯æ‹‰å¤«å’Œæ‹‰ä¸å­—æ¯ï¼Œæ±‰è¯­çš„è±¡å½¢æ–‡å­—â€œå¾ˆéš¾â€åœ¨LCDæ˜¾ç¤ºå™¨ä¸Šé˜…è¯»ã€‚æœ€ç»ˆï¼Œä¸­æ–¹è¦æ±‚ç»´æŒåŸæ ·ï¼Œå³æ˜¾ç¤ºå™¨ä¸Šä¿ç•™è¥¿é‡Œå°”å­—æ¯ã€‚ä¸­å›½é£è¡Œå‘˜å·²æœ‰é©¾é©¶ä¿„è‹-27æˆ˜æœºçš„é£è¡Œç»éªŒï¼Œè¯¥é£æœºçš„é©¾é©¶èˆ±åŒæ ·æ²¡æœ‰ä¸ºä¸­å›½è¿›è¡Œæ”¹è£…ï¼Œä½†é£è¡Œå‘˜ä»¬â€˜é˜…è¯»â€™ä¿„è¯­çš„æœºä¸Šä¿¡æ¯ã€‚â€<br />
è¯¥æŠ¥ç§°ï¼Œè‹-35æ˜¾ç¤ºå™¨ä¸Šè¯‘æˆæ±‰è¯­çš„ä»ªè¡¨è¯»æ•°è¯´æ˜å’ŒæŒ‡ä»¤å¤ªè¿‡å¾®å°å’Œæ¨¡ç³Šï¼Œä»¥è‡´éš¾ä»¥é˜…è¯»ã€‚é€šè¿‡æ‰©å¤§æ˜¾ç¤ºå™¨çš„å°ºå¯¸å¯ä»¥è§£å†³è¯¥é—®é¢˜ï¼Œä½†è¿™æ ·å°±è¦å½»åº•æ”¹é€ é©¾é©¶èˆ±ï¼Œç ”åˆ¶å’Œè¯•éªŒéœ€è¦é¢å¤–çš„èµ„é‡‘å’Œæ—¶é—´ï¼Œä¸­æ–¹ä¼™ä¼´å¹¶ä¸å¸Œæœ›è¿™æ ·ã€‚<br />
æŠ¥é“è¿˜æŒ‡å‡ºï¼Œæä¾›ç»™ä¸­å›½çš„è‹-35é£æœºå”¯ä¸€çš„ç‰¹æ®Šä¹‹å¤„æ˜¯åœ¨æœºè½½ç³»ç»Ÿä¸­åŠ å…¥äº†ä¸­å›½çš„â€œåŒ—æ–—â€å«æ˜Ÿå¯¼èˆªç³»ç»Ÿã€‚</p>
</blockquote>
<p>ä¸­æ–‡å­—åº“è¿˜æ˜¯å¾ˆå¤§çš„ï¼Œæ¸²æŸ“ä¹Ÿéº»çƒ¦ã€‚</p></p>
            <div class="card-subtext muted-text">
              <p>Posted <time datetime="2021-12-02T07:20:03+08:00">2021-12-02</time></p>
<p>stdin</p>            </div>
          </article>
        </div>


        <!-- new article -->
        <div class="card blog-card">
          <article class="card-body">
            <a href="/2021/stdout-021"  rel="bookmark" >
              <h2 class="card-title">Python 3.X ctypes å’Œ greenlet size changed å‘ä¸‰åˆ™</h2>
            </a>
            <p class="card-text"><h3>å®‰è£… setup.py çš„æ—¶å€™ <code>No module named '_ctypes'</code> æŠ¥é”™</h3>
<pre><code>  Traceback (most recent call last):
    File &quot;&lt;string&gt;&quot;, line 1, in &lt;module&gt;
    File &quot;/usr/local/python3/lib/python3.9/site-packages/setuptools/__init__.py&quot;, line 18, in &lt;module&gt;
      from setuptools.dist import Distribution
    File &quot;/usr/local/python3/lib/python3.9/site-packages/setuptools/dist.py&quot;, line 34, in &lt;module&gt;
      from setuptools import windows_support
    File &quot;/usr/local/python3/lib/python3.9/site-packages/setuptools/windows_support.py&quot;, line 2, in &lt;module&gt;
      import ctypes
    File &quot;/usr/local/python3/lib/python3.9/ctypes/__init__.py&quot;, line 8, in &lt;module&gt;
      from _ctypes import Union, Structure, Array
  ModuleNotFoundError: No module named '_ctypes'
</code></pre>
<p>è§£å†³åŠæ³•æ˜¯ä¸è¦ç”¨ 3.9ã€‚</p>
<p>å¦‚æœå®åœ¨è¦ç”¨ï¼Œåˆ™è‡ªå·±ç¼–è¯‘å‰éœ€è¦åŠ ä¸Š <code>yum install libffi-devel</code> æˆ–è€… <code>sudo apt-get install libffi-dev</code></p>
<p>æ¥è‡ª<a href="https://stackoverflow.com/a/48045929">SO</a></p>
<h3><code>greenlet.greenlet size changed</code> ç„¶åå‡ºé”™</h3>
<pre><code>/usr/local/lib/python3.7/importlib/_bootstrap.py:219: RuntimeWarning: greenlet.greenlet size changed, may indicate binary incompatibility. Expected 144 from C header, got 152 from PyObject
  return f(*args, **kwds)
/usr/local/lib/python3.7/importlib/_bootstrap.py:219: RuntimeWarning: greenlet.greenlet size changed, may indicate binary incompatibility. Expected 144 from C header, got 152 from PyObject
  return f(*args, **kwds)

Segmentation fault (core dumped)
</code></pre>
<p>è¿™ä¸ªæ‘˜è‡ª<a href="https://github.com/gevent/gevent/issues/1260">å®˜æ–¹ iseue</a></p>
<blockquote>
<p>On Python 3.7 and higher, gevent 20.9.0 is required to use (a standard build of) greenlet 0.4.17.</p>
</blockquote>
<p>è§£å†³åŠæ³•ï¼š<code>pip install gevent==20.9.0 pip install greenlet==0.4.17</code></p>
<h3>SQLAlchemy 1.4 å¤§æˆ˜ greenlet 0.4.17</h3>
<p>è§ <a href="https://docs.sqlalchemy.org/en/14/changelog/changelog_14.html#change-12b8eb8e600cc32590b51d0087552191">sqlalchemy changelog</a></p>
<blockquote>
<p>to accommodate for the handling of Python contextvars (introduced in Python 3.7) for greenlet versions greater than 0.4.17. Greenlet version 0.4.17 added automatic handling of contextvars in a backwards-incompatible way; weâ€™ve coordinated with the greenlet authors to add a preferred API for this in versions subsequent to 0.4.17 which is now supported by SQLAlchemyâ€™s greenlet integration. For greenlet versions prior to 0.4.17 no behavioral change is needed, version 0.4.17 itself is blocked from the dependencies.</p>
</blockquote>
<p>ç„¶åå°±ç›´æ¥åœ¨ <a href="https://github.com/sqlalchemy/sqlalchemy/blob/703ff387c13f083ed0982071963155d679c862ab/setup.cfg#L42">setup.cfgé‡Œ</a> ç»™ <code>greenlet != 0.4.17</code>äº†ã€‚</p>
<p>ç¥ä»™æ‰“æ¶ï¼Œä¸å¬ä¸å¬ï¼Œå’Œå°šå¿µç»ï¼Œæœæ–­ <code>sqlalchemy==1.3.24</code> é™çº§ã€‚</p></p>
            <div class="card-subtext muted-text">
              <p>Posted <time datetime="2021-12-01T17:41:32+08:00">2021-12-01</time></p>
<p>stdout</p>            </div>
          </article>
        </div>


        <!-- new article -->
        <div class="card blog-card">
          <article class="card-body">
            <a href="/2021/stdout-020"  rel="bookmark" >
              <h2 class="card-title">Edgeè°ƒæ•™æŒ‡å—â€”â€”å¦‚ä½•è®¾ç½®æœ¬åœ°PACä»£ç†å’Œé¦–é¡µå¤©æ°”</h2>
            </a>
            <p class="card-text"><p>ä¹‹å‰ä¸€ç›´ç”¨çš„chrome v70ï¼Œä¸ºä»€ä¹ˆå‘¢ï¼Ÿ</p>
<p>ç¬¬ä¸€æ˜¯è¿™ä¸ªè€ç‰ˆæœ¬å…è®¸ <code>--proxy-pac-url="file:///Users/me/1.pac</code> è¿™æ ·è®¾ç½®ï¼Œä½†æ˜¯<a href="https://bugs.chromium.org/p/chromium/issues/detail?id=839566">Chromiumé¡¹ç›®çš„å¤§çˆ·ä»¬è§‰å¾—</a>ä½ æœ¬åœ°çš„.pacä¸å¤Ÿå®‰å…¨ï¼Œè¦ç½‘ä¸Šçš„.pacæ‰å®‰å…¨ï¼Œæ‰€ä»¥ä¸€åˆ€åˆ‡ç»™ç¦äº†ã€‚å½“ç„¶æœ‰çƒ­å¿ƒäººå£«è§‰å¾—è¿™æ²¡å•¥å¤§ä¸äº†çš„ã€‚ä¸å¤–ä¹è£…ä¸ªæ’ä»¶å°±å¯ä»¥åˆ‡PACã€‚ä½†æ˜¯chromeæ’ä»¶å…¶å®ä¼šæœ‰ä¸€ä¸ªfingerprintã€‚Extensionä¸€å¯ç”¨ï¼Œéš”å£è€ç‹éƒ½çŸ¥é“ä½ å¼€ä»£ç†äº†ã€‚</p>
<p>ç¬¬äºŒï¼Œä¹Ÿæ˜¯æœ€é‡è¦çš„åŸå› ï¼Œè¿™æ˜¯æœ€åä¸€ä¸ªchromeç‰ˆæœ¬æ”¯æŒ <code>about://net-internals</code> åœ¨æœ¬åœ°æŸ¥çœ‹æµè§ˆå™¨åº•å±‚ç½‘ç»œè¯·æ±‚ã€‚ç°åœ¨æ— è®ºæ˜¯ Edge è¿˜æ˜¯ Chrome éƒ½å¿…é¡»æŠŠ .json æ–‡ä»¶ä» https://netlog-viewer.appspot.com/ åŠ è½½æ‰èƒ½çœ‹äº†ã€‚å¾ˆå°¼ç›ä¿æŠ¤äº†éšç§æœ‰æ²¡æœ‰å•Šã€‚</p>
<p>ä½†æ˜¯åšæŒè€ç‰ˆæœ¬ï¼Œä¹Ÿä»˜å‡ºäº†å·¨å¤§çš„ä»£ä»·ã€‚å¾ˆå¤šæ–°çš„ ES è¯­æ³•ä¸æ”¯æŒï¼Œæ¯”å¦‚è¯´ Grafana æœ€æ–°ç‰ˆ login éƒ½è¿›ä¸å»ã€‚è¿™å°±å°´å°¬äº†ã€‚åªèƒ½è¢«è‡ªæ„¿å‡çº§äº†ã€‚</p>
<p>æ—¢ç„¶å‡çº§æ˜¯å¿…é€‰é¡¹ï¼Œé‚£ä¹ˆå°±æ¢ Edge è¯•è¯•ã€‚</p>
<p>ç¬¬ä¸€å°±æ˜¯å¾—è§£å†³è¿™ä¸ªæœ¬åœ° .pac é—®é¢˜ï¼Œå…¶å®ä»ä¸Šé¢ç¬¬äºŒä¸ªå·¥å…·é‡Œæ‰èƒ½çŸ¥é“ï¼ŒPACåŠ è½½å¤±è´¥æœ‰ä¸ªè¿”å› <code>ERR_DISALLOWED_URL_SCHEME</code>ã€‚stackoverflow ä¸Šæ‰¾åˆ°ä¸ªå¥‡æŠ€æ·«å·§</p>
<p><code>open "/Applications/Microsoft Edge.app" --args --proxy-pac-url='data:application/x-javascript-config;base64,'$(base64 -i /Users/me/2.pac)</code></p>
<p>è¿˜èƒ½è¿™æ ·ç©ï¼ŸåŒå‡»666ã€‚</p>
<p>ç¬¬äºŒä¸ªæŠŠè¯¥ç¦ç”¨çš„ç¦ç”¨äº†ï¼Œé¦–é¡µåªç•™ä¸€ä¸ªæœç´¢æ¡†ä¸€ä¸ªå¤©æ°”ã€‚ä½†æ˜¯è¿™å¤©æ°”å°±ç‰¹ä¹ˆå®šä½åˆ°å¡å¿äº†ã€‚è€Œä¸”ä¸‹æ‹‰æ¡†ç‚¹ä¸å‡ºæ¥å•Šã€‚F12æ‰“å¼€ devtool ä¸€çœ‹ï¼Œæˆ‘å°¼ç›å¥½å®¶ä¼™ <code>https://www.bing.com/api/v6/Places/AutoSuggest</code> è¢« Bing China çš„ç½‘ç®¡ç»™ä¸€æŠŠæ¢­302åˆ° <code>https://cn.bing.com/api/v6/Places/AutoSuggest</code> äº†ã€‚ç„¶åå°±ç‰¹ä¹ˆ CORS ç»™æ‹¦æˆªï¼Œjsè¯»å–ä¸åˆ°åˆ—è¡¨ã€‚ã€‚ã€‚</p>
<p>æœ€åæ€ä¹ˆåŠï¼Ÿç‚¹é‚£ä¸ªå¤©æ°”å›¾æ ‡ï¼Œè¿›å…¥åˆ° <code>https://www.msn.com/en-sg/weather/today/weather-today/we-city</code></p>
<p>ç„¶åæ‰¾é‚£ä¸ªåœ°å›¾ï¼Œæ‰‹åŠ¨é€‰æ‹©è‡ªå·±æ‰€åœ¨åŸå¸‚ï¼Œè®¾ç½®ä¸º Home ã€‚ç­‰ cookie å†™å…¥ç”Ÿæ•ˆäº†ï¼Œæ‰“å¼€edgeæ–°tabå°±okäº†</p>
<p>è¿™å¹´å¤´ä¸Šä¸ªç½‘çœŸé¸¡å„¿ç´¯ã€‚</p>
<p>btw è®¾ç½®M$è´¦å·åŒæ­¥çš„æ—¶å€™ï¼Œå‘ç°è´¦å·æ‰€åœ¨å›½å®¶å¯ä»¥é€‰å¾ˆå¤šä¸æ˜¯å›½å®¶çš„åœ°æ–¹ï¼Œä½†æ˜¯æ—¶åŒºå°±ä¸èƒ½éšä¾¿é€‰äº†ã€‚F12æ”¹äº†ä¹Ÿæ²¡ç”¨ã€‚å¾®è½¯çš„åå°å¼€å‘åšçš„è¿‡æ»¤è¿˜æŒºç»†è‡´çš„ã€‚</p>
<p>btw2 å‘ç°ä¸€ä¸ªå¾ˆå¹²å‡€çš„å¯åŠ¨é¡µï¼š <code>chrome-search://local-ntp/local-ntp.html</code> æˆ–è€…ç›´æ¥åœ¨ <code>hosts</code> é‡ŒæŠŠ ntp.msn.com å¹²æ‰ï¼Œæœ‰å¥‡æ•ˆã€‚</p></p>
            <div class="card-subtext muted-text">
              <p>Posted <time datetime="2021-11-30T11:32:33+08:00">2021-11-30</time></p>
<p>stdout</p>            </div>
          </article>
        </div>


        <!-- new article -->
        <div class="card blog-card">
          <article class="card-body">
            <a href="/2021/stdin-015"  rel="bookmark" >
              <h2 class="card-title">çƒ§è„‘ä¸¤é¢˜ï¼šèš‚èšå’Œæ©¡çš®ç­‹ï¼Œ30ä¸‡å…¬é‡Œçš„ç”µè·¯</h2>
            </a>
            <p class="card-text"><p>ä»Šå¤©é‡åˆ°çš„ä¸¤é“é¢˜ï¼š</p>
<ol>
<li>ä¸€åªèš‚èšç«™åœ¨é™æ­¢ä¸åŠ¨çš„ä¸€ç±³é•¿çš„æ©¡çš®ç­‹çš„å·¦è¾¹ç«¯ç‚¹å¼€å§‹å‘å³è¾¹çˆ¬ï¼Œçˆ¬è¡Œé€Ÿåº¦æ˜¯æ¯ç§’ä¸€å˜ç±³ã€‚ç°åœ¨å›ºå®šæ©¡çš®ç­‹çš„å·¦ç«¯ç‚¹ï¼Œæ‹‰ä¼¸æ©¡çš®ç­‹ä½¿ä¹‹ä»¥æ¯ç§’ä¸€å˜ç±³çš„é€Ÿåº¦ä¼¸é•¿ï¼Œèš‚èšä»ç„¶æ˜¯ä»¥ä¹‹å‰çš„é€Ÿåº¦å‘å³çˆ¬ï¼Œè¯•é—®èš‚èšèƒ½å¦çˆ¬åˆ°æ©¡çš®ç­‹å³ç«¯ç‚¹ï¼Ÿå‡è®¾æ©¡çš®ç­‹å¯ä»¥æ‹‰æ— é™é•¿ï¼Œæ±‚èš‚èšæ˜¯å¦èƒ½è¿½ä¸Šæ©¡çš®ç­‹ï¼Œè¿½ä¸ä¸Šçš„è¯ä¸¤è€…å·®å¤šå°‘ï¼Ÿ</li>
</ol>
<p>è§£ç­”æ²¡é‚£ä¹ˆå®¹æ˜“ï¼Œè§ zhihu å›ç­”<a href="https://www.zhihu.com/question/440130887">1</a>, <a href="https://www.zhihu.com/question/33093421">2</a></p>
<ol start="2">
<li>å¦‚æœé•¿ä¸€å…‰ç§’ï¼Œå®½1ç±³çš„é•¿æ–¹å½¢ç”µè·¯ï¼Œå¿½ç•¥å¯¼çº¿çš„ç”µé˜»ï¼Œé‚£ä¹ˆæ‰“å¼€å¼€å…³åç¯æ³¡è¦å¤šä¹…æ‰é€šç”µï¼Ÿ</li>
</ol>
<p><img alt="" src="/images/2021/stdin-015-1.jpg" /></p>
<p>ç­”æ¡ˆæ¥è‡ª<a href="https://www.youtube.com/watch?v=bHIhgxav9LY">è§†é¢‘</a>ï¼Œä¸»è¦è®²äº†ä¸€é€š å¡å°å»·çŸ¢é‡ çš„é“ç†ã€‚ã€‚ã€‚å›§</p></p>
            <div class="card-subtext muted-text">
              <p>Posted <time datetime="2021-11-22T22:41:10+08:00">2021-11-22</time></p>
<p>stdin</p>            </div>
          </article>
        </div>


        <!-- new article -->
        <div class="card blog-card">
          <article class="card-body">
            <a href="/2021/stdout-019"  rel="bookmark" >
              <h2 class="card-title">TiDBä¸æ”¯æŒJSONå­—æ®µé»˜è®¤å€¼</h2>
            </a>
            <p class="card-text"><p>ç»§å‰é¢çš„<a href="/2021/stdout-011">æ—¥æœŸä¸å…¼å®¹</a>å‘ï¼Œåˆå‘ç°<a href="https://docs.pingcap.com/tidb/stable/data-type-default-values">ä¸€ä¸ª</a></p>
<blockquote>
<p>The BLOB, TEXT, and JSON columns cannot be assigned a default value.</p>
</blockquote>
<p>è™½ç„¶ <a href="https://dev.mysql.com/doc/refman/5.7/en/json.html">MySQL 5.7 ä¹Ÿæ˜¯è¿™ä¹ˆè¯´</a>çš„ï¼š</p>
<blockquote>
<p>A JSON column cannot have a non-NULL default value.</p>
</blockquote>
<p>ä½†æ˜¯ <a href="https://dev.mysql.com/doc/refman/8.0/en/data-type-defaults.html">MySQL 8.0.13 å°±æ”¯æŒæŒ‡å®šé»˜è®¤å€¼</a>äº†</p>
<blockquote>
<p>Prior to MySQL 8.0.13, a JSON column cannot have a non-NULL default value.<br />
The default value specified in a DEFAULT clause can be a literal constant or an expression. With one exception, enclose expression default values within parentheses to distinguish them from literal constant default values. Examples:</p>
</blockquote>
<p>è™½ç„¶è¯­æ³•å¾ˆä¸‘ä½†æ˜¯å¾ˆå®ç”¨å•Šã€‚</p>
<p>æ‰€ä»¥è¿™ç§è¯­å¥</p>
<pre><code>  ALTER TABLE mytable MODIFY COLUMN my_json JSON DEFAULT (json_object());
</code></pre>
<p>åœ¨ TiDB é‡Œå°±æ²¡æ³•æ”¯æŒã€‚è¿™ä¹Ÿå¸¦æ¥ä¸€ä¸ªé—®é¢˜ï¼Œå°±æ˜¯è¦ upsert è¿™ä¸ª å­—æ®µçš„æ—¶å€™ï¼Œå†™èµ·æ¥å°±å¾ˆæ‹§å·´ï¼Œä»¥ <code>peewee</code> è¿™ä¸ªORMä¸ºä¾‹ï¼š</p>
<pre><code>  MyTable.update({
      'my_json' = fn.json_set(
          fn.COALESCE(MyTable.my_json, Cast('{}', 'JSON')),
          '%.some_key', 'some_value',
  )})
</code></pre>
<p>å¿…é¡»ç”¨ COALESCE é¢„é˜²é»˜è®¤å€¼ä¸º <code>NULL</code> çš„æƒ…å†µã€‚å¤ªéº»çƒ¦äº†ã€‚</p>
<p>btw ç©MySQL/TiDBçš„ JSON æœ‰ä¸ªå‘çš„ï¼Œé‚£å°±æ˜¯ json çš„ <code>null</code> æ˜¯æœ‰å€¼çš„ï¼Œå’Œ sql çš„ <code>NULL</code> æ˜¯ä¸åŒçš„ã€‚</p>
<p>ä¹Ÿå°±æ˜¯è¯´</p>
<pre><code>  select json_extract('{}', '$.hey') IS NULL;
  select json_extract('{"hey": null}', '$.hey') = Cast('null' as JSON);
</code></pre>
<p>è¦æ³¨æ„ã€‚</p>
<p>btw2 MySQLçš„JSONæ•°æ®æŠ½å– <code>-&gt;&gt;</code> æ˜¯è¿”å›çœŸæ­£çš„å€¼ï¼Œç­‰ä»·äºTiDBé‡Œçš„ json_unquote(json_extract(t.json_field, '$.key1.key2'))</p></p>
            <div class="card-subtext muted-text">
              <p>Posted <time datetime="2021-11-19T09:14:28+08:00">2021-11-19</time></p>
<p>stdout</p>            </div>
          </article>
        </div>


        <!-- new article -->
        <div class="card blog-card">
          <article class="card-body">
            <a href="/2021/stdin-014"  rel="bookmark" >
              <h2 class="card-title">æ€•å­¦ç”Ÿä¼šçœ‹HTMLæºç é‡Œçš„ç­”æ¡ˆï¼ŒChromeå…è®¸ç½‘ç®¡ç¦æ­¢æŸ¥çœ‹ç‰¹å®šç½‘ç«™æºç </h2>
            </a>
            <p class="card-text"><p>çœ‹åˆ°ä¸€ä¸ª<a href="https://bugs.chromium.org/p/chromium/issues/detail?id=895462">å¥‡è‘©issue</a></p>
<blockquote>
<p>With "view-source" in the URLBlacklist, the view-source:http://[URL] should not be available.  With Schools using Google Forms as a testing platform, students are able to use this shortcut to search through the source of the page, and determine the correct answers.</p>
</blockquote>
<p>ç„¶å Google Chrome å°±çœŸçš„æ”¹äº†ã€‚ã€‚ã€‚</p>
<p>https://chromium-review.googlesource.com/c/chromium/src/+/3260807</p>
<p>Google æ˜¯å¼€å‘äººå‘˜å¤ªå¯Œä½™äº†ã€‚è¿™ç§é—®æéƒ½è¦é€šè¿‡å‡çº§æµè§ˆå™¨è§£å†³ï¼Ÿ</p>
<p>è®©äººæƒ³èµ·äº†å‰å‡ å¤©çš„<a href="https://www.theverge.com/2021/10/14/22726866/missouri-governor-department-elementary-secondary-education-ssn-vulnerability-disclosure">å¯†è‹é‡Œå·çš„æŸ¥çœ‹HTMLæºç åˆ‘äº‹è¯‰è®¼</a></p>
<blockquote>
<p>ä¸€åè®°è€…å¶ç„¶å‘ç°ï¼Œå¯†è‹é‡Œå·å®˜æ–¹æ•™å¸ˆèµ„æ ¼è¯æŸ¥è¯¢ç½‘ç«™ï¼Œå­˜åœ¨ä¸¥é‡çš„ç³»ç»Ÿå®‰å…¨æ¼æ´ã€‚ä»…ä»…é€šè¿‡æŸ¥çœ‹ç½‘é¡µHTMLæºä»£ç ï¼Œå°±èƒ½è·å–æ•™å¸ˆçš„èº«ä»½è¯å·ç ä¿¡æ¯ã€‚äºæ˜¯ï¼Œä»–å‘æ”¿åºœæ•™è‚²éƒ¨é—¨æŠ¥å‘Šäº†è¿™ä¸ªé—®é¢˜ã€‚ç„¶è€Œä¸¤å¤©åï¼Œå…ˆäºæ¼æ´ä¿®å¤åˆ°æ¥çš„ï¼Œæ˜¯å·é•¿å³å°†å¯¹ä»–å‘èµ·åˆ‘äº‹èµ·è¯‰ã€‚â€œæ”¿åºœä¸ä¼šæ‰ä»¥è½»å¿ƒï¼Œâ€å·é•¿Mike Parsonåœ¨å‘¨å››çš„æ–°é—»å‘å¸ƒä¼šä¸Šå‘è¨€ï¼Œâ€œæœ¬å±Šæ”¿åºœç»ä¸å§‘æ¯ä»»ä½•è¯•å›¾çªƒå–ä¸ªäººä¿¡æ¯å¹¶ä¼šé€ æˆå¨èƒçš„ä½œæ¶è€…ã€‚â€</p>
</blockquote>
<p><a href="https://news.ycombinator.com/item?id=29170886">via</a></p></p>
            <div class="card-subtext muted-text">
              <p>Posted <time datetime="2021-11-10T13:35:30+08:00">2021-11-10</time></p>
<p>stdin</p>            </div>
          </article>
        </div>


        <!-- new article -->
        <div class="card blog-card">
          <article class="card-body">
            <a href="/2021/stdin-013"  rel="bookmark" >
              <h2 class="card-title">PCR testing site under the fireworks from Disney castle</h2>
            </a>
            <p class="card-text"><p>One of the most astonishing views from end of the year.</p>
<video src="/images/2021/stdin-013-1.mp4" controls preload="metadata"></video>

<p>From the evening of <a href="https://m.weibo.cn/detail/4698502573853047">31th Oct, Shanghai Disneyland</a></p></p>
            <div class="card-subtext muted-text">
              <p>Posted <time datetime="2021-11-08T22:28:06+08:00">2021-11-08</time></p>
<p>stdin</p>            </div>
          </article>
        </div>


        <!-- new article -->
        <div class="card blog-card">
          <article class="card-body">
            <a href="/2021/stdout-016"  rel="bookmark" >
              <h2 class="card-title">Chrome æŒ‡å®šåŸŸåè§£æï¼Œç»•è¿‡ hosts</h2>
            </a>
            <p class="card-text"><p>çœ‹åˆ° <a href="https://www.v2ex.com/t/813626">Vç«™æœ‰äººé—®</a>è¿™ä¸ªï¼Œéšæ‰‹ä¸€è®°</p>
<p>å¯ä»¥å‚è€ƒ<a href="https://chromium.googlesource.com/chromium/src/+/refs/heads/main/components/network_session_configurator/common/network_switch_list.h">æºç é‡Œçš„æ³¨é‡Šæ–‡æ¡£</a></p>
<h2>--host-resolver-rules=rules</h2>
<p>Like <code>--host-rules</code> but these rules only apply to the host resolver.<br />
A comma-separated list of rules that control how hostnames are mapped.<br />
For example:<br />
- <code>MAP * 127.0.0.1</code> Forces all hostnames to be mapped to <code>127.0.0.1</code><br />
- <code>MAP *.google.com proxy</code> Forces all google.com subdomains to be resolved to <code>proxy</code>.<br />
- <code>MAP test.com [::1]:77</code> Forces <code>test.com</code> to resolve to IPv6 loopback. Will also force the port of the resulting socket address to be 77.<br />
- <code>MAP * baz, EXCLUDE www.google.com</code> Remaps everything to <code>baz</code>, except for <code>www.google.com</code>.</p>
<p>These mappings apply to the endpoint host in a net request (the TCP connect and host resolver in a direct connection, and the CONNECT in an HTTP proxy connection, and the endpoint host in a SOCKS proxy connection).</p>
<p>å®˜æ–¹æ–‡æ¡£æœ‰è¯­ç„‰ä¸è¯¦çš„æåˆ°è¿‡</p>
<p>https://chromium.googlesource.com/chromium/src/+/refs/heads/main/net/dns/README.md</p>
<blockquote>
<p>Starting Chrome with --host-resolver-rules="MAP the.hostname.com [dead::beef]" where the.hostname.com is the hostname to allow resolving and dead::beef is the IPv6 address to resolve it to. net::MappedHostResolver acts at a level before IPv6 connectivity checks, and if a hostname is remapped to an IP literal, connectivity checks do not apply.</p>
</blockquote>
<p>è¿˜æœ‰å¾ˆå¤š <a href="https://chromium.googlesource.com/chromium/src/+/HEAD/net/docs/proxy.md">proxyçš„å‚æ•°</a></p>
<h2>curl çš„å‚æ•°</h2>
<p>ä¹Ÿé¡ºä¾¿è´´ä¸€ä¸‹ã€‚è°ƒè¯•çš„æ—¶å€™ç”¨å¾—ä¸Š</p>
<p>å‚æ•°ï¼š</p>
<ul>
<li><code>-4</code>, <code>--ipv4</code></li>
<li><code>-6</code>, <code>--ipv6</code></li>
<li><code>--dns-interface &lt;interface&gt;</code></li>
<li><code>--dns-ipv4-addr &lt;ip-address&gt;</code> Tell curl to bind to <code>&lt;ip-address&gt;</code> when making IPv4 DNS requests</li>
<li><code>--dns-ipv6-addr &lt;ip-address&gt;</code> Tell curl to bind to <code>&lt;ip-address&gt;</code> when making IPv6 DNS requests</li>
<li><code>--dns-servers &lt;ip-address,ip-address&gt;</code> Set the list of DNS servers to be used instead of the system default. The  list  of  IP  addresses should  be  separated  with commas. Port numbers may also optionally be given as <code>:&lt;port-number&gt;</code> after each IP address.</li>
<li><code>--resolve &lt;host:port:address&gt;</code> Make the curl requests(s) use a specified address and prevent the otherwise normally resolved address to  be  used. Consider  it a sort of /etc/hosts alternative provided on the command line. The port number should be the number used for the specific protocol the host will be  used  for.  It  means  you  need  several entries if you want to provide address for the same host but different ports. This option can be used many times to add many host names to resolve. (Added in 7.21.3)</li>
</ul>
<p>æœ€åä¸€ä¸ªå¾ˆæœ‰ç”¨ ğŸ˜¹</p></p>
            <div class="card-subtext muted-text">
              <p>Posted <time datetime="2021-11-07T16:01:19+08:00">2021-11-07</time></p>
<p>stdout</p>            </div>
          </article>
        </div>


        <!-- new article -->
        <div class="card blog-card">
          <article class="card-body">
            <a href="/2021/stdout-017"  rel="bookmark" >
              <h2 class="card-title">reverse proxy FastCGI (fcgi) with uWSGI</h2>
            </a>
            <p class="card-text"><p>People are still using FastCGI, and it's hard. I used uWSGI to convert FCGI traffic to regular http/1.0 so I can keep my existing http service running without apache mod_fcgi shit.</p>
<h2>CGI environ variables</h2>
<p>This is some ancient knowledge, better keep them noted</p>
<table>
<thead>
<tr>
<th>KEY</th>
<th>description</th>
</tr>
</thead>
<tbody>
<tr>
<td>AUTH_TYPE</td>
<td>ignore this</td>
</tr>
<tr>
<td>REMOTE_IDENT</td>
<td>The user making the request.</td>
</tr>
<tr>
<td>REMOTE_USER</td>
<td>The authenticated name of the user making the query.</td>
</tr>
<tr>
<td>CONTENT_LENGTH</td>
<td>byte length of body</td>
</tr>
<tr>
<td>CONTENT_TYPE</td>
<td>MIME such as text/html, without the charset shit</td>
</tr>
<tr>
<td>DOCUMENT_ROOT</td>
<td>NEW. The directory from which web documents are served.</td>
</tr>
<tr>
<td>REQUEST_URI</td>
<td>NEW. confusing shit similar with PATH_INFO</td>
</tr>
<tr>
<td>HTTP_*</td>
<td>HTTP headers</td>
</tr>
<tr>
<td>PATH_INFO</td>
<td>like /a/b/c</td>
</tr>
<tr>
<td>PATH_TRANSLATED</td>
<td>not really used</td>
</tr>
<tr>
<td>QUERY_STRING</td>
<td>the part after ? in an URL</td>
</tr>
<tr>
<td>REMOTE_ADDR</td>
<td>client IP</td>
</tr>
<tr>
<td>REMOTE_HOST</td>
<td>client host name by lookup ip</td>
</tr>
<tr>
<td>REQUEST_METHOD</td>
<td>GET/POST</td>
</tr>
<tr>
<td>SCRIPT_NAME</td>
<td>The virtual path (e.g., /cgi-bin/program.pl) of the script being executed.</td>
</tr>
<tr>
<td>SCRIPT_FILENAME</td>
<td>confusing shit similar with SCRIPT_NAME</td>
</tr>
<tr>
<td>SERVER_NAME</td>
<td>The server's hostname or IP address.</td>
</tr>
<tr>
<td>SERVER_PORT</td>
<td>The port number of the host on which the server is running.</td>
</tr>
<tr>
<td>SERVER_PROTOCOL</td>
<td>The name and revision number of the server protocol.</td>
</tr>
</tbody>
</table>
<h2>reverse proxy FastCGI with uWSGI</h2>
<p>slap this into <code>my_conf.ini</code></p>
<pre><code>  [uwsgi]
  my_port = 9000  # can be set otherwise
  route-run = addvar:SERVER_NAME=%h
  route-run = addvar:SERVER_PORT=%(my_port)
  route-if  = empty:${REQUEST_METHOD} addvar:REQUEST_METHOD=GET
  route-if  = empty:${HTTP_HOST} addvar:HTTP_HOST=%h:%(my_port)
  route-run = seturi:/fcgi-proxy${PATH_INFO}
  route-run = http:127.0.0.1:9527
  fastcgi-socket = 0.0.0.0:%(my_port)
  http-socket = 0.0.0.0:8000  # for testing purpose.
</code></pre>
<p>Install uWSGI, install the binary from pypi wheels instead of compiling uwsgi.c shit</p>
<pre><code>  pip install pyuwsgi
</code></pre>
<p>Run it</p>
<pre><code>  uwsgi --ini my_conf.ini
</code></pre>
<p>Now you can run your regular http service behind <code>127.0.0.1:9527</code>, while serving fcgi on <code>127.0.0.1:9000</code></p>
<p>Requests like <code>fcgi://127.0.0.1:9000/hello</code> will be fowwarded to <code>http://127.0.0.1:9527/fcgi-proxy/hello</code></p>
<p>You may ask why adding a <code>/fcgi-proxy</code> in path? Because there's a gotcha.</p>
<h2>fuckedup FastCGI requests</h2>
<p>Learned this from some php-fpm tutorial, first install the standard fcgi client tool because <code>curl</code> doesn't speak fcgi.</p>
<pre><code>  apt-get install libfcgi0ldbl
  yum --enablerepo=epel install fcgi
  SCRIPT_NAME=/ping SCRIPT_FILENAME=/ping REQUEST_METHOD=GET cgi-fcgi -bind -connect 127.0.0.1:9000
</code></pre>
<p>You can observe from uWSGI logs that <code>cgi-fcgi</code> command sends flawed requests, the <code>PATH_INFO</code> was unset.</p>
<p>After hours wasted, I came up with a clever hack to force uWSGI's internal router to force <code>seturi</code> with a path prefix</p>
<h2>ToDo</h2>
<p>There are further problems that can be improved, for example, my http service is running <code>uvicorn</code>, it can not guess the client ip:port infor from its stupid <code>get_remote_addr</code></p>
<p>what's worse, the uWSGI <code>addheader</code> directive are for <em>responses</em>, so I can't add <em>request</em> headers like <code>x-forwared-for</code>.</p>
<p>Also the reverse proxy is HTTP/1.0 only. to make the <code>Connection: Keep-alive</code> happen needs some further investigation.</p>
<h2>Q&amp;A</h2>
<p>Thanks for reading my shitpost. Questions?</p></p>
            <div class="card-subtext muted-text">
              <p>Posted <time datetime="2021-11-05T18:12:45+08:00">2021-11-05</time></p>
<p>stdout</p>            </div>
          </article>
        </div>


        <!-- new article -->
        <div class="card blog-card">
          <article class="card-body">
            <a href="/2021/stdin-012"  rel="bookmark" >
              <h2 class="card-title">20211102å¸åœˆçš„å¤è¯—è¯å¤§ä¼š</h2>
            </a>
            <p class="card-text"><p>ç¬¬ä¸€ä¸ªæ˜¯ Elon Musk çš„</p>
<p><a href="https://twitter.com/elonmusk/status/1455327010302087173">https://twitter.com/elonmusk/status/1455327010302087173</a></p>
<div style="
    font-family: Baskerville, Georgia, &quot;Liberation Serif&quot;, &quot;Kaiti SC&quot;, STKaiti, &quot;AR PL UKai CN&quot;, &quot;AR PL UKai HK&quot;, &quot;AR PL UKai TW&quot;, &quot;AR PL UKai TW MBE&quot;, &quot;AR PL KaitiM GB&quot;, KaiTi, KaiTi_GB2312, DFKai-SB, &quot;TW\-Kai&quot;, serif;
    writing-mode: vertical-rl;
    width: 100%;
    word-break: break-all;
    white-space: pre;
    text-spacing: ideograph-alpha;
    border-right: 0.2em solid #e00711;
    text-align: justify;
    text-justify: inter-ideograph;
">
Humankind
ç…®è±†ç‡ƒè±†è
è±†åœ¨é‡œä¸­æ³£
æœ¬æ˜¯åŒæ ¹ç”Ÿ
ç›¸ç…ä½•å¤ªæ€¥
</div>

<p>Shiba å¤§æˆ˜ Dogecoinï¼Œç„¶åSpaceX å¤§æˆ˜ Blue Originï¼Œç„¶åæ€¼ WFP David Beasleyã€‚</p>
<p>æˆ‘è§‰å¾— DeepL <a href="https://twitter.com/i/web/status/1455328151941353475">ç¿»è¯‘</a>å¾—çœŸå¥½ï¼</p>
<p><img alt="" src="/images/2021/stdin-012-1.jpg" /></p>
<p>å½“ç„¶ä¹Ÿæœ‰<a href="https://www.chinanews.com/gn/cns60/news/89.shtml">é•¿è€…çš„</a>ï¼Œå¾®åšä¸Šæœ‰ä¸ª å¤§å¼Ÿå­Leo æ‰¾åˆ°äº†è§†é¢‘ï¼Œçœ‹æ°´å°æ˜¯ AP çš„ï¼Œæˆ‘å»æœäº†ä¸‹å‘ç°çœŸçš„æœ‰ <a href="https://youtu.be/oSG01RUdUUg?t=71">https://youtu.be/oSG01RUdUUg?t=71</a></p>
<p>ç„¶åå­¦ä¹ äº†ä¸€ä¸‹ï¼Œè¿™é¦–è¯—åŸæ¥æ˜¯å…­å¥ï¼Œæœ€æ—©å‡ºç°åœ¨å—åŒ—æœåˆ˜å®‹çš„ã€Šä¸–è¯´æ–°è¯­ã€‹ï¼š</p>
<div style="
    font-family: Baskerville, Georgia, &quot;Liberation Serif&quot;, &quot;Kaiti SC&quot;, STKaiti, &quot;AR PL UKai CN&quot;, &quot;AR PL UKai HK&quot;, &quot;AR PL UKai TW&quot;, &quot;AR PL UKai TW MBE&quot;, &quot;AR PL KaitiM GB&quot;, KaiTi, KaiTi_GB2312, DFKai-SB, &quot;TW\-Kai&quot;, serif;
    writing-mode: vertical-rl;
    width: 100%;
    word-break: break-all;
    white-space: pre;
    text-spacing: ideograph-alpha;
    border-right: 0.2em solid #e00711;
    text-align: justify;
    text-justify: inter-ideograph;
">
ç…®è±†æŒä½œç¾¹ï¼Œ
æ¼‰è½ä»¥ç‚ºæ±ã€‚
èåœ¨é‡œä¸‹ç‡ƒï¼Œ
è±†åœ¨é‡œä¸­æ³£ã€‚
æœ¬è‡ªåŒæ ¹ç”Ÿï¼Œ
ç›¸ç…ä½•å¤ªæ€¥ã€‚
</div>

<p>ç„¶åæ˜¯å¸åœˆçš„å¤§ä½¬ä»¬ç»§ç»­èƒŒè¯—</p>
<div style="
    font-family: Baskerville, Georgia, &quot;Liberation Serif&quot;, &quot;Kaiti SC&quot;, STKaiti, &quot;AR PL UKai CN&quot;, &quot;AR PL UKai HK&quot;, &quot;AR PL UKai TW&quot;, &quot;AR PL UKai TW MBE&quot;, &quot;AR PL KaitiM GB&quot;, KaiTi, KaiTi_GB2312, DFKai-SB, &quot;TW\-Kai&quot;, serif;
    writing-mode: vertical-rl;
    width: 100%;
    word-break: break-all;
    white-space: pre;
    text-spacing: ideograph-alpha;
    border-right: 0.2em solid #e00711;
    text-align: justify;
    text-justify: inter-ideograph;
">
åå¹´ç£¨ä¸€å‰‘
éœœåˆƒæœªæ›¾è¯•
ä»Šæ—¥æŠŠç¤ºå›
è°æœ‰ä¸å¹³äº‹
</div>

<p><a href="https://twitter.com/GMEdd/status/1455363193455452166">https://twitter.com/GMEdd/status/1455363193455452166</a></p>
<p><img alt="" src="/images/2021/stdin-012-2.jpg" /></p>
<p>çœŸæ˜¯ç–¯ç‹‚çš„ä¸€å¤©å•Šã€‚</p>
<p><a href="https://np.reddit.com/r/Superstonk/comments/qkug3o/umwhat/">via</a></p></p>
            <div class="card-subtext muted-text">
              <p>Posted <time datetime="2021-11-02T22:46:55+08:00">2021-11-02</time></p>
<p>stdin</p>            </div>
          </article>
        </div>

    </main>
    <nav class="pagination-nav side-padding">
<a href="/index.07.html" class="pagination-newer">&lt; Newer Posts</a><a href="/index.09.html" class="pagination-older">Older Posts &gt;</a>    </nav>


  </body>
</html>