<!DOCTYPE html>
<html>
  <head>
    <title>sshuttle is better ssh -D alternative - ğŸ‘â€ğŸ—¨ ğŸ’­ ğŸ’« ğŸ…±ã’</title>

    <meta charset="utf-8" />
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <link href="https://feeds.feedburner.com/initiative" type="application/rss+xml" rel="alternate" title="ğŸ‘â€ğŸ—¨ ğŸ’­ ğŸ’« ğŸ…±ã’ RSS Feed" />

    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="sshuttle is better ssh -D alternative" />

      <link rel="canonical" href="https://blog.est.im/archives/3875" />

    <link rel="stylesheet" href="/theme/css/normalize.min.css" />
    <link rel="stylesheet" href="/theme/css/style.css" />


    <style>
      body {
        background: #ecedef url("/theme/img/ignasi_pattern_s.png") repeat;
      }
    </style>
  </head>
  <body class="single-body">
<nav class="nav-bar side-padding">
  <h1 class="nav-header"><a href="/" class="nav-text">
    ğŸ‘â€ğŸ—¨ ğŸ’­ ğŸ’« ğŸ…±ã’
  </a></h1>
  <div class="hamburger-menu">
    <button onclick="hamburgerMenuPressed.call(this)" aria-haspopup="true" aria-expanded="false" aria-controls="menu" aria-label="Menu">
      <span></span>
      <span></span>
    </button>
    <ul id="menu" class="hamburger-menu-overlay">
      <li><a href="/" class="hamburger-menu-overlay-link">Home</a></li>
      <li><a href="https://feeds.feedburner.com/initiative" class="hamburger-menu-overlay-link">RSS</a></li>
      <li><a href="/about" class="hamburger-menu-overlay-link">About</a></li>

      <li><a href="/category/archive" class="hamburger-menu-overlay-link active">archive</a></li>
      <li><a href="/category/stderr" class="hamburger-menu-overlay-link">stderr</a></li>
      <li><a href="/category/stdin" class="hamburger-menu-overlay-link">stdin</a></li>
      <li><a href="/category/stdout" class="hamburger-menu-overlay-link">stdout</a></li>

    </ul>
  </div>
</nav>    <main class="content side-text-padding">


<article class="post">
  <header class="post-header">
    <h2 class="post-title">sshuttle is better ssh -D alternative</h2>
    <p class="post-date">Posted <time datetime="2011-04-05T05:24:36+08:00">2011-04-05</time> | <span>archive</span></p>
  </header>

  
  <p>ignwå¤§ç¥ä»¥å‰è¯´è¿‡sshå’Œopenvpnæ€§èƒ½ä¸è¡Œï¼Œæˆ‘å½“æ—¶è§‰å¾—å¦‚æœopenvpnèµ°tcpè¿æ¥çš„è¯ï¼Œéš§é“é‡Œçš„tcpçš„æ§åˆ¶å’Œé‡å‘å²‚ä¸æ˜¯å°±æ²¡ç”¨äº†ï¼Ÿ</p>

<p>ä»Šå¤©<a href="http://news.ycombinator.com/item?id=2407924">HNä¸Š</a>è®¨è®ºäº†ä¸€ä¸ªæ–°ä¸œä¸œ <a href="https://github.com/apenwarr/sshuttle">sshuttle</a>ï¼Œä¸€å¥è¯ä»‹ç»ï¼š</p>

<p>å¦‚æœè¯´<code>ssh -D</code>æ˜¯tcp-over-tcpï¼Œé‚£ä¹ˆsshuttleåˆ™æ˜¯data-over-tcpã€‚</p>

<p>è¯¦ç»†ä»‹ç»ï¼š</p>

<blockquote>
  <p>But you can't safely just forward TCP packets over a TCP session (like ssh), because TCP's performance depends fundamentally on packet loss; it must experience packet loss in order to know when to slow down! At the same time, the outer TCP session (ssh, in this case) is a reliable transport, which means that what you forward through the tunnel never experiences packet loss. The ssh session itself experiences packet loss, of course, but TCP fixes it up and ssh (and thus you) never know the difference. But neither does your inner TCP session, and extremely screwy performance ensues.</p>

  <p>sshuttle assembles the TCP stream locally, multiplexes it statefully over an ssh session, and disassembles it back into packets at the other end. So it never ends up doing TCP-over-TCP. It's just data-over-TCP, which is safe.</p>
</blockquote>

<p>å’ŒVPNç›¸æ¯”sshuttleæ˜¯statefulçš„ï¼Œå’Œsshç›¸æ¯”sshuttle lets you use the "real" IP addresses of each host rather than faking port numbers on localhost.</p>

<p><a href="http://news.ycombinator.com/item?id=2409090">è¿˜æœ‰</a>ä¸€ç¯‡essayè¯´ä¸ºç¥é©¬<a href="http://sites.inka.de/bigred/devel/tcp-tcp.html">TCP Over TCP Is A Bad Idea</a>ã€‚ç®€å•çš„è¯´ï¼Œå°±æ˜¯åŒå±‚æ•°æ®ä¸¢åŒ…æ€§èƒ½åº•ä¸‹ã€‚</p>

</article>


<div class="comments">
  <h2>Comments</h2>
  <div id="disqus_thread"></div>
  <script type="text/javascript">
    var disqus_shortname = 'estblog';
    var disqus_identifier = 'archives/3875';
    var disqus_url = location.href;
    (function() {
    var dsq = document.createElement('script'); 

    dsq.type = 'text/javascript';
    dsq.defer = true;
    dsq.src = '//estblog.disqus.com/embed.js';
    (document.getElementsByTagName('body')[0] || document.getElementsByTagName('head')[0]).appendChild(dsq);
    })();
  </script>
  <noscript>Please enable JavaScript to view the comments.</noscript>
</div>    </main>
<script src="/theme/js/core.js"></script>

  </body>

</html>