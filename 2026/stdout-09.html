<!DOCTYPE html>
<html>
  <head>
    <title>å®‰å…¨çš„Python3æ²™ç®±â€”â€”eval â€“ est ã® è¾“å…¥ è¾“å‡ºå’Œå‡ºå…¥</title>
<link rel="icon" href="https://est.im/favicon.svg">
    <meta charset="utf-8" />
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta http-equiv="Content-Security-Policy" content="frame-ancestors 'self' https://disqus.com https://player.bilibili.com https://www.youtube.com;">
    <link href="https://feeds.feedburner.com/initiative" type="application/rss+xml" rel="alternate" title="est ã® è¾“å…¥ è¾“å‡ºå’Œå‡ºå…¥ RSS Feed" />

    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="å®‰å…¨çš„Python3æ²™ç®±â€”â€”eval" />

    <link rel="canonical" href="https://blog.est.im/2026/stdout-09" />
    <meta property="og:url" content="https://blog.est.im/2026/stdout-09">
    <meta property="og:type" content="article">
    <meta property="og:title" content="å®‰å…¨çš„Python3æ²™ç®±â€”â€”eval">

    <link rel="stylesheet" href="/theme/css/normalize.min.css" />
    <link rel="stylesheet" href="/theme/css/style.css" />


    <style>
      body {
        background: #ecedef url("/theme/img/ignasi_pattern_s.png") repeat;
      }
    </style>
  </head>
  <body class="single-body">
<nav class="nav-bar side-padding">
  <h1 class="nav-header"><a href="/" class="nav-text">
    est ã® è¾“å…¥ è¾“å‡ºå’Œå‡ºå…¥
  </a></h1>
  <div class="hamburger-menu">
    <button>
      <span></span>
      <span></span>
    </button>
    <ul id="menu" class="hamburger-menu-overlay">
      <li><a href="/" class="hamburger-menu-overlay-link">Home</a></li>
      <li><a href="https://feeds.feedburner.com/initiative" class="hamburger-menu-overlay-link">RSS</a></li>
      <li><a href="/about" class="hamburger-menu-overlay-link">About</a></li>
      <li><a href="/category" class="hamburger-menu-overlay-link">Category</a></li>

    </ul>
  </div>
</nav>    <main class="content side-text-padding">
<article class="post">
  <header class="post-header">
    <h2 class="post-title">å®‰å…¨çš„Python3æ²™ç®±â€”â€”eval</h2>
    <p class="post-date">Posted <time datetime="2026-02-15T11:56:00+08:00">2026-02-15</time> | <span>stdout</span></p>
  </header>

  
  <p>å¾ˆæ—©ä¹‹å‰ä» reddit çœ‹åˆ°è¿‡æœ‰äººå¹</p>
<p><code>eval(expr.replace('__', ''), {'__builtins__': None}, {})</code></p>
<p>è¿™ä¸ªå†™æ³•å…¶å®å¾ˆå®‰å…¨ï¼Œå½“å¹´æ²¡äººèƒ½æ”»ç ´æ²™ç®±ã€‚æˆ‘è¿™ä¸ªæ°´å¹³è‚¯å®šæ˜¯ä¸è‚¯èƒ½äº†ï¼Œç°åœ¨æœ‰AIäº†ï¼Œè®© opus-4.6-thinking è¯•äº†ä¸‹</p>
<p>The classic escape chain needs <code>object.__subclasses__()</code> â†’ find a class with <code>__init__.__globals__['os']</code> â†’ <code>os.system()</code>. Every step past info disclosure is blocked:</p>
<table>
<thead>
<tr>
<th>Vector</th>
<th>Why it fails</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>str.format()</code> calling methods</td>
<td>Format only does attribute/index access, never calls <code>()</code></td>
</tr>
<tr>
<td><code>getattr(obj, runtime_str)</code></td>
<td><code>getattr</code> is a builtin â†’ <code>None</code></td>
</tr>
<tr>
<td><code>gi_frame.f_back</code> (generator frame escape)</td>
<td><code>f_back</code> is <code>None</code> when generator is suspended</td>
</tr>
<tr>
<td>NFKC unicode (<code>ï¼¿ï¼¿classï¼¿ï¼¿</code>)</td>
<td><code>SyntaxError</code>: U+FF3F is not valid in identifiers</td>
</tr>
<tr>
<td><code>replace</code> nesting (<code>____</code>)</td>
<td>Single-pass left-to-right, can never produce <code>__</code></td>
</tr>
<tr>
<td>Type name access (<code>tuple</code>, <code>type</code>)</td>
<td>All type names are builtins â†’ <code>None</code></td>
</tr>
<tr>
<td><code>[].sort(key=lambda)</code> calling out</td>
<td>Key gets called, but nothing useful to call <em>with</em></td>
</tr>
</tbody>
</table>
<p>ä¸è¿‡çœ‹å®ƒçš„å°è¯•è¿‡ç¨‹è¿˜æ˜¯æŒºæœ‰æ„æ€çš„ã€‚æˆ‘å­¦ä¹ åˆ°</p>
<p><code>a = (x for x in [1,2])); a.gi_frame.f_builtins"</code></p>
<p>è¿™ä¸ªå±…ç„¶å¯ä»¥æ‹¿åˆ°æ‰€æœ‰å†…ç½®æ–¹æ³•ï¼Œè¿™è¯­æ³•è®¾è®¡ä¹Ÿå¤ªå¥‡æ€ªäº†ã€‚ä¸è¿‡è¿™æ¡è·¯æ˜¯èµ°ä¸é€šçš„ï¼Œå› ä¸º <code>__builtins__</code> æ˜¯ <code>None</code>ã€‚</p>
<p>AI å¾ˆå‰å®³çš„ä¸€ç‚¹ï¼Œè¶…çº§æ¥è¿‘æˆåŠŸäº†ï¼Œå®ƒæ‰¾åˆ°äº†çªç ´åŒä¸‹åˆ’çº¿çš„æ–¹æ³•ï¼Œç”¨ str.format()</p>
<p><code>('{0._' + '_class_'  + '_}').format(())</code></p>
<p>ä½†æ˜¯è¿™ä¸ªåªèƒ½æ‹¿æ¥è¯»åˆ° attributesï¼Œå¹¶ä¸èƒ½è°ƒç”¨ã€‚</p>
<p>ä¸çŸ¥é“æˆ‘çš„è®¾å®šæ˜¯ä¸æ˜¯æœ‰é—®é¢˜ï¼ŒChatGPTè™½ç„¶ä¹Ÿå¤±è´¥äº†ï¼Œä½†æ˜¯è¿˜æ˜¯å˜´çŠŸï¼Œè¯´æˆ‘å¯ä»¥[0]*1e1000 æçˆ†ä½ å†…å­˜ï¼Œæ‰€ä»¥ä½ é‚£ç©æ„ä»ç„¶ä¸å®‰å…¨ ğŸ¤£ samaå®¶çš„çœŸæ˜¯æ‰“æ­»ä¸è®¤è¾“</p>
</article>

<div class="comments">
  <h2>Comments</h2>
  <script type="text/javascript" defer src="https://c.est.im/req4cmt.js"></script>
</div>    </main>


  </body>

</html>