<!DOCTYPE html>
<html>
  <head>
    <title>est の 输入 输出和出入</title>

    <meta charset="utf-8" />
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta http-equiv="Content-Security-Policy" content="frame-ancestors 'self' https://disqus.com https://player.bilibili.com https://www.youtube.com;">
    <link href="https://feeds.feedburner.com/initiative" type="application/rss+xml" rel="alternate" title="est の 输入 输出和出入 RSS Feed" />

    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="This blog is rated 🔞, viewer discretion is advised" />

    <meta property="og:url" content="https://blog.est.im">
    <meta property="og:type" content="website">
    <meta property="og:title" content="est の 输入 输出和出入">
    <meta property="og:description" content="This blog is rated 🔞, viewer discretion is advised">

    <link rel="stylesheet" href="/theme/css/normalize.min.css" />
    <link rel="stylesheet" href="/theme/css/style.css" />


    <style>
      body {
        background: #ecedef url("/theme/img/ignasi_pattern_s.png") repeat;
      }
    </style>
  </head>
  <body class="list-body">
<nav class="nav-bar side-padding">
  <h1 class="nav-header"><a href="/" class="nav-text">
    est の 输入 输出和出入
  </a></h1>
  <div class="hamburger-menu">
    <button>
      <span></span>
      <span></span>
    </button>
    <ul id="menu" class="hamburger-menu-overlay">
      <li><a href="/" class="hamburger-menu-overlay-link">Home</a></li>
      <li><a href="https://feeds.feedburner.com/initiative" class="hamburger-menu-overlay-link">RSS</a></li>
      <li><a href="/about" class="hamburger-menu-overlay-link">About</a></li>

      <li><a href="/category/archive" class="hamburger-menu-overlay-link">archive</a></li>
      <li><a href="/category/stderr" class="hamburger-menu-overlay-link">stderr</a></li>
      <li><a href="/category/stdin" class="hamburger-menu-overlay-link">stdin</a></li>
      <li><a href="/category/stdout" class="hamburger-menu-overlay-link">stdout</a></li>

    </ul>
  </div>
</nav>    <main class="card-container side-gutter">
      <header class="list-header">
        <p class="list-header-subtext">This blog is rated 🔞, viewer discretion is advised</p>
        <!-- <h1 class="list-header-title">est の 输入 输出和出入</h1> -->
      </header>


        <!-- new article -->
        <div class="card blog-card">
          <article class="card-body">
            <a href="/2025/stdin-09"  rel="bookmark" >
              <h2 class="card-title">CBOR 和 MsgPack 是一回事</h2>
            </a>
            <p class="card-text"><p>翻旧账的时候无意中<a href="https://news.ycombinator.com/item?id=42664005">发现</a>的。MessagePack的实现者 mdhb 说：</p>
<blockquote>
<p>Disclaimer: I wrote and maintain a MessagePack implementation.<br />
CBOR is MessagePack. The story is that Carsten Bormann wanted to create an IETF standardized MP version, the creators asked him not to (after he acted in pretty bad faith), he forked off a version, added some very ill-advised tweaks, named it after himself, and submitted it anyway.<br />
I wrote this up years ago (https://news.ycombinator.com/item?id=14072598), and since then the only thing they've addressed is undefined behavior when a decoder encounters an unknown simple value.</p>
</blockquote>
<p><a href="https://news.ycombinator.com/item?id=43229259">以及</a>：</p>
<blockquote>
<p>There's no reason an MP implementation has to be slower than a CBOR implementation. If a given library wanted to be very fast it could be. If anything, the fact that CBOR more or less requires you to allocate should put a ceiling on how fast it can really be. Or, put another way, benchmarks of dynamic language implementations of a serialization format aren't a high signal indication of its speed ceiling. If you use a dynamic language and speed is a concern to this degree, you'd write an adapter yourself, probably building on one of the low level implementations.<br />
That said, people are usually disappointed by MP's speed over JSON. A lot of engineering hours have gone into making JSON fast, to the point where I don't think it ever made sense to choose MP over it for speed reasons (there are other good reasons). Other posters here have pointed out that your metrics are usually dominated by something else.<br />
But finally, CBOR is fine! The implementations are good and it's widely used. Users of CBOR and MP alike will probably have very similar experiences unless you have a niche use case (on an embedded device that can't allocate, you really need bignums, etc).</p>
</blockquote>
<p>看它又翻了一堆旧帐。。hmmmm</p>
<details><summary>展开</summary>

> (CBOR introduced) a neat [type|length] encoding instead of just [type], which > applies to all types - integers, floats, strings, maps, etc.
Not really. For example there's no 11-bit integer type. In fact, CBOR is more-or-less identical to MP in this regard: there are a set number of (we'll use CBOR parlance here) tags, each of which indicates the length of succeeding binary data.

If you're just saying "length follows type", then this is in fact exactly how MP works. If you have 30 bytes of raw data, you use the bin 8 tag (0xc4), write 0x1e for the length, and then memcpy your data into your buffer.

---

I'd like to discuss CBOR's design, which I think is very poorly thought out.

---

CBOR is broken because of indefinite-length data types. A CBOR implementation has to accept an infinite stream of data. Besides being impossible, this is unacceptable for pretty much any application. It's also poorly specified; Section 3.1 reads:

    In a streaming application, a data stream may be composed of a sequence of
    CBOR data items concatenated back-to-back.  In such an environment, the
    decoder immediately begins decoding a new data item if data is found after
    the end of a previous data item.
"Immediately" is troubling here, in fact, the section goes on:
    Note that some applications and protocols will not want to use
    indefinite-length encoding.  Using indefinite-length encoding allows an
    encoder to not need to marshal all the data for counting, but it requires a
    decoder to allocate increasing amounts of memory while waiting for the end
    of the item.  This might be fine for some applications but not others.
I really don't know what to do here. The data format requires your application to allocate indefinitely, and the spec even says "this might be bad for you". Come on.
---

CBOR's tags are pretty much MP v5's Extension types, but the spec makes them more confusing. Here's an excerpt:

    Decoders do not need to understand tags, and thus tags may be of little 
    value in applications where the implementation decoding that stream know
    the semantic meaning of each item in the data flow.  Their primary purpose
    in this specification is to define common data types such as dates.
So far, so good. CBOR then goes on to define more than a dozen tags:
- Standard date/time string

- Epoch-based date/time

- Positive bignum

- Negative bignum

- Decimal fraction

- Bigfloat

- Expected conversion to base64url encoding

- Expected conversion to base64 encoding

- Expected conversion to base16 encoding

- Encoded CBOR data item

- URI

- base64url

- base64

- Regular expression

- MIME message

- Self-describe CBOR

Besides being over-engineered ("Expected conversion to X"? "MIME message"?!), this puts pressure on implementations to support these extension types. The reason MP doesn't do this is that, for example, BigNum support isn't free and you don't want to tie your binary format to it. CBOR's spec says implementations are free to not convert these (at least, that's how I interpret "Decoders do not need to understand tags"), but it creates a schism: most dynamic languages include BigNum support (Ruby, Python, etc.), but at least C and C++ don't. This creates pressure on C/C++ implementations to pull in a lot of extra baggage, something the MP authors specifically and thoughtfully avoided.

Even worse, tags are undefined behavior in CBOR. Section 3.5 reads:

    A decoder that comes across a tag (Section 2.4) that it does not recognize,
    such as a tag that was added to the IANA registry after the decoder was
    deployed or a tag that the decoder chose not to implement, might issue a
    warning, might stop processing altogether, might handle the error and
    present the unknown tag value together with the contained data item to the
    application (as is expected of generic decoders), might ignore the tag and
    simply present the contained data item only to the application, or take
    some other type of action.
"some other type of action" is deeply worrying. Even more deeply worrying is that this applies to anything at all in CBOR:
    A decoder that comes across a simple value (Section 2.3) that it does not
    recognize, such as a value that was added to the IANA registry after the
    decoder was deployed or a value that the decoder chose not to implement,
    might issue a warning, might stop processing altogether, might handle the
    error by making the unknown value available to the application as such (as
    is expected of generic decoders), or take some other type of action.
I choose not to implement `int`. I decide instead to fill up your home folder. I'm a compliant CBOR implementation.
---

Canonical CBOR is a bad idea, as outlined by ludocode elsewhere. Generally speaking, canonicalization is application-specific and attempts to codify it end up being nonsensical, overwrought, or incomplete. And hey look, CBOR's is nonsensical AND incomplete: it punts on floats and tags.

---

There is no technical justification for CBOR. I know some places require standards, and that could've been solved by working with Sadayuki. I'm legitimately at a loss.

---

I know you're not into the "drama" part, but I think it's beneficial to get into it a little. Feel free to ignore; it's why I put it down here.

I'm not gonna characterize things. I'll just list links. I feel like that's the most fair way to do things.

https://github.com/msgpack/msgpack/issues/13

https://github.com/msgpack/msgpack/issues/121

https://github.com/msgpack/msgpack/issues/129

https://tools.ietf.org/html/draft-bormann-apparea-bpack-01

https://tools.ietf.org/html/rfc7049

http://www6.ietf.org/mail-archive/web/apps-discuss/current/m...

http://www6.ietf.org/mail-archive/web/apps-discuss/current/m...

http://www6.ietf.org/mail-archive/web/apps-discuss/current/m...

http://www6.ietf.org/mail-archive/web/apps-discuss/current/m...

http://www6.ietf.org/mail-archive/web/apps-discuss/current/m...

http://www6.ietf.org/mail-archive/web/apps-discuss/current/m...

It's also worth pointing out that CBOR's RFC is incorrect and unfair in its description of MP. Heres's Section E.2.:

    MessagePack has been essentially stable since it was first published around
    2011; it has not yet had a transition.  The evolution of MessagePack is
    impeded by an imperative to maintain complete backwards compatibility with
    existing stored data, while only few bytecodes are still available for
    extension.  Repeated requests over the years from the MessagePack user
    community to separate out binary and text strings in the encoding recently
    have led to an extension proposal that would leave MessagePack's "raw" data
    ambiguous between its usages for binary and text data.  The extension
    mechanism for MessagePack remains unclear.
MP v5 specifies separate types for string data and raw binary data. MP v5 is backwards-compatible with v4; in fact the v5 standard says implementations should provide a v4 compatibility mode. Nothing about the separate types for string and raw data is ambiguous; they're as separate as any other variable-length type. MP v5 includes a clear and simple extension mechanism:
    MessagePack allows applications to define application-specific types using
    the Extension type.  Extension type consists of an integer and byte array
    where the integer represents a kind of type and the byte array represents
    data.  Applications can assign 0 - 127 to store application-specific type
    information.  MessagePack reserves -1 - -128 for future extension to add
    predefined types which will be described in separated documents.

</details>

<p>好吧。</p>
<p>最近在看 <a href="https://atproto.com/specs/data-model">ATProto</a> 发现它既可以 CBOR 也可以 JSON </p></p>
            <div class="card-subtext muted-text">
              <p>Posted <time datetime="2025-09-27T20:01:00+08:00">2025-09-27</time></p>
<p>stdin</p>            </div>
          </article>
        </div>


        <!-- new article -->
        <div class="card blog-card">
          <article class="card-body">
            <a href="/2025/stdin-08"  rel="bookmark" >
              <h2 class="card-title">大集团，小组织和原子个体</h2>
            </a>
            <p class="card-text"><p>来自 <a href="https://mathstodon.xyz/@tao/115259943398316677">Terence Tao</a>，<a href="https://mathstodon.xyz/@tao/115259943398316677">HN上</a>讨论很热烈</p>
<p>Some loosely organized thoughts on the current Zeitgeist.  They were inspired by the response to my recent meta-project mentioned in my previous post https://mathstodon.xyz/@tao/115254145226514817, where within 24 hours I became aware of a large number of ongoing small-scale collaborative math projects with their own modest but active community (now listed at https://mathoverflow.net/questions/500720/list-of-crowdsourced-math-projects-actively-seeking-participants ); but they are from the perspective of a human rather than a mathematician.</p>
<p>As a crude first approximation, one can think of human society as the interaction between entities at four different scales:</p>
<ol>
<li>
<p>Individual humans</p>
</li>
<li>
<p>Small organized groups of humans (e.g., close or extended family; friends; local social or religious organizations; informal sports clubs; small businesses and non-profits; ad hoc collaborations on small projects; small online communities)</p>
</li>
<li>
<p>Large organized groups of humans (e.g., large companies; governments; global institutions; professional sports clubs; large political parties or movements; large social media sites)</p>
</li>
<li>
<p>Large complex systems (e.g., the global economy; the environment; the geopolitical climate; popular culture and "viral" topics; the collective state of science and technology).</p>
</li>
</ol>
<p>An individual human without any of the support provided by larger organized groups is only able to exist at quite primitive levels, as any number of pieces of post-apocalyptic fiction can portray.  Both small and large organized groups offer significant economies of scale and division of labor that provide most of the material conveniences that we take for granted in the modern world: abundant food, access to power, clean water, internet; cheap, safe and affordable long distance travel; and so forth. It is also only through such groups that one can meaningfully interact with (and even influence) the largest scale systems that humans are part of.</p>
<p>But the benefits and dynamics of small and large groups are quite different.  Small organized groups offer some economy of scale, but - being essentially below Dunbar's number https://en.wikipedia.org/wiki/Dunbar%27s_number in size - also fill social and emotional needs, and the average participant in such groups can feel connected to such groups and able to have real influence on their direction.  Their dynamics can range anywhere from extremely healthy to extremely dysfunctional and toxic, or anything in between; but in the latter cases there is real possibility of individuals able to effect change in the organization (or at least to escape it and leave it to fail on its own).</p>
<p>Large organized groups can offer substantially more economies of scale, and so can outcompete small organizations based on the economic goods they offer.  They also have more significant impact on global systems than either average individuals or small organizations.  But the social and emotional services they provide are significantly less satisfying and authentic.  And unless an individual is extremely wealthy, well-connected, or popular, they are unlikely to have any influence on the direction of such a large organization, except possibly through small organizations acting as intermediaries.  In particular, when a large organization becomes dysfunctional, it can be an extremely frustrating task to try to correct its course (and if it is extremely large, other options such as escaping it or leaving it to fail are also highly problematic).</p>
<p>My tentative theory is that the systems, incentives, and technologies in modern world have managed to slightly empower the individual, and massively empower large organizations, but at the significant expense of small organizations, whose role in the human societal ecosystem has thus shrunk significantly, with many small organizations either weakening in influence or transitioning to (or absorbed by) large organizations.  While this imbalanced system does provide significant material comforts (albeit distributed rather unequally) and some limited feeling of agency, it has led at the level of the individual to feelings of disconnection, alienation, loneliness, and cynicism or pessimism about the ability to influence future events or meet major challenges, except perhaps through the often ruthless competition to become wealthy or influential enough to gain, as an individual, a status comparable to a small or even large organization.  And larger organizations have begun to imperfectly step in the void formed by the absence of small communities, providing synthetic social or emotional goods that are, roughly speaking, to more authentic such products as highly processed "junk" food is to more nutritious fare, due to the inherently impersonal nature of such organizations (particularly in the modern era of advanced algorithms and AI, which when left to their own devices tend to exacerbate the trends listed above).  </p>
<p>Much of the current debate on societal issues is then framed as conflicts between large organizations (e.g., opposing political parties, or extremely powerful or wealthy individuals with a status comparable to such organizations), conflicts between large organizations and average individuals, or a yearning for a return to a more traditional era where legacy small organizations recovered their former role.  While these are valid framings, I think one aspect we could highlight more is the valuable (though usually non-economic) roles played by emerging grassroots organizations, both in providing "softer" benefits to individuals (such as a sense of purpose, and belonging) and as a way to meaningfully connect with larger organizations and systems; and be more aware of what the tradeoffs are when converting such an organization to a larger one (or component of a larger organization).  </p>
<p>读完之后很惆怅。<a href="https://blog.est.im/202101/stderr-001">双亲+子女组成核心家庭</a> 里Michelle Obama说的那句话犹在耳畔。 </p>
<p>人存在的意义和价值是什么？大多数时候，是由TA所在社会群体里的（某种形式的）地位决定的。</p>
<p>大集团往往是纯粹的经济价值来源和利益机器</p>
<p>小组织给人归属感</p>
<p>个体的结局只有一个——孤单</p>
<p>想到这里，突然又手痒想键政了。秦汉公民兵的崩坏，被世家大族吸收消化；六镇府兵制的隋唐，不过是回光返照，最后不得不换成雇佣兵和藩镇。到了大怂国感觉汉人是完全不会打仗了，这也跟山河四省彻底原子化，科举这个上升通道沦为「个体」刷分机器有莫大的干系。小组织（户）和大集团（族）都完蛋，加上打压工商业，无法形成新的行会 - 商团 乃至财富汇集托举的 文艺 - 科学 团体，整个社会结构要么是男耕女织的这种极端原子化的小农家庭，要么是皇权这种巨无霸；文官集团彻底被以个体利益出发的党争玩坏。整体民心是个什么状态呢？一个民族，一个国家里的每个个体，既无法从组织里得到利益，也无法得到归属感，反正生活都是苦和累，今朝有酒今朝醉，天子换谁来当都一个屌样，那么结论很容易得出：整个汉地的「自然组织度」约等于0 。朱88的军户制度，也是行政和官僚手段强行拉高组织度一种无奈，但是最后还是被更高组织度的八旗吊打。</p>
<p>不得不说老外的 <a href="https://press.uchicago.edu/Misc/Chicago/805328.html">civil society 这一套说法</a> 还是很有道理的</p>
<p>要说这一切的罪恶之源是什么呢？先来想去，铁犁+纺车，从井田制崩坏就开始了？</p>
<p>为啥孔老二崇周礼？因为当年的农业生产是纯纯人力，得分工和群体劳动才能生存，国君祭天是一件严肃的生产分配大会，而不是后来流于礼节形式。为啥游牧部落总是能找到机会在某一个点突破防线？因为轮牧制度是根本，只要部落之间平息仇杀一致对外，就可以凭借天生的高组织度完成更复杂的战术和战略目标。</p>
<p>所以21世纪的铁犁是什么呢？AI？</p>
<p>不敢想不敢想。看着孩子现在 pad 上安装了豆包、千问、deepseek等众多app，我寻思，可能人类社会连父母和后代的养育联系，可能在未来某一个时刻都要断掉了吧。</p>
<p>呃，网上其实现在已经是这个风气了，原生家庭的“罪”罄竹难书，老登只有爆金币一个用途了。</p></p>
            <div class="card-subtext muted-text">
              <p>Posted <time datetime="2025-09-25T10:27:00+08:00">2025-09-25</time></p>
<p>stdin</p>            </div>
          </article>
        </div>


        <!-- new article -->
        <div class="card blog-card">
          <article class="card-body">
            <a href="/2025/stdout-08"  rel="bookmark" >
              <h2 class="card-title">xHTML5</h2>
            </a>
            <p class="card-text"><p>有 ChatGPT学姿势就是快</p>
<pre><code class="language-html">&lt;!DOCTYPE html [
  &lt;!ENTITY myEntity &quot;Hello World&quot;&gt;
  &lt;!ENTITY wow &quot;alert('hi')&quot;&gt;
]&gt;
&lt;html xmlns=&quot;http://www.w3.org/1999/xhtml&quot;&gt;
&lt;body&gt;
  &amp;myEntity;
  &lt;script&gt;
    &amp;wow;
  &lt;/script&gt;

&lt;/body&gt;
&lt;/html&gt;
</code></pre>
<p>保存到本地 1.xhtml，双击浏览器打开。谁能想到这也行？xml entity 还可以这样玩？</p>
<p>只要MIME为 <code>application/xhtml+xml</code> 就可以把HTML5当XML渲染。</p>
<p>部署了个在线demo： <a href="https://lab.est.im/svg-text/entity.xhtml">https://lab.est.im/svg-text/entity.xhtml</a></p>
<p>不敢相信自己眼睛，确认下是HTML5:</p>
<ul>
<li><code>document.compatMode</code> 返回 <code>CSS1Compat</code> 没问题</li>
<li><code>ocument.doctype</code> 返回 <code>&lt;!DOCTYPE html&gt;</code> 没毛病</li>
</ul>
<p>如果是老的兼容模式：</p>
<ul>
<li><code>document.compatMode</code> 为 <code>BackCompat</code></li>
<li><code>document.doctype.publicId</code> 为 <code>-//W3C//DTD HTML 4.01//EN</code></li>
<li><code>document.doctype.systemId</code> 为 <code>http://www.w3.org/TR/html4/strict.dtd</code></li>
</ul>
<p>思路打开了。哈哈</p></p>
            <div class="card-subtext muted-text">
              <p>Posted <time datetime="2025-09-15T00:12:00+08:00">2025-09-15</time></p>
<p>stdout</p>            </div>
          </article>
        </div>


        <!-- new article -->
        <div class="card blog-card">
          <article class="card-body">
            <a href="/2025/stdout-07"  rel="bookmark" >
              <h2 class="card-title">disqus已卸载，手搓了套blog评论系统 - req4cmt</h2>
            </a>
            <p class="card-text"><p>一直用 disqus 主要是觉得方便（懒）。但是自从被墙了就很不方便了。加上近期开始强制插入广告，就更讨厌了</p>
<p>想找个替代品，很多基于 github 的，在 issue 盖楼，我觉得不方便备份，希望是能直接写入 repo的。这样一个 git clone 就搬家了。更不用说几乎都是基于 OAuth 的 github 登录实际上能拿到你所有 <code>repo</code> 的 scope，也就是能读写你所有公开（甚至私有）仓库内容。我一般都不点</p>
<p>于是决定手搓一个。</p>
<p>首先考虑的就是如何把内容写入 git repo。这个在做 <a href="https://blog.est.im/2025/stdout-05">gitweets</a> 已经调研尝试过了。</p>
<p>本着在 cloudflare worker 白嫖的心态，这种 serverless 的环境肯定不允许装 git 命令行或者 libgit 这种 .so，所以考虑 pure python 的 <a href="https://github.com/jelmer/dulwich">dulwich</a>。折腾了一下 python binding 发现CF居然是个WASM转译。那还不如js。还好nodejs生态也很丰富，有个纯js的实现 <a href="https://isomorphic-git.org/">isomorphic-git</a> 。</p>
<p>然后手搓了一下发现需要个 memfs 在内存里模拟文件IO。</p>
<p>其次是如何读取内容，评论列表以 <code>域名/路径.jsonl</code> 格式保存为纯文本，一行一条评论JSON，方便diff。将来可以做成 pull request 当成 moderation</p>
<p>本来想通过 git-http 来读文件，发现太慢了。干脆走捷径直接反代 <code>https://raw.githubusercontent.com/</code> 就行。本来也不用反代，一是这个域名被DNS屏蔽，二是加一个该死的CORS头才能跨域。</p>
<p>跑通之后接着就模仿disqus实现页面一段.js嵌入，渲染表单，展示评论列表等等，我的 js/css 实在捉急就搓了套最基础的。</p>
<p>能用就行！</p>
<p>防止spam这方面也没多想，看很多人说做 hidden input 就能拦住绝大部分，那就先这样跑着。除了评论框这个 <code>textarea</code> 甚至名字都是选填</p>
<p>尽可能做兼容，让在没有 .js 的情况下也能提交表单。当然得在嵌入页面的时候弄 <code>&lt;noscript&gt;</code></p>
<p>该项目严重依赖 cloudflare 和 github 两位赛博菩萨的免费额度，所以请求过多会被控频。实在不行弄个KV队列之类的。但是我这博客这么冷清，多虑了？</p>
<p>最后，把 disqus 老的评论都导出来了。毕竟是多年的回忆。</p>
<p>项目放在 <a href="https://github.com/est/req4cmt">https://github.com/est/req4cmt</a> 欢迎点评。</p></p>
            <div class="card-subtext muted-text">
              <p>Posted <time datetime="2025-09-10T22:38:00+08:00">2025-09-10</time></p>
<p>stdout</p>            </div>
          </article>
        </div>


        <!-- new article -->
        <div class="card blog-card">
          <article class="card-body">
            <a href="/2025/stdout-06"  rel="bookmark" >
              <h2 class="card-title">抗日</h2>
            </a>
            <p class="card-text"><p>看完阅兵式直播，记录一些最近几年才了解到的抗战细节：</p>
<ul>
<li><code>1941年4月13日</code>，苏联承认伪满洲国</li>
<li><code>1945年2月08日</code>，雅尔塔会议，罗斯福同意斯大林，保障大连港、中东铁路、南满铁路的利益，以及恢复俄罗斯海军在旅顺口的租赁  <br />
<img alt="Yalta Conference" src="https://upload.wikimedia.org/wikipedia/commons/thumb/d/d2/Yalta_summit_1945_with_Churchill%2C_Roosevelt%2C_Stalin.jpg/330px-Yalta_summit_1945_with_Churchill%2C_Roosevelt%2C_Stalin.jpg" /><br />
-<code>1945年6月24日</code>，苏联在莫斯科红场举行「伟大的卫国战争」胜利阅兵仪式，🇯🇵帝国陆军武官<code>矢部忠太</code>，帝国海军武官 <code>臼井淑郎</code>作为嘉宾受邀列席检阅红军。<br />
<img alt="" src="https://q0.itc.cn/q_70/images03/20250318/21d1f83e535a4d338b7ef9e4b51614b3.jpeg" /></li>
</ul>
<p><img referrerpolicy="no-referrer" width="600" src="http://i0.hdslb.com/bfs/new_dyn/343e8081690f82fefdc150af38c222f3518085624.jpg" /><br />
- <code>1945年8月06日</code>，美军用「Little Boy」核平广岛<br />
- <code>1945年8月08日</code>，苏联撕毁 《苏日中立条约》向🇯🇵宣战<br />
- <code>1945年8月09日</code>，美军用「Fat Man」核平长崎<br />
- <code>1945年9月02日</code>，🇯🇵在东京湾「USS Missouri」战列舰上向盟军投降<br />
- <code>1955年5月26日</code>，12万苏军的最后一批撤离旅顺、大连。至此大陆外国驻军清零。</p>
<p>东北就是东亚的波兰？</p></p>
            <div class="card-subtext muted-text">
              <p>Posted <time datetime="2025-09-03T11:34:00+08:00">2025-09-03</time></p>
<p>stdout</p>            </div>
          </article>
        </div>


        <!-- new article -->
        <div class="card blog-card">
          <article class="card-body">
            <a href="/2025/stdout-05"  rel="bookmark" >
              <h2 class="card-title">gitweets：单html实现独立微博，拿git历史当feed流发推</h2>
            </a>
            <p class="card-text"><p>twitter争议不断持续多年，先是各种 cancel culture 闹得动静很大，被一龙马买了之后更甚，社区分裂到 mstdn nostr bsky支流，各种话题炒上天，在众多替代品里，2022年看到个<a href="https://twitter.com/bcrypt/status/1588416861552582657">最别具一格</a>的：</p>
<p>拿 git 当微博使</p>
<ul>
<li>发推： <code>git commit --allow-empty</code></li>
<li>加关注： <code>git remote add &lt;alias&gt; &lt;their fork url&gt;</code></li>
<li>转发： <code>git cherry-pick &lt;their "tweet"&gt;</code></li>
</ul>
<p>脑洞大开。而且git基于merkle tree的，p2p 历史不可篡改，有web3那味了。</p>
<p>当时就饶有兴趣，挖了个坑准备搓个web界面。但是限于涣散的注意力，以及对css这种抽象排版玩不转，一直拖沓没做好。</p>
<p>周末心血来潮，外带 AI 工具加持，进展神速。目前已经基本可用。</p>
<p>项目叫 gitweets ，意思是用 git 发 tweets，网址在 <a href="https://f.est.im/">https://f.est.im/</a> 。二级域名 <code>f</code> 即 <code>feed</code> ，<code>f.est</code> 也就是 fest 表示。。。 盛会的意思。 </p>
<h3>feature list</h3>
<ol>
<li>把任意 github repo 渲染成微博</li>
<li>给任意 github repo 发推。其原理是，通过REST API新增一条 commit 。</li>
<li><a href="https://f.est.im/est/e0d4c46445517ba52ceda06d788e09760aaccce5">发图</a>！如果 commit message 以冒号结尾，而且恰好也在本次新增加了位于 static 下面的图片文件 那么会尝试去加载图片作为附件渲染</li>
<li>写 commit 基于 OAuth app 实现。浏览器记录 access_token 到 cookie，理论上可用 8个小时。过期重登</li>
<li>如果你的 commit 有是通过 <code>-S</code> 参数提交带签名 ，那么展示为蓝色表示verified</li>
</ol>
<h3>记录一些坑</h3>
<ol>
<li>OAuth app vs Github App。前者是代客做事；后者是独立主体单独账号，类人行为，多用于 CI/CD</li>
<li>OAuth app 的 <code>scope</code> 如果是 <code>repo</code> 可以读写你所有仓库代码，包括私有仓库！网上的很多基于 github 的第三方评论系统有这个隐患！</li>
<li>我这里用的是 <code>public_repo</code>，读写所有公开仓库。毕竟 github是个开源社区，拿公开git来当feed使，要安全一些。</li>
<li>更安全的办法是只能读写单个指定的repo。要实现API读写git，在github有下列几种方法：<ul>
<li>REST API。可以用 fine grained PAT 读写一个repo</li>
<li>GraphQL API。</li>
<li>git 协议。走 <code>github.com:22</code> 端口。可以采用 deploy key 或者私人账号 ssh key</li>
<li>git-http。走 <code>https://github.com:443</code></li>
</ul>
</li>
<li>Private Access Token （缩写 PAT） 可以完全控制个人或者团队账号，fine grained PAT 可以只控制指定的几个仓库</li>
<li>deploy key默认只读，可以改成读写，一库一用，不能复用</li>
<li>REST API 列举 commits 不能获得当前 commit 改了哪些文件。需要额外N+1每个commit再次查询详情。背后的原因估计是 git 内部 ref 和 blob 是严格区分的。甚至可能是分开存的数据库表</li>
<li>网站是跑在赛博菩萨 cloudflare worker 上的。这种所谓“serverless”平台很强大了。功能齐全没啥缺的。甚至可以发起 tcp 连接。</li>
<li>本来计划走 git-ssh 或者 git-http 协议，想了下js操作binary太复杂了，弄个 libgit2 之类的库估计很重。还是REST方便</li>
<li>REST API 新增一个 empty commit 有多复杂？ 1. 获得当前branch 的 sha 2. 获得该 sha 的 tree 3. 新增一个 sha+tree 的commit 4. 把 ref 指向第三步的 sha 。啊，就不能一步完成么。下次有机会看看GraphQL 能不能一次调用完成</li>
<li>Github 的API 强制要求 User-Agent 。你可以乱写但是不能没有</li>
<li>Github 虽然返回了 <code>Access-Control-Allow-Origin: *</code>，但是现代浏览器他妈的不认这个 <code>*</code> 。所以在浏览器只能匿名调用 <code>GET</code> ，如果 <code>POST</code>， <code>PATCH</code> 带了 <code>credentials: "include"</code> 直接拒绝。网站必须显式指定允许哪个具体的 origin </li>
<li>cloudflare的 <code>Response.redirect('/')</code> 直接挂掉。原来是 3xx 跳转不允许相对路径。</li>
</ol>
<h3>why？</h3>
<p>由于习惯，古法写web，一个html包含了 css js 。无二次加载，无第三方依赖库。除了不能写死的全部写死 🤣。无需build。</p>
<p>源码放在 <a href="https://github.com/est/gitweets/">https://github.com/est/gitweets/</a> 。该仓库的 commit 历史也作为feed展示在 <a href="https://f.est.im/">https://f.est.im/</a> </p>
<p>接下来准备用类似的思路实现网站评论系统，代替现在的 disqus ，虽然它是免费的，但是广告太多了。</p>
<p>可能有人要问：why ？闲的蛋痛？</p>
<p>我想，首先的确蛋痛，because we can。其次是不想在平台，处处受人限制。然后也是最重要的，self-host。所有数据资料都在一个repo打包带走，备份什么的很方便。比如以前wordpress受众多功能全，但是后来大家都 hexo 之类的静态blog了。</p>
<p>我心目中 gitweets 就是“静态”微博的一种。虽然它现在还是依赖 github API。等有空了可以试试生成纯静态页面。</p>
<h3>ToDo</h3>
<ol>
<li>如何发视频 音频</li>
<li>如何转发</li>
<li>如何混合展示多个repo的feed。基于 pull request ？</li>
</ol>
<p>欢迎评论或者提 <a href="https://github.com/est/gitweets/issues">issue</a></p></p>
            <div class="card-subtext muted-text">
              <p>Posted <time datetime="2025-08-17T00:00:00+08:00">2025-08-17</time></p>
<p>stdout</p>            </div>
          </article>
        </div>


        <!-- new article -->
        <div class="card blog-card">
          <article class="card-body">
            <a href="/2025/stderr-04"  rel="bookmark" >
              <h2 class="card-title">敬语和咒语</h2>
            </a>
            <p class="card-text"><p>因为旅游瞎逛，才了解有这样一种东西：</p>
<p><img referrerpolicy="no-referrer" src="http://5b0988e595225.cdn.sohucs.com/images/20180918/c5160e176d4a482cbc50887cccd214bc.jpeg" /></p>
<blockquote>
<p>字库塔又叫“惜字宫”、“敬字亭”、“惜字塔”、“焚字炉”等，它是收存和焚烧字纸的专用设施，沿自古人有“敬惜字纸”之风，“惜字得福”之说。而在我国传统文化中有一种独特习俗——“惜字如金”，“敬天惜字”。<br />
于是，焚烧字纸就变得非常的郑重，不但有专门的礼仪，还建有专门的场所和设施，于是“字库塔”就应运而生，也就成了古人专门修建来焚烧字纸的小型建筑。据史料记载，字库塔始建于宋代，到元明清时已经相当普及了。<br />
在古代，民间有种说法，糟蹋字纸会生疮害病、瞎眼睛，受到惩罚并祸及子孙等，因此字纸不可秽用，而应该“羽化成蝶”，而糟蹋字纸会得罪神灵，受到惩罚并祸及子孙。所有用过的字纸或废书，都要统一收集起来，放到一个地方集中焚化。</p>
</blockquote>
<p>小时候，一直把语言和文字当成知识的载体，是语文和英语这样的学科，一种很客观的工具。没想到古人对待文字是如此的神圣，甚至达到需要单独做祭坛的程度。最近几年也一直有感触，语言和文字肯定以及必然在上古时期是有魔法的。</p>
<p>这个魔法怎么来的，比如人类最原始，最古老的语言词汇，肯定是 妈妈，爸爸。</p>
<p>一个孩子叫你一声父母，你身上就多出来一份悲怜和责任。据我观察，很多成年人和家庭，都是因为孩子，苦苦撑下去。没有软肋的中年人是无敌的。</p>
<p>所以我觉得，某种程度上，这个称谓是一种咒语。为什么是咒语？拿魔幻小说《哈利波特》为例，最入门的打架咒语就是 “除你武器” (Expelliarmus)。这是哈利的招牌咒语，作用是让对手手里的武器（通常是魔杖）飞出去，有时也会直接把人震退。如果你在网上或者现实中骂架，让对方直接破防的咒语是啥呢？</p>
<blockquote>
<p>我是你爹！</p>
</blockquote>
<p>对方要破除你这个咒语，那么多半会使出类似下面这样的咒语：</p>
<blockquote>
<p>我今天非教训你这孙子不可</p>
</blockquote>
<p>爹，孙子 这些人类最基础的代词，居然有如此调动情绪魔力。</p>
<p>又看到最近和长久以来一个被反复提起的话题：</p>
<p><a href="https://www.zhihu.com/question/1926331869202445867">媒体呼吁「同志」称呼重归主流</a></p>
<blockquote>
<p>曾几何时，招呼人无须刻意措辞，一声“同志”便可，听者坦然、舒泰。后来，经济发展、文化多元，称呼也花样百出，“先生”“小姐”“老板”满天飞，开初尚觉新鲜，久之不免腻味，尤其是“小姐”这一称呼，常给人轻薄之感。如今，“小姐”似乎被“美女”取代，后者也逐渐失掉了赞美之意，变成了泛称。<br />
称呼自有其潮流，随时代而动。譬如“同志”，在民风淳朴的年头，人们不论是在工作中，还是在生活里，都讲究人人平等，因而“同志”这种一视同仁的称呼也被长久使用，且“同志”也有志同道合之感。再如“师傅”，使用的时间也不短，于我个人而言倍觉亲切。我年轻时在机务段当过3年机车钳工学徒工，满师后又独立干了一年左右车辆修理活计。当时，早我几天入行的师兄师姐，我见了一律都得叫“师傅”。在技术为先的机车维修一线，学艺是头等大事，称呼关乎传道授业的礼仪，自然马虎不得。“师傅”之谓，是对有一技之长劳动者的尊称，也是对德厚者的敬重。几十年之后，虽然热火朝天的劳动场景已远去，但是这声“师傅”，我沿用至今。我想，只要对方形容不轻慢，精神不委琐，不论老少，皆可尊称一声“师傅”。</p>
</blockquote>
<p>中年人应该对这个最有感触的。小时候以为所有人都叫 叔叔阿姨 就够了。直到有一天，你被别人叫了 叔叔阿姨。身份的转变带来一个困境：原来的叔叔和阿姨，你如何称呼？</p>
<p>能否避免让别人觉得太老？能否不区分职业、职级？能否不区分性别？</p>
<p>有没有一个通用敬语？想来想去，排除上面的“同志”，似乎只有 老师？</p>
<p>没有一个咒语拿来起手破冰，所以一旦脱离了乡土的熟人社会，陌生的人际交往在大城市就很难发生。</p>
<p>身份认同、权力关系、情感负担，这些都是心理学上焦虑和矛盾的根源</p>
<p>想起一个孙猴子那个<a href="https://zh.wikisource.org/zh-hans/%E8%A5%BF%E6%B8%B8%E8%AE%B0/%E7%AC%AC017%E5%9B%9E">经典笑话</a></p>
<details>
  <summary>“原来你就是那闹天宫的弼马温么”</summary>
  <pre>
行者道：“是你也认不得你老外公哩。你老外公乃大唐上国驾前御弟三藏法师之徒弟，姓孙，名悟空行者。若问老孙的手段，说出来，教你魂飞魄散，死在眼前。”那怪道：“我不曾会，你有甚么手段，说来我听。”行者笑道：“我儿子，你站稳著，仔细听之。我：

自小神通手段高，随风变化逞英豪。
养性修真熬日月，跳出轮回把命逃。
一点诚心曾访道，灵台山上采药苗。
那山有个老仙长，寿年十万八千高。
老孙拜他为师父，指我长生路一条。
他说身内有丹药，外边采取枉徒劳。
得传大品天仙诀，若无根本实难熬。
回光内照宁心坐，身中日月坎离交。
万事不思全寡欲，六根清净体坚牢。
返老还童容易得，超凡入圣路非遥。
三年无漏成仙体，不同俗辈受煎熬。
十洲三岛还游戏，海角天涯转一遭。
活该三百多馀岁，不得飞升上九霄。
下海降龙真宝贝，才有金箍棒一条。
花果山前为帅首，水帘洞里聚群妖。
玉皇大帝传宣诏，封我齐天极品高。
几番大闹灵霄殿，数次曾偷王母桃。
天兵十万来降我，层层密密布枪刀。
战退天王归上界，哪吒负痛领兵逃。
显圣真君能变化，老孙硬赌跌平交。
道祖观音同玉帝，南天门上看降妖。
却被老君助一阵，二郎擒我到天曹。
将身绑在降妖柱，即命神兵把首枭。
刀砍锤敲不得坏，又教雷打火来烧。
老孙其实有手段，全然不怕半分毫。
送在老君炉里炼，六丁神火慢煎熬。
日满开炉我跳出，手持铁棒绕天跑。
纵横到处无遮挡，三十三天闹一遭。
我佛如来施法力，五行山压老孙腰。
整整压该五百载，幸逢三藏出唐朝。
吾今皈正西方去，转上雷音见玉毫。
你去乾坤四海问一问，我是历代驰名第一妖。”

那怪闻言笑道：“你原来是那闹天宫的弼马温么？”

行者最恼的是人叫他弼马温，听见这一声，心中大怒
</pre>
</details>

<p>这一切也发生在职场。现在流行把同事叫 “同学”。我对此能接受，但是总感觉哪哪不对。</p>
<p>比如你求其他部门的人办事，你又没身份来安排别人，叫 “同学” 恐怕不行吧？的还是叫 “大佬”？你也不清楚对方职级，叫 “同事” 会不会太对等了？</p>
<p>对于我这种社交白痴，万分纠结。</p>
<p>职场混久了，感悟很多事儿其实是跟业务无关的。规章制度更多的都围绕一个核心：不信任成本。官场也一样，不要看什么AI 智慧城市 什么的，哪里有那么多 intelligence。全都是 diligence 不够。</p>
<p>为什么 diligence  不够？现代社会分工太细，你使唤不动别人。</p>
<p>很多事你是有心无力的。</p>
<p>或许，离开了原生家庭，这个世界没有魔法了。</p></p>
            <div class="card-subtext muted-text">
              <p>Posted <time datetime="2025-08-12T00:00:00+08:00">2025-08-12</time></p>
<p>stderr</p>            </div>
          </article>
        </div>


        <!-- new article -->
        <div class="card blog-card">
          <article class="card-body">
            <a href="/2025/stdin-06"  rel="bookmark" >
              <h2 class="card-title">原研哉《棍子和碗》</h2>
            </a>
            <p class="card-text"><p>之前看到个 <a href="https://www.dedao.cn/share/course/article?id=D4vE8rn63yN5JA5544JOpoPzG0MdqB">棍子和碗</a> 的说法，印象很深，觉得很扯，总觉得哪里不对，但是没想明白。查了下居然是 原研哉 说的。也就是传说中200w给小米logo倒了个圆角的日本设计师。</p>
<blockquote>
<p>日本设计家原研哉有一个说法，他说，这个世界上,我们用的所有东西只有两样,一个是碗,一个是棍子。什么意思？<br />
碗，就是用它围合起来的那个内部空间。比如水缸、冰箱、液化气罐、汽车、房子、手机，本质上都是碗。它内部装了什么，决定它是什么。<br />
而棍子呢？就是用它去作用于其他东西。比如弓箭、螺丝刀、枪炮、键盘，本质上都是棍子。它作用于什么，才决定它是什么。<br />
其实，我们中国人在文化中也有类似的分类法。我们经常说一个词“器具”。所谓“器”，就是装东西的，就是原研哉说的“碗”；而“具”呢，就是作用于其他东西的，就是原研哉说的“棍子”。这两样东西合起来就是“器具”，也就是人类造出来的所有东西的统称了。<br />
之所以提这个分类方法，是想说，我们观察任何东西，都有两个角度，一个是看它内部装的是什么，就是它作为一只“碗”的特质。还有一个，就是看它作用于什么，就是它作为一支“棍子”的特质。<br />
比如说，我们了解一个人，当然可以把它看成一只碗，看他身体内部的状况，给他做体检，和他谈心，看他的所思所想，这是了解一个人的方法。但是我们也可以把他看成是一根棍子，在他周边的社会关系中进行访谈，看他干了什么，成就了谁，又祸害了谁，他在自己的社交网络里面填补了什么空白，他的每一个行动是在应对什么挑战。</p>
</blockquote>
<p>刚中午小憩的时候，突然想通了，这个二元论分类太内涵，太隐晦了。我不妨帮日本人把这个分类说得更直白一些：</p>
<ul>
<li>棍子就是 JJ</li>
<li>碗就是 子宫</li>
</ul></p>
            <div class="card-subtext muted-text">
              <p>Posted <time datetime="2025-06-18T13:55:00+08:00">2025-06-18</time></p>
<p>stdin</p>            </div>
          </article>
        </div>


        <!-- new article -->
        <div class="card blog-card">
          <article class="card-body">
            <a href="/2025/stdout-04"  rel="bookmark" >
              <h2 class="card-title">A single Python function for both async/sync</h2>
            </a>
            <p class="card-text"><p>Scenario: I often need to write Python functions like:</p>
<ol>
<li>take some parameters and format them</li>
<li>call an API with the formatted parameters</li>
<li>parse the result and return chosen values</li>
</ol>
<p>There's a huge problem in step #2.</p>
<p>In today's Python world, troubles arise because async/await are "infectious", In practice this function is splitted - like in Python stdlib, where a vanilla <code>method</code> and its async counterpart <code>amethod</code> often come in pairs. Package authors scramble to provide sync transport and another async transport. I discovered this ugly fact while reading the source code of<code>redis-py</code>, <code>httpx</code> and <code>elasticsearch-py</code>.  Duplicate and lookalike code was always written twice. All it takes is some random async IOs in one place and your code would be forced to change forever.</p>
<p>Is there a way to write the function in one place, but callable both with async and without?</p>
<p>I pondered this question for ages, and today I stumbled upon something interesting:</p>
<pre><code class="language-python">
  def s1():
    return asyncio.sleep(1)

  async def s2():
    return await async.sleep(1)
</code></pre>
<p>There's virtually no difference when calling <code>await s1()</code> and <code>await s2()</code></p>
<p>I vaguely remembered how Python’s coroutines were designed, and after some tinkering, I came up with this snippet:</p>
<pre><code class="language-python">
import asyncio, types, functools

def aa(f):
    &quot;&quot;&quot;
    make a function both awaitable and sync
    idk how to property name this. anti-asyncio (aa) maybe?
    &quot;&quot;&quot;
    @functools.wraps(f)
    def wrapper(func, *args, **kwargs):
        if asyncio.iscoroutinefunction(func):
            return types.coroutine(f)(func, *args, **kwargs)
        else:
            async def afunc(*a, **kw):
                return func(*a, **kw)
            g = types.coroutine(f)(afunc, *args, **kwargs)
            try:
                while True: next(g)
            except StopIteration as ex:
                return ex.value
    return wrapper


@aa
def my_func(func, *args, **kwargs):
    # prepare args, kwargs here
    # add a prefix `yield from` everywhere, for either sync/async
    result = yield from func(*args, **kwargs)
    # handle the result here
    return result


import httpx

# async
async def main():
    # the same as `await httpx.AsyncClient(timeout=3).get('https://est.im')`
    print(await my_func(httpx.AsyncClient(timeout=3).get, 'https://est.im/'))
asyncio.run(main())


# sync
print(my_func(httpx.get, 'https://est.im'))
# works the same as httpx.get('https://est.im')

</code></pre>
<p>The above shows a single function called <code>my_func</code>, dependency injection of an HTTP <code>get</code>  call of either sync/async, allows for customizable  pre- and post-processing logic, and returns the result with clean syntax.</p>
<p><strike>The only mental tax: inside <code>my_func</code>, you have to replace all <code>await</code> keyword with `yield from.</strike></p>
<p>Update 2025-05-16: The only mental tax: add a <code>yield from</code> prefix for every <code>func</code>calls for IO or API, either sync or async.</p>
<p>It solves all problems for my scenario and I’ve yet to find a simpler solution. If you have a good name for the <code>@aa</code> decorator please comment!</p>
<p>A sidenote, I am not sure if this method affects async schedulers and blocks something maybe? Like the <code>while True</code> might be a new kind of GIL. Also i haven't looked at problems with contextvars.</p></p>
            <div class="card-subtext muted-text">
              <p>Posted <time datetime="2025-05-14T14:35:00+08:00">2025-05-14</time></p>
<p>stdout</p>            </div>
          </article>
        </div>


        <!-- new article -->
        <div class="card blog-card">
          <article class="card-body">
            <a href="/2025/stdin-05"  rel="bookmark" >
              <h2 class="card-title">听 彭罗斯 吹了90分钟波函数的坍塌</h2>
            </a>
            <p class="card-text"><p><a href="https://www.youtube.com/watch?v=sGm505TFMbU">https://www.youtube.com/watch?v=sGm505TFMbU</a></p>
<p>Roger Penrose:  I don't believe it is consciousness that collapses the wave function, instead it's the collapse of the wave functions that produces consciousness</p>
<p>这句话很美妙啊。一下子把唯物和唯心给联系起来了。</p>
<p>我一直觉得，人的意识，就是因果律的推演。这个推演明显是一个离散的，有清晰步骤的，quantized 的和决定论的。</p>
<p>人的潜意识和直觉可能是概率的。</p>
<p>看完这个 90分钟的访谈，我大概明白为啥 量子力学 和 神棍 经常联系在一起了。一切都源于这个薛定谔方程 和 “观察者”</p>
<p>观察者不是一个真实存在的定义。你甚至无法严格定义 观察。欧美神棍一般喜欢往三位一体，意识，灵性上面靠。感觉物理世界是混沌的，一下子有了光，状态就坍缩了。哈哈哈。</p>
<p>国内的话 遇事不决，量子力学。民科重灾区。甚至还有量子佛学这种离谱的。</p>
<p>他还写了一本书，Fashion , Faith and Fantacy，fashion就是弦论，faith 就是量子力学。fantacy是宇宙膨胀理论。哈！</p></p>
            <div class="card-subtext muted-text">
              <p>Posted <time datetime="2025-04-30T16:31:00+08:00">2025-04-30</time></p>
<p>stdin</p>            </div>
          </article>
        </div>


        <!-- new article -->
        <div class="card blog-card">
          <article class="card-body">
            <a href="/2025/stdin-04"  rel="bookmark" >
              <h2 class="card-title">光 的本质是什么？</h2>
            </a>
            <p class="card-text"><p>来自 <a href="https://curtjaimungal.substack.com/p/well-technically">Curt Jaimungal</a></p>
<p><strong>Guy</strong>：什么是光？<br />
<strong>Chap</strong>：嗯，光是使物体可见的东西……<br />
<strong>Bloke</strong>：其实，光也可以是不可见光谱的一部分，比如紫外线和红外线……<br />
<strong>Lass</strong>：其实，光是光子，是电磁场中的一种波动……<br />
<strong>Dude</strong>：其实，光子是电磁场中量子化的波动……<br />
<strong>Fellow</strong>：其实，光子是与狄拉克方程的 <code>U(1)</code> 对称性相关的规范玻色子……<br />
<strong>Guy</strong>：其实，光子是与狄拉克方程的局域 <code>U(1)</code> 对称性相关联的规范玻色子……<br />
<strong>Fellow</strong>：其实，光子场来源于 <code>SU(2)ʟ × U(1)ʏ</code> 的一个子群——该子群保持希格斯真空态不变……<br />
<strong>Chap</strong>：其实，光子一种导数……<br />
<strong>Guy</strong>：其实，光子是为了使导数具有规范不变性而进行的修改，和刚才那位说的一样……<br />
<strong>Lass</strong>：其实，光子是庞加莱群的一个表示……<br />
<strong>Dude</strong>：其实，光子是庞加莱群的一个<em>不可约</em>表示……<br />
<strong>Fellow</strong>：其实，光子是庞加莱群不可约表示的一个<em>基底</em>元素……<br />
<strong>Guy</strong>：其实，光子是一个四维时空中无质量、自旋为 1 的粒子……<br />
<strong>Chap</strong>：其实，庞加莱群本来就在四维时空中，所以这是多余的细节……<br />
<strong>Bloke</strong>：其实，庞加莱群可以推广为任意维度 <code>d</code> 下的 <code>ISO(1,d−1)</code> 群……<br />
<strong>Lass</strong>：其实，<code>d</code> 必须大于 2，否则系统会出现简并结构……<br />
<strong>Dude</strong>：你才简并呢……哦不好意思……我是说，其实，光子是从超图的底层更新规则中涌现出来的一种现象……<br />
<strong>Fellow</strong>：其实，光子是统一规范势 <code>ϖ</code> 中与结构群 <code>Spin(4)</code> 子群相关的一个特定分量，而这些规范分量是通过观测嵌入被拉回到我们 4D 时空中的……<br />
<strong>Guy</strong>：其实，我们原本是在谈“光“这个词，它源自古英语 <em>lēoht</em>，意思是“亮度“……<br />
<strong>Chap</strong>：其实，它是原始日耳曼语 <em>leuhtam</em>，也表示亮度——所以你这次总算说对一件事……<br />
<strong>Dude</strong>：其实，词源更早是原始印欧语 <em>leuk-</em>，意为“光、亮“，同源词有拉丁语 <em>lux</em>、希腊语 <em>leukos</em>（意为“明亮、白“）……<br />
<strong>Lass</strong>：其实，还可以追溯到梵语 <em>rochis</em>，意思也是“亮度“……<br />
<strong>Dude</strong>：其实，你不该说“其实“，你破坏了节奏……<br />
<strong>Fellow</strong>：其实，词源顺序是：古英语 → 拉丁语 → 原始日耳曼语 → 希腊语 → 梵语 → 原始印欧语……<br />
<strong>Guy</strong>：其实，光是黑暗的缺失，而黑暗的定义是邪恶……<br />
<strong>Chap</strong>：其实，“邪恶“可以在扭量空间中建模为全纯对象……<br />
<strong>Bloke</strong>：其实，我们回到光子的问题，它在弦论中是 <code>H¹(T, O(−2))</code> 的一个上同调类，其中 <code>T</code> 是扭量空间，<code>O(−2)</code> 是一个全纯线丛，用于编码自旋为 1 的无质量场的螺旋度……<br />
<strong>Lass</strong>：其实，光子是共形场论中的边界激发……<br />
<strong>Dude</strong>：其实，光子是电子-正电子对自纠缠形成的涡旋结构，可能包含 <code>T4G</code> 框架下的虫洞子结构……<br />
<strong>Bloke</strong>：其实，光子是由弦局域场表示的，属于庞加莱群下零质量、无限自旋的表示……<br />
<strong>Fellow</strong>：其实，光子是一个沿零测地线传播的无质量粒子……<br />
<strong>Guy</strong>：其实，引力子和其他假设粒子也可以是无质量的，并沿零测地线传播，所以……<br />
<strong>Chap</strong>：其实，光子是光中微子的超对称伴粒子……<br />
<strong>Bloke</strong>：其实，在弦论中，光子是开放弦的第一个激发态，通常出现在 Neveu–Schwarz 扇区……<br />
<strong>Lass</strong>：其实，你们已经这样说了五十年……<br />
<strong>Dude</strong>：其实，我没说五十年，不然我一直在呼气早就不能呼吸了……<br />
<strong>Fellow</strong>：其实，你太咬文嚼字了……<br />
<strong>Dude</strong>：其实，我只是在追求表达的精确性……<br />
<strong>Chap</strong>：其实，你表现出对“其实”准确性的过度执着，并在越来越细微的细节上纠缠，以至于忽视了整体，这正是咬文嚼字的体现……<br />
<strong>Bloke</strong>：其实，你的指责本身是主观观点，而不是“其实”判断……<br />
<strong>Dude</strong>：好吧，这有点失控了。<br />
<strong>Chap</strong>：其实没有，一切都在掌控之中。<br />
<strong>Fellow</strong>：你是个傻子。<br />
<strong>Guy</strong>：而你没有动用你整个大脑。<br />
<strong>Fellow</strong>：这没关系，因为人类本来也只使用了 10% 的大脑……<br />
<strong>Bloke</strong>：……<br />
<em>（众人互望）</em><br />
<em>（沉默十秒）</em><br />
<strong>Fellow</strong>：……<br />
<strong>Guy</strong>：（看着 Dude）还是别说这个了——<br />
<strong>Dude</strong>：其实……</p>
<p>Curt Jaimungal 的视频看着真过瘾。我是从他 youtube 频道 <a href="https://www.youtube.com/watch?v=XcY3ZtgYis0">Theories of Everything 最近一期喷真理元素 (Veritasium)</a>  了解这个人物的。北美何教授。</p></p>
            <div class="card-subtext muted-text">
              <p>Posted <time datetime="2025-04-29T14:20:00+08:00">2025-04-29</time></p>
<p>stdin</p>            </div>
          </article>
        </div>


        <!-- new article -->
        <div class="card blog-card">
          <article class="card-body">
            <a href="/2025/stdout-03"  rel="bookmark" >
              <h2 class="card-title">Windows 自动设置开机锁屏壁纸 V3</h2>
            </a>
            <p class="card-text"><p>之前也写过，Windows下自动设置墙纸 <a href="/202104/stdout-005">V1</a>，<a href="/2021/stdout-024">V2</a>，今天发现两种方法都失效了。</p>
<p>于是一气之下搞了个 Bing Image of the Day 版本的。</p>
<p>保存为 change_wallpaper.bat 双击执行。加入自启动或者定时触发。</p>
<pre><code>@if (@X)==(@Y) @end /* set Win10 wallpaper to Bing Image of The Day. By est.im
@echo off
cscript //Nologo //U //E:JScript "%~F0"
exit /b %errorlevel%
*/

function http_get(url){
  var xhr = new ActiveXObject("MSXML2.XMLHTTP")
  xhr.open("GET", url, false)
  xhr.setRequestHeader("Accept-Encoding", "identity")
  xhr.send()
  return xhr
}

var rss_req = http_get('https://www.bing.com/HPImageArchive.aspx?format=rss&amp;idx=0&amp;n=1&amp;mkt=en-US')
// WScript.Echo(rss_req.getAllResponseHeaders())
var img_url = 'https://www.bing.com' + rss_req.responseXML.selectSingleNode("//rss/channel/item/link").text
WScript.echo(img_url)
var fso = new ActiveXObject("Scripting.FileSystemObject")  // shit cant handle binary data
var stream = new ActiveXObject("ADODB.Stream")
var img_path = fso.GetSpecialFolder(2)+"\\bing_iotd.jpg"
WScript.echo(img_path)
stream.Open()
stream.Type = 1
var img_req = http_get(img_url)
stream.Write(img_req.responseBody)
stream.SaveToFile(img_path, 2)
stream.Close()

var WshShell = new ActiveXObject("WScript.Shell")  
WshShell.RegWrite("HKEY_CURRENT_USER\\Control Panel\\Desktop\\Wallpaper", img_path, "REG_SZ")
WshShell.Run("RUNDLL32.EXE user32.dll,UpdatePerUserSystemParameters")
</code></pre>
<p>其中 <code>format=rss</code> 可以改成 <code>=js</code> 或者 <code>=xml</code> 本来想解析 json 但是发现老的 IE6 引擎不能支持双引号这种JSON，而且只能用 <code>eval()</code> 就放弃了。还好有 xpath 还挺方便。</p>
<p>要用 .bat 套一层是因为 win10 貌似禁止 <code>.js</code> 或者 <code>.vbs</code> 双击执行了。病毒木马太多了。这种一份源码同时被两种语言解析还有点<a href="/cnblogs/600416">技巧</a>可以参考下。</p>
<p>很久没写 .jscript 了用了 ChatGPT 这个 vibe coding 真爽。</p></p>
            <div class="card-subtext muted-text">
              <p>Posted <time datetime="2025-04-25T23:49:00+08:00">2025-04-25</time></p>
<p>stdout</p>            </div>
          </article>
        </div>


        <!-- new article -->
        <div class="card blog-card">
          <article class="card-body">
            <a href="/2025/stderr-03"  rel="bookmark" >
              <h2 class="card-title">语言，逆差</h2>
            </a>
            <p class="card-text"><p>又睡不着，琢磨<a href="https://x.com/yetone/status/1911679048347983988">一段话</a>：</p>
<blockquote>
<p>多戲超人 @DoubleFakeCute： 文字很容易传播仇恨，但很难传递感动。<br />
@yetone：  是的，换句话说文字传播感动是需要功底的，但是传播仇恨不用上完九年义务教育就可以</p>
</blockquote>
<p>这句话背后揭示了一个道理：表达愤怒、抱怨、不满，似乎是语言最原始、最本能的用途。人类还未掌握完整的语法与修辞，就已学会了哭泣。</p>
<p>新生婴儿落地的第一声啼哭，正是一种天赋的语言——一种对环境提出抗议的表达。哲学家维特根斯坦说过：“语言的边界就是世界的边界。”在生命伊始，我们的语言边界，即是对苦痛的感知；我们最早学会的，是如何说“我不喜欢”。</p>
<p>相较之下，笑，是后天习得的，是在社会化过程中逐渐学会的回应。但当笑成为一种礼貌、成为一种职场的面具，它也就褪去了它的真实。于是我们在笑中疏离，在沉默中彼此冷漠，脸上浮现的，是长久训练出的 poker face，那张扑克脸仿佛是一种文明社会强加的伪装。</p>
<p>最近 realDonaldTrump 把🇨🇳进口关税从10%，20%，54%，104% 一路干到154%。 仿佛数字本身也在喊叫。一个长期生活在中国的美国人 <a href="https://www.bilibili.com/video/BV1LCdRYtE57/">王渊源John</a> 打趣地说 trump 的支持者之所以对“涨关税”拍手叫好，是因为“trade deficit”（贸易逆差）这个词在英语里带有天然的负面含义——“deficit”意味着赤字、亏空，仿佛国家正在负债累累。而在中文语境中，“逆差”这个词更像是一种经济现象，而非道德沦丧，无需过度反应。</p>
<p>这让我想起另一个语言误会的悲剧——美国的“war on drugs”（禁毒战争）之所以久攻不下，很大程度上，也可能是败在语言上。在英语中，“drug”一词含义，既可以指药品（medicine），也可以指毒品（narcotics）。这导致在大众语感中，毒品并没有一种“邪恶之物”的鲜明面孔。相比之下，中文中“毒品”与“药品”泾渭分明，一个是治病，一个是害命，“吸毒”这个词本身就带着罪与恶的意味。而英文中的“drug overdose”，只不过是一场“药物使用过度”的中性描述，仿佛只是剂量出了问题，而非价值观的崩塌。</p>
<p>语言之毒，在于其无形；它不像刀剑那样可见、可防，而是悄无声息地改变我们的感知。孔子曾说：“巧言令色，鲜矣仁。”。庄子又言：“言者所以在意，得意而忘言。”。语言虽巧，往往意在蛊惑；修辞的闪光点，也可能是陷阱的倒影。语言的本质是媒介，而非终点。</p>
<p>古代巫师、祭司、先知，其实都是语言的炼金术士。他们并非真正能预见未来，而是能以一字一句为符咒，将人的心智引向他们想要的方向。如《盗梦空间》中，那个悠悠旋转的陀螺，不断将人困于梦与醒之间，真假难辨。</p>
<p>语言即现实的建构者，它能唤醒你，也能奴役你。它是文明的基石，也是误解的温床。传播仇恨，只需几句粗陋的标语；而传递感动，却如雕刻光影，需要时间、技艺与赤诚。</p>
<hr />
<p>15:12 根据ChatGPT润色了文章。太他妈吊了。</p></p>
            <div class="card-subtext muted-text">
              <p>Posted <time datetime="2025-04-15T05:54:00+08:00">2025-04-15</time></p>
<p>stderr</p>            </div>
          </article>
        </div>


        <!-- new article -->
        <div class="card blog-card">
          <article class="card-body">
            <a href="/2025/stderr-02"  rel="bookmark" >
              <h2 class="card-title">Su7🔥，智驾，假风口</h2>
            </a>
            <p class="card-text"><h3>车祸和智驾</h3>
<p>北国春深，乍暖还寒。3月29日夜，三位大四女学生开着小米Su7新能源轿车，在安徽高速上着火出事，不幸香消玉殒。</p>
<p>恰好米车上市刚一年，卖得十分火爆。因为新能源起火+死人，31日，1日舆论爆炸。作为全程吃瓜群众，觉得有必要写一些我的感知。</p>
<p>还记得，首先乱七八糟群里看到各种截图和聊录，抖音哭惨。有家属（事后被证实是女主男友）痛陈了米车 刹车，“自”燃，车机死机，智驾，AEB等诸多技术问题，以及封号删帖等不公正掩盖行为。</p>
<p>随着消息丰富和媒体报道，事实的大概的轮廓逐渐清晰：</p>
<ol>
<li>车是Su7标准版，电池应该是弗迪，女主家里出资买的</li>
<li>车主归女主男友所有，因女主还未毕业，拿不到车贷</li>
<li>女主和两位同学去外地考试，给女主母亲说的坐高铁</li>
<li>女主“借车”出行，夜里出车祸，起火燃烧，前排两人遇难，后排被破窗拉出，遭遇不测。</li>
</ol>
<p>本能的带入思考一下，车烧人陨，算是大事了。如果是旧能源车，起火怪车子质量，撞车怪驾驶。但是着是新能源，就得更加细分：</p>
<ul>
<li>起火原因，普遍观念，重点看用的什么电池。三元锂肯定不如铁锂。但是出事的恰好是标准版，多半是铁锂。我觉得，PACK设计，是否CTB和电芯倒置也很重要。</li>
<li>司机用了智驾，小米的公告说提前2秒退出，都不用猜肯定是这个结果</li>
<li>因为事故当时高速在修路，有各种桩桶水马，那么有没有超速，避险，甚至路政设施不到位的问题？</li>
<li>最后才轮到司机自身问题</li>
</ul>
<p>截止现在 20250402 00:04，矛头普遍指向米车智驾NOA太烂。各种短视频、自媒体、矩阵号扮演不懂就问，把民意引导扩大到米车质量问题，营销问题，雷军人品问题了。</p>
<p>我想说：啊？智驾难道还有不烂的？</p>
<p>作为十多年驾龄的老司机，如果我在高速遇到事，比如爆胎，首相想的就是怎么从路政拿到赔偿，而不是怀疑轮胎或者车辆本身有啥猫腻；回到前面，发现一个重大差别：车是借的。民间有说法，车和女人不外借。出事的车上还有其他两位女性，如果有赔偿问题，车主肯定首当其冲。车主不会选择漫长的从路政那里维权，找最快引爆流量的方向——从车企入手。</p>
<p>于是问题的矛盾集中在智驾爆发了。</p>
<p>智驾这个关乎生命安危的议题。我对它的接受设定为：</p>
<ol>
<li>可以不用，但是最好有</li>
<li>如果某一次生效，把车从事故边缘拉回来一次，就算值了。</li>
</ol>
<p>但显然大众对智驾有更高的看法和期待，幻想能完全保驾护航。</p>
<p>设想一下女性单独出远门长途，夜里开车，加上出事的现场在打围修路，需要变道往对向车道，开着100+的NOA超速，稍有不慎处置不当，这不妥妥大事故。夜里过往车辆少。错过宝贵的救援窗口时间。你最好祈祷智驾在这期间要么工作0次，驾驶员直接接管，要么成功100%，</p>
<p>三条人命就这样消失了。</p>
<hr />
<h3>说说小米</h3>
<p>我当年一直给各种Samsung刷机MIUI。当smzdm说MIUI做手机了，果断冲了首发，然而米1手机有个电池虚焊的致命硬伤，变路人；抢红米抢不到，感觉被猴耍，变米黑；突然有一天，雷总说给1999返现，我又转粉了。我平时喜欢看一些汽车类资讯，也感叹米车的成功。雷军的爆款思维很是有一套。</p>
<p>面对车祸带来的口水👊，斗胆对万亿总裁指点一下江山：现阶段智驾是个假风口。</p>
<p>雷军很喜欢讲顺势而为，风口的猪也能起飞，记得一次采访他说之所以造车是因为小米集团里的人才都跑去做车机，做智驾了。然后🇺🇸一制裁duang你手机芯片成问题了。拿干脆下场做车得了。新能源技术卖点，除了三电还能有啥，就是智驾。</p>
<p>我看待智驾的出发点：它永远无法达成L4 L5的目标。更不要说纯视觉方案了！理由很简单，就算你训练AI做得和人一样聪明，最顶尖的人类驾驶员开车也会犯错，AI有何根本机制避免？既然AI无法避免，车企担责就是不可避免的。</p>
<p>顺着这个出发点，那么现阶段最好的智驾供应商，天生有一道护身符。如果它出了事，可以拿“市面上你也找不到更好的智驾”给圆过去。比如鸿蒙M7出事，KOL可以大大方方造谣说是博世方案的锅，虽然舆论也很难看，但是华为方案这个核心并未受到挑战。因为它就是无可争议的No.1</p>
<p>但是老二和老三就难受了。消费者愿意为了最好的东西支付溢价。这场比赛可没有“顺势”。所有擂台上甘拜下风的竞争者，遇到逆风局，都只能被动挨打。这是个赢家通吃的游戏。</p>
<p>今天小米公告，雷军的发言，给人的感觉就是只想平息，并没有太好的针对措施。技不如人，还能咋办？等热度过去，继续x砸钱干研发呗</p>
<p>这事还有更主动的出路。在前面已经列出关键——路政。</p>
<p>家属和民意选择往车企身上靠贴，你车企不知道往路政靠？毕竟未来的智慧交通，“车路协同”，V2X，也是很重要的一环。直接大大方方承认，智驾无法单独承担责任，遇到静态物品太迟。就算人开车，也不能很远发现前方路况出什么事了。过去出租车司机靠对讲机通风报信，现代人不也是要靠GPS+地图路况。高德那个山路弯道会车提醒就广获好评。同理，遇到道路施工或者险情，路政是不是应该能主动下发推送，提前切断区域内所有智驾，推送降速行驶指令呢？</p>
<p>所谓“赛博桩桶” 是也。</p>
<p>雷军作为人大代表，北京现金王，完全应该站出来，倡议这件事。跳出“智驾”这个死局，开辟新的路线。有些“势”就不能等别人造，得自己突破。</p>
<p>技术上做这个事情太容易，电子路标，还有雷军倡议的智慧车牌。就拿现有的框架，ETC龙门架就可以下发一定的数据。新车也是强制配备ETC终端的，完全可以跟智驾通信。</p>
<p>这样，以后如果路政没设置电子围栏，至少也分得大锅。</p>
<p>路政不愿意接受，米车之间能不能组一个路况网呢？加上蔚小理搞个实时路况联盟行不行呢。单机蒙猜，不如群体智慧。这事就算没法立刻落地，至少也是个话题讨论点，怎么也能熬过这次危机。</p>
<p>安全开车这事，没必要指望那点可怜的CMOS像素和矩阵乘法来承担一切</p></p>
            <div class="card-subtext muted-text">
              <p>Posted <time datetime="2025-04-01T23:48:00+08:00">2025-04-01</time></p>
<p>stderr</p>            </div>
          </article>
        </div>


        <!-- new article -->
        <div class="card blog-card">
          <article class="card-body">
            <a href="/2025/stderr-01"  rel="bookmark" >
              <h2 class="card-title">早高峰路上的碎碎念</h2>
            </a>
            <p class="card-text"><p>周一早上，刚刚在人形匆匆里送完孩子到校，回头又开车出门。通勤路上，这段时间一直在琢磨孩子的事，比如这将来升学就业压力。因为被网上出生人数年份图片给弄焦虑了，活在生育高峰的不幸，从就面临更大的竞争压力。</p>
<p>早高峰堵车是最影响人一天心情的，我习惯见缝插针搓方向盘。突然思维有些碰撞。你说这车道，是不是就很像人生？</p>
<p>如果车流量小，你敞开跑，那就看自己能力有多快。</p>
<p>如果车多呢？能不能到达你的目标，就不是你自己说算了。得考虑peer pressure，和你选择的车道。</p>
<p>城市多车道道路上，有小客车道和大车道之分，理论上左侧车道速度最快。实际呢？最右侧最快！至少在我的城市里是这样。真正的老司机会不惧进出口，去挑战复杂性，往往最右侧车速比最左侧快。大车因为起步刹车比较费劲，会选择右2车道。</p>
<p>你在社会阶层里，感去挑战最底层吗？想起来一句话“农村包围城市”，“得屌丝者得天下”。真是富贵险中求啊。</p>
<p>当然，以上的情况是开放式道路，比如城市环线。如果是封闭式道路，比如高速呢？</p>
<p>恰好我每天通勤就要经过一段连续高速。作为一个一般都是我超别人，别人很少超我的坏习惯司机，我分析了一下我路怒症的根源，那就是频繁变道。</p>
<p>频繁变道是一个投机行为。特别尴尬的是你费老鼻子变过去，发现更堵了，你之前的车道反而跑起来了。这个时候你有两个选择：</p>
<ol>
<li>回到之前的位车道，但是会掉几个位置，</li>
<li>你头铁，既然我都换车道了，就干脆再等着，再看看有没有机会</li>
</ol>
<p>我的经验是，往往这个场景下，第二种选择会一落千丈，更糟糕。因为你初次判断的车道拥堵程度，一般都是从客观出发，最准确的，后面多半是冲动，主观的情绪主导了你的判断</p>
<p>这该死的沉没成本！放不下面子的悲剧就在此。很多人辞职换赛道，也是一样的心态。好马不吃回头草，更多的人是选择继续再换另外一个车道。哈！虽然走回头路会显得很小丑，但是有的时候就是——唉，真香</p>
<p>糟糕的情况，真正得到缓解，是时代的变迁，比如遇到高速出入口汇入汇出了。患得患失，人生大忌！</p>
<p>疯狂超车，往往只是一个错觉。有的时候明明你超了很多车，但实际上你就只比别人早到一两分钟。总体差异不大。城市道路里，你付出的诸多努力，一个红绿灯就给你抹平。或者大直道你拉爆别人，但是遇到龟速车阵你也只能干瞪眼，别人也缓慢追上。人的努力固然重要</p>
<p>一个社会的总进步空间是固定的，有可能局部胜利，多次胜利，但是总体胜率也不能改变你的排位。</p>
<p>都在说阶级固化，我倒反而觉得，只要车子在缓慢走，那么大部分人不会太焦虑；如果车子完全不动，那么大家心态就很崩溃，感觉窗外路边一棵草都比人过得好。所谓的流动性，不是说你一定要超过多少人，而是说如果看到别的车道走的快，有机会能够跳过去。</p>
<p>比堵车更痛苦的，是好死不死，前面刚好有个傻逼，空出很长很长一段距离，隔壁的车一辆接一辆插入，你却无可奈何，隔靴搔痒。就像你看别人都发财了，你却无计可施，急死了。现实世界，人和人对于有限岗位的竞争，所谓长幼功序排资论辈，莫过如此。</p>
<p>但是从另一个角度想来，人多的时候机会也多。你的市场也更大，人少了，这个市场也会减少。</p>
<p>孩子的培养和性格，跟车子一样。在长期竞争里是多维度的。比如谁牵引力大，起步快，谁就能很快的抓住一些短期的利益。但是长途路上是否开着舒服，它需要看底盘的平衡和座椅的舒适。遇到车少的蓝海，这个时候就看你爆发的巅峰技能，谁极速高谁能更快到达终点。</p></p>
            <div class="card-subtext muted-text">
              <p>Posted <time datetime="2025-03-24T09:40:00+08:00">2025-03-24</time></p>
<p>stderr</p>            </div>
          </article>
        </div>


        <!-- new article -->
        <div class="card blog-card">
          <article class="card-body">
            <a href="/2025/stdout-02"  rel="bookmark" >
              <h2 class="card-title">正则获得国际电话前缀</h2>
            </a>
            <p class="card-text"><p><a href="https://blog.est.im/post/48751778838">2013年</a>的时候喷过ITU这个国际电话号码，前缀是变长的问题</p>
<p>今天遇到问题，需要按国际区号初步分析归属地和供应商，<a href="https://stackoverflow.com/questions/2113908/">stackoverflow</a>和AI给的都很渣，写了个正则：</p>
<pre><code>re.compile(r"""\+
    (1  # north america
    |(?:  # 3 digits
        21|22|23|24|25|26|29|35|37|38|42|
        50|59|67|68|69|80|85|87|88|96|97|99)\d
    |[2-9]\d)  # two digits
""", re.VERBOSE)
</code></pre>
<p><code>+1</code> 开头的是北美，然后依次寻找3位的，再匹配2位的。</p>
<p><code>+7</code> 本来是苏联的，现在给 哈萨克斯坦 和 俄罗斯 了，就当成两位的判定吧。</p></p>
            <div class="card-subtext muted-text">
              <p>Posted <time datetime="2025-02-25T11:38:00+08:00">2025-02-25</time></p>
<p>stdout</p>            </div>
          </article>
        </div>


        <!-- new article -->
        <div class="card blog-card">
          <article class="card-body">
            <a href="/2025/stdout-01"  rel="bookmark" >
              <h2 class="card-title">面向老外最容易理解的“春节”定义，以及其它</h2>
            </a>
            <p class="card-text"><h3>用英语把 春节 讲明白</h3>
<p>最近小红书 #tiktokrefugee 以及所谓的“中美对账”很火，然后又吵到 Chinese new year, 和 lunar new year 怎么叫，案例说闲来无事，我想搞明白究竟春节是怎么定的？</p>
<blockquote>
<p>最接近立春之朔日（月缺之日）为正月初一</p>
</blockquote>
<p>依赖历法，那么接着查</p>
<blockquote>
<p>冬至所在之朔望月为十一月</p>
</blockquote>
<p>这又是太阳历又是月亮历的，还有二十四节气。要把“春节”这玩意脱离汉文化的基础背景定义下来，很麻烦。在翻二十四节气的时候，灵机一动，因为二十四节气是太阳历，和公历几乎严丝合缝，公历又和星座能对应的上。那么春节其实可以最大程度的简化定义为：</p>
<blockquote>
<p>水瓶座的新月夜。</p>
</blockquote>
<p>新月就是看不到一丁点月亮，和满月相对。</p>
<h3>AI 能理解 春节 吗</h3>
<p>为了验证我这个说法，我问了ChatGPT：</p>
<blockquote>
<p>What's the new moon day of 2025 Aquarius zodiac sign?<br />
The new moon in Aquarius for 2025 will occur on January 29, 2025.<br />
What's the new moon day of 2024 Aquarius zodiac sign <br />
The New Moon in Aquarius in 2024 will occur on February 9, 2024</p>
</blockquote>
<p>2024年差了一天怎么回事？新月 (new moon) 作为天文现象是发生在一个确定时间的。但是对应到世界各地，当地时区的原因，可能差1天。所以我感觉这个说法是 close enough 了。</p>
<p>国产AI Deepseek 思考的也不错：</p>
<blockquote>
<p>What's the new moon day of 2025 Aquarius zodiac sign?<br />
the new moon day for the Aquarius zodiac sign in 2025 is January 29, 2025.<br />
how about 2024<br />
the new moon day for the Aquarius zodiac sign in 2024 is February 9, 2024</p>
</blockquote>
<p>我想看下 R1 推理能力，于是问了一嘴：</p>
<blockquote>
<p>what's the special holiday of this day?<br />
For January 29, 2025, the new moon day in Aquarius, there are no major globally recognized holidays</p>
</blockquote>
<p>看来傻了。我换了下 ChatGPT</p>
<blockquote>
<p>any holiday on that day?<br />
Yes! January 29, 2025, falls on Lunar New Year’s Eve, which is the day before the Chinese New Year (Year of the Snake).</p>
</blockquote>
<p>R1 对自己上下文可能不太重视。</p>
<h3>春节 怎么翻译</h3>
<p>这个问题想完，回到一开始的问题，有人说 CNY 和 LNY 都不好，不如直接叫 Spring Festival 。我觉得，很有道理。毕竟英语对所有外来词都是音译。<a href="https://www.zhihu.com/question/11047706645/answer/96973692909">比如</a></p>
<ul>
<li>春卷，英语一般称为 Spring Roll，而不是 Chinese Burrito</li>
<li>馒头，英语一般称为 Mantou或者 Steamed Bun。而不是 Chinese Bread</li>
<li>云吞，英语一般称为 Won Ton。而不是「Chinese Ravioli</li>
</ul>
<p>但是进一步想，英语为啥就能接受 burrito、ravioli 这样的外来词汇，不如干脆直接叫 Chunjie ？</p>
<p>其实，全世界的主要语言里，只有汉语还在坚持“意译”。别的语言早弃疗了，直接音译或者 transliteration。原因很简单，全世界主要语言里，只有“中文”是非 alphabet 体系。其它的文字都是表音的。只要发音一样，就是同一件事物，按不同的字母表书写而已。</p>
<p>如果按照这个思路，全世界的拼音语言，不出意外，都会趋势都会被英语统一，成为 Lingua franca。这也是我前一篇blog说为啥<a href="https://blog.est.im/2025/stdin-02">要学习英语</a>。</p>
<p>除了一个例外——中文。主要语言里，只有中文还在孜孜不倦的把一切外来和新鲜事物，用古老的文字重新描述 “reinterpret” 一番。久远一点的，国外叫 twitter，国内非得叫 sina microblog, sohu microblog, tencent microblog，近一点的，全世界都叫 AI，LLM这样的缩写，就国内坚持叫 “人工智能”，“大模型”。 大模型还省略“语言”两个字</p>
<h3>homeless 和房产税</h3>
<p>又想起这段时间 “中美对账”引发的第二个问题。老美很多 homeless，所以有讨论国内为啥没流浪汉。很多人说是因为城管，户籍制度。因为社会主义有一个操作叫“遣返原籍”，无论你去哪个城市流浪，总能根据身份证地址把你搞回老家。</p>
<p>既然有老“家”，其实按字面意思，不能算 home-less 了。只能说当地无房而已。</p>
<p>由此想到一个问题，房产税和户籍制度是矛盾的。老美因为没有 property  所以变 homeless 所以没有 bill address 所以无法申请社保和银行卡，无法参与社会生产从而只能乞讨。如果国内也开始搞 property tax，那么首先的技术问题就是在哪个环节征收？</p>
<p>最大的可能性就是交易环节。那么大不了不卖了，就出租，子子孙孙传一辈子。退一步说，你欠房产税，行政部门会把你房子拍卖吗？如果你觉得会，那么问题来了，和欧美最大的不同，请问你没房之后，户籍地址写哪里？</p>
<p>有人说，上集体户啊。集体户其实从设计上来说，必须得有“单位”挂靠的。就算最近几年搞出来所谓“人才落户”，这也建立在你在当地有一定就业能力，有潜在的“雇主”背书的。你都交不起房产税了，哪个人才中心敢接收你的户口啊？接收户口，意味着以后所有关于这个“人”的麻烦都归属地管理。</p>
<p>按照这个推演，房产税只有三个结果：</p>
<ol>
<li>不实施；或者实施了不怎么收（参考重庆上海）</li>
<li>实施+欠费没收，动摇户籍制度</li>
<li>只针对多套房产实施，那么必然会带来大量的技术性离婚。</li>
</ol>
<h3>中美最卷</h3>
<p>和朋友聊中美话题，说现在贸易战产业转移，印度和东南亚有没有可能崛起。我说了几个反驳的理由：</p>
<ol>
<li>东南亚是产业“回流”，不是转移。别人70年代红红火火的，是广东抢走了饭碗。现在是吐出去</li>
<li>东南亚基本上都是“发达国家”。我觉得 "developed" 在英语里，压根不是“发达”的意思，而是 过去时，表示 发展到头了，没进步空间了，天花板了。去过几次东南亚旅游发现当地20年、30年前怎么样，现在还是那样。</li>
<li>一个国家能否崛起，从草根视角，就是看喜欢打拼的人，有没有出头之日？有的话，这个国家就会超过中美，如果没有，中美就会收割。。。印度和东南亚里，有这样的制度和文化的吗？在国内，这样的制度和文化其实不是好事，而是一种压迫。</li>
<li>全世界只有华人和老美最卷。前几天听到一个老美vlogger说了个事让我震惊，她说老美觉得休假是“可耻”的。之前也有耳闻，老美吃午饭特别怕耽误老板时间，也不敢午休。Hacker News上一些欧洲人也经常评论说老美的 work culture 是非常 toxic 的，太拼了。</li>
</ol>
<p>全世界只有老中和老美最拼，这个说法，是我从一个拿了中国绿卡的美国演员 曹操 那里听到的</p>
<p><a href="https://www.bilibili.com/video/BV1xe4y1o7wg/">https://www.bilibili.com/video/BV1xe4y1o7wg/</a></p>
<p>他的理论是，全世界绝大部分的人，都是挣钱能凑合过日子就行了。work to live。那种不要命挣钱，live to work的文化只有儒家有。美国出发点不一样，全世界那种少数天生喜欢拼命挣钱的人，都受不了当地懒散和松弛，润美去干大事挣大钱了。</p>
<p>言之有理啊。以前欧洲那种日子过不下去敢去一个陌生的未知的新大陆打拼的，都不是等闲之辈。所以一代传一代搞出来这么一个打拼的文化。</p>
<hr />
<p>今日份的胡思乱想就到这了。</p></p>
            <div class="card-subtext muted-text">
              <p>Posted <time datetime="2025-02-12T16:06:00+08:00">2025-02-12</time></p>
<p>stdout</p>            </div>
          </article>
        </div>


        <!-- new article -->
        <div class="card blog-card">
          <article class="card-body">
            <a href="/2025/stdin-03"  rel="bookmark" >
              <h2 class="card-title">纸吸管“环保”的说法是一个4年级小学生发明的</h2>
            </a>
            <p class="card-text"><p>之前看到elon吹捧川普取消纸吸管是<a href="https://x.com/elonmusk/status/1887886625318818292">最伟大总统</a>，一大早看到<a href="https://x.com/paulg/status/1888203276811632935">pg转的</a></p>
<blockquote>
<p>As a curious fourth grader who had just started an environmental project to discourage restaurants from providing straws by default, Cress decided to look online to find out how many straws are used each day in the United States. Not being able to find any statistics, he called straw manufacturers directly and estimated the 500 million figure based on numbers they provided him.</p>
<p>In February of 2011, Milo Cress (then nine years old) founded the Be Straw Free Campaign project to work together with members of the straw industry, restaurants and other businesses, schools, environmental groups, and concerned citizens to reduce the use and waste of disposable plastic straws.</p>
</blockquote>
<p>这个是<a href="https://www.npr.org/2018/07/22/631254978/one-childs-outsized-influence-on-the-debate-over-plastic-waste">npr报道的</a>，还是比较权威的。很多饮料是塑料杯子，然后吸管给你搞成纸质；或者纸质吸管外面用塑料包一层。只能说欧美搞这些也挺草台班子的。想起之前那个how dare you小学生，感觉是这个风气。</p></p>
            <div class="card-subtext muted-text">
              <p>Posted <time datetime="2025-02-09T10:51:00+08:00">2025-02-09</time></p>
<p>stdin</p>            </div>
          </article>
        </div>


        <!-- new article -->
        <div class="card blog-card">
          <article class="card-body">
            <a href="/2025/stdin-02"  rel="bookmark" >
              <h2 class="card-title">为什么要学习英语</h2>
            </a>
            <p class="card-text"><p><a href="https://news.ycombinator.com/item?id=42897120">HN上</a>看到一个ISBN可视化项目：</p>
<p><a href="https://phiresky.github.io/blog/2025/visualizing-all-books-in-isbn-space/">https://phiresky.github.io/blog/2025/visualizing-all-books-in-isbn-space/</a></p>
<p>截图：</p>
<p><img referrerpolicy="no-referrer" src="https://pbs.twimg.com/media/GitSyFZa0AAr_HB?format=jpg&name=large" /></p>
<p>这，可能就是为啥要学习英语吧。第一排左1、左2，第二排右2是出版的英语书籍，右三是简中。人类的大部分知识还是英语写的。这优势还是太大了。</p>
<p>这个可视化的<a href="https://annas-archive.org/blog/all-isbns.html">发起者是 Anna’s Archive</a>，优胜者获奖 $10,000，截止日期2025-01-31，旨在收集整理全人类有ISBN编号的书籍。</p></p>
            <div class="card-subtext muted-text">
              <p>Posted <time datetime="2025-02-01T22:30:49+08:00">2025-02-01</time></p>
<p>stdin</p>            </div>
          </article>
        </div>


        <!-- new article -->
        <div class="card blog-card">
          <article class="card-body">
            <a href="/2025/stdin-01"  rel="bookmark" >
              <h2 class="card-title">从红宝书到小红书：woke的演变历史</h2>
            </a>
            <p class="card-text"><p>最近tiktok ban闹得沸沸扬扬，甚至有大批“洋难民”<a href="https://new.reddit.com/r/tiktok/comments/1i0o9xn/">纷纷涌入小红书</a> ，把 "RedNote" 冲上了appstore 排行榜第一名。</p>
<p>无独有偶，<a href="https://x.com/paulg/status/1878762411697840489">看到</a> Paul Graham 一篇大作 《<a href="https://paulgraham.com/woke.html">The Origins of Wokeness</a>》，不愧是YC创始人，文笔流程优雅。开头就暴击。所谓 woke ，在维多利亚时代就是基督教义，在苏俄就是马列教义，woke 的本质是“社会公正”，老一的英语称为 prig。每个社会都有部份 prigs 人群，但是woke大行其道，pg分析，当前属于“第三次冲击”。第二波在80s年代政治正确达到顶峰90s消停。</p>
<p>那么第一波呢？第一波其实就是60s左翼学生运动。我晕，这不正是伯克利举着红宝书嗑LSD唱摇滚的年代么。pg说当年是教授纵容学生追求“新思潮”，但是学生一穷二白闹了也就完了。80s是pg自己上大学的时期，60s的大学生刚好进入教职岗位，开始引导自己的学生继续搞 political correctness，也就是举报性骚扰，要求男女平权这些；新世纪以来，特别是2020s，这些当年的左翼青年主导院长和校长等关键岗位了，所以闹得更欢了，从学界蔓延到媒体，到政界，到一发不可收拾。</p>
<p>搞 PC 最大的用处不在平权，而在于 faculty members encouraging students to attack other faculty members，作者说和 Mao 一毛一样 哈哈哈哈笑死。青年本来就愤，拿事搞人这就是天性啊。所以在第三波浪潮里就是各种 cancel culture。到后面的 BLM, metoo 等愈演愈烈。</p>
<p>最后作者提出了什么解决方案呢？他说 </p>
<blockquote>
<p>I'm not a Christian, but I can see that many Christian principles are good ones</p>
</blockquote>
<p>我表示？只能说尊重但是不认同吧。看完这篇巨作最大的感受就是，墙内各种对平权热嘲冷讽，美国老美的平权运动居然起源60年代左翼运动。这他妈倒反天罡了等于是。</p>
<p>想起最近小红书刷出巨多洋人，不知道是推荐算法sb了，监管不到位洋信息“倒灌”了，还是都是抠脚大汉的矩阵号发力了，但是我对“赛博移民”有一个简单的理解，yt，ig 这些洋平台对 tiktok 难民来说就是“建制派”，不 hip，况且头部的power user已经铁板一块没法突破了；Twitter更烂因为Musk是烂中烂。老中的“第三方”平台，无论是 tiktok 还是 Rednote 都是一种无可奈何的逃避。捧起小红书的这帮洋人，恰如他们爷爷奶奶辈在60年代面对当地当局各种问题，捧起红宝书一样，是一种寄托。这下中西合流，家人们谁懂啊洋人虾头男，一个买断X一个入主白宫了。</p></p>
            <div class="card-subtext muted-text">
              <p>Posted <time datetime="2025-01-14T23:36:23+08:00">2025-01-14</time></p>
<p>stdin</p>            </div>
          </article>
        </div>

    </main>
    <nav class="pagination-nav side-padding">
<a href="/index.02.html" class="pagination-older">Older Posts &gt;</a>    </nav>


  </body>
</html>