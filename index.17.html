<!DOCTYPE html>
<html>
  <head>
    <title>Est's Blog</title>

    <meta charset="utf-8" />
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <link href="https://feeds.feedburner.com/initiative" type="application/rss+xml" rel="alternate" title="Est's Blog RSS Feed" />

    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="This blog is rated&nbsp;&nbsp;R⃣ , viewer discretion is advised" />


    <link rel="stylesheet" href="/theme/css/normalize.min.css" />
    <link rel="stylesheet" href="/theme/css/style.css" />


    <style>
      body {
        background: #ecedef url("/theme/img/ignasi_pattern_s.png") repeat;
      }
    </style>
  </head>
  <body class="list-body">
<nav class="nav-bar side-padding">
  <h1 class="nav-header"><a href="/" class="nav-text">
    Est's Blog
  </a></h1>
  <div class="hamburger-menu">
    <button onclick="hamburgerMenuPressed.call(this)" aria-haspopup="true" aria-expanded="false" aria-controls="menu" aria-label="Menu">
      <span></span>
      <span></span>
    </button>
    <ul id="menu" class="hamburger-menu-overlay">
      <li><a href="/" class="hamburger-menu-overlay-link">Home</a></li>

        <li><a href="/category/archive.html" class="hamburger-menu-overlay-link">archive</a></li>
        <li><a href="/category/stderr.html" class="hamburger-menu-overlay-link">stderr</a></li>
        <li><a href="/category/stdin.html" class="hamburger-menu-overlay-link">stdin</a></li>
        <li><a href="/category/stdout.html" class="hamburger-menu-overlay-link">stdout</a></li>

    </ul>
  </div>
</nav>    <main class="card-container side-gutter">
      <header class="list-header">
        <p class="list-header-subtext">This blog is rated&nbsp;&nbsp;R⃣ , viewer discretion is advised</p>
        <!-- <h1 class="list-header-title">Est's Blog</h1> -->
      </header>


        <!-- new article -->
        <div class="card blog-card">
          <article class="card-body">
            <a href="/post/35631886789"  rel="bookmark" >
              <h2 class="card-title">禅宗 vs 武士</h2>
            </a>
            <p class="card-text"><p>突然觉得这个joke好经典</p>
<p>@法门寺释者慧：#禅宗公案#武士手握一条鱼到一休禅师房间说道：“咱打赌，我手中这鱼是死是活？”一休知道若说是死的，武士定会松手；而说是活的，武士定会暗中使劲把鱼捏死。于是一休说：“死的。”武士把手松开，笑道：“哈！你输了，鱼是活的。”一休淡淡一笑道：“是的，我输了。”但是他却救了一条实实在在的鱼。</p>
<p>@冥王哈：#禅宗微小说#一天，一个武士抓着一条活鱼来找禅师，说：“你猜这是活鱼还是死鱼，如果是活鱼我就杀了它。”禅师不想打诓语，又不能害了这只鱼，便十分苦恼，深深思考，半小时后，禅师说：“是死的。”武士看看手中的鱼，说：“你妹啊！半个小时前活着呢！”</p></p>
            <div class="card-subtext muted-text">
              <p>Posted <time datetime="2012-11-13T07:11:07+08:00">2012-11-13</time></p>
<p>archive</p>            </div>
          </article>
        </div>


        <!-- new article -->
        <div class="card blog-card">
          <article class="card-body">
            <a href="/post/35622017757"  rel="bookmark" >
              <h2 class="card-title">如何日掉xml解析器</h2>
            </a>
            <p class="card-text"><p>在帖子里包含以下特殊字符，你有80%的可能性日掉各种写得不好的xml解析器：</p>
<ul>
<li>
<h1>x9</h1>
</li>
<li>
<h1>xA</h1>
</li>
<li>
<h1>xD</h1>
</li>
<li>
<h1>x11 （见<a href="http://initiative.yo2.cn/archives/628146">这个</a>）</h1>
</li>
</ul>
<p>官方文档在这里 <a href="http://www.w3.org/TR/xml/#charsets">http://www.w3.org/TR/xml/#charsets</a></p>
<pre><code>Char       ::=      #x9 | #xA | #xD | [#x20-#xD7FF] | [#xE000-#xFFFD] | [#x10000-#x10FFFF]
</code></pre>
<p><a href="http://www.reddit.com/r/programming/comments/1322te/what_every_programmer_absolutely_positively_needs/">via</a></p></p>
            <div class="card-subtext muted-text">
              <p>Posted <time datetime="2012-11-13T00:27:15+08:00">2012-11-13</time></p>
<p>archive</p>            </div>
          </article>
        </div>


        <!-- new article -->
        <div class="card blog-card">
          <article class="card-body">
            <a href="/post/35606224436"  rel="bookmark" >
              <h2 class="card-title">tg霸气外露</h2>
            </a>
            <p class="card-text"><p><img alt="" src="/images/tumblr/35606224436_0.jpg" /></p>
<p>大图：<a href="http://att.newsmth.net/att.php?p.107.51216.290.jpg">http://att.newsmth.net/att.php?p.107.51216.290.jpg</a></p>
<p>tg是不可能被大棒轻易敲掉了。</p></p>
            <div class="card-subtext muted-text">
              <p>Posted <time datetime="2012-11-12T20:32:00+08:00">2012-11-12</time></p>
<p>archive</p>            </div>
          </article>
        </div>


        <!-- new article -->
        <div class="card blog-card">
          <article class="card-body">
            <a href="/post/35312346182"  rel="bookmark" >
              <h2 class="card-title">口才技能点到90以上会有什么效果</h2>
            </a>
            <p class="card-text"><iframe width="640" height="360" src="http://www.youtube.com/embed/BQx6nG3tPmA?feature=player_detailpage" frameborder="0" allowfullscreen></iframe>

<p>就是在街上和任意陌生人对话，装作认识</p>
<p><a href="http://www.reddit.com/r/videos/comments/12vknq/guy_convinces_complete_strangers_that_they_know/">via</a></p></p>
            <div class="card-subtext muted-text">
              <p>Posted <time datetime="2012-11-08T21:22:18+08:00">2012-11-08</time></p>
<p>archive</p>            </div>
          </article>
        </div>


        <!-- new article -->
        <div class="card blog-card">
          <article class="card-body">
            <a href="/post/35307341738"  rel="bookmark" >
              <h2 class="card-title">我擦，这生成器是要逆天了么</h2>
            </a>
            <p class="card-text"><p>我去看了下，的确太强了</p>
<blockquote>
<p>发信人: temporary (昙花一现), 信区: NetNovel<br />
标  题: 网文自动化到这种程度了咩<br />
发信站: 水木社区 (Thu Nov  8 15:32:29 2012), 站内</p>
<p>码字辅助工具<br />
http://xuanpai.sinaapp.com/work/</p>
<p>随便试了下境界的自动生成，给跪了，一个字：比我强</p>
</blockquote>
<p>估计这样发展下去，结合tvtropes.org的思路，电视剧编剧可以下岗了。</p>
<p>做游戏什么的直接一按，物品道具法术什么的就直接出来了</p></p>
            <div class="card-subtext muted-text">
              <p>Posted <time datetime="2012-11-08T20:13:00+08:00">2012-11-08</time></p>
<p>archive</p>            </div>
          </article>
        </div>


        <!-- new article -->
        <div class="card blog-card">
          <article class="card-body">
            <a href="/post/35177649082"  rel="bookmark" >
              <h2 class="card-title">Astrid Tasks & To-do List review</h2>
            </a>
            <p class="card-text"><p>I have a overal negative review on To-Do &amp; GTD apps on android . Today I tried Astrid Tasks (<code>com.timsu.astrid</code>). It was a mess</p>
<ul>
<li>Can't sort by subtask on web UI</li>
<li>app freeze and then popup a bullshit dialog saying hi. </li>
<li>synced 180+ crap from Google Tasks from previously uninstalled MIUI NOTES</li>
<li>deleting task one by one is a huge pain in the ass, can't batch or group delete</li>
<li>sync Google Tasks will sync ALL NOTES. Should have synced selected labels.</li>
<li>partial fragmented sync. I have to delete over and over after each sync.</li>
</ul>
<p>That was quite a disappointment.</p></p>
            <div class="card-subtext muted-text">
              <p>Posted <time datetime="2012-11-06T22:32:00+08:00">2012-11-06</time></p>
<p>archive</p>            </div>
          </article>
        </div>


        <!-- new article -->
        <div class="card blog-card">
          <article class="card-body">
            <a href="/post/35168980260"  rel="bookmark" >
              <h2 class="card-title">tech2ipo这什么破垃圾网站</h2>
            </a>
            <p class="card-text"><p>首先看到 这里 <a href="http://www.hi-pda.com/forum/viewthread.php?tid=1071697">http://www.hi-pda.com/forum/viewthread.php?tid=1071697</a></p>
<blockquote>
<p>Hi!PDA论坛坛友francisngl发布了一篇有关预测Surface前景的文章</p>
</blockquote>
<p>然后被tech2ipo转，然后被cnbeta转：<a href="http://www.cnbeta.com/articles/211806.htm">Surface必将惨败三理由：用户不待见，核心竞争力低下，硬伤明显</a></p>
<p>我艹什么破玩意。</p>
<p>然后又看到 <a href="http://www.v2ex.com/t/51825">http://www.v2ex.com/t/51825</a> 这里，装马甲发帖。</p>
<blockquote>
<p>来自匿名人士hackerTom的这篇文章能让我们从一个更加直观的角度向大家讲述一个与以往大家认知截然不同的创新工场和李开复形象，Ta告诉我们为什么创业者不要选择创新工场。</p>
</blockquote>
<p>tech2ipo这算什么破鸡巴网站。整天发些什么破鸡巴帖子。</p></p>
            <div class="card-subtext muted-text">
              <p>Posted <time datetime="2012-11-06T20:43:56+08:00">2012-11-06</time></p>
<p>archive</p>            </div>
          </article>
        </div>


        <!-- new article -->
        <div class="card blog-card">
          <article class="card-body">
            <a href="/post/35047040748"  rel="bookmark" >
              <h2 class="card-title">小米TV如果这样设计，可以称霸客厅20年</h2>
            </a>
            <p class="card-text"><p>看到一则消息 <a href="http://weibo.com/1895520105/z3MDU9728">http://weibo.com/1895520105/z3MDU9728</a></p>
<p><img alt="" src="http://ww4.sinaimg.cn/large/70fb5769jw1dyk6gd8dpaj.jpg" /></p>
<p>据说是小米TV。</p>
<p>不管内容实质如何了，但是我希望有几个功能：</p>
<ol>
<li>联合地方广电，实现插卡收看有线频道。</li>
<li>支持同轴输入，最好是能直接处理卫星锅高频头下来的信号。软解加密。</li>
<li>SDR实现地面数字高清和DAB之类的功能，一定要SDR，以便以后升级。</li>
<li>支持电话线输入，实现ADSL猫的拨号和多拨</li>
<li>电话线输入，就顺便把家庭语音网关和PBX实现了吧。任意2.4G/蓝牙话筒/耳麦/远程app接听座机通话。</li>
<li>支持无线话筒和简单卡拉OK混音</li>
<li>因为有电话线输入，所以实现类似WinFAX的传真网关，然后MIUI上支持远程控制家里收发传真</li>
<li>HDMI多路输入和分发。这个成本有点高，但是普通家庭TV都有HDMI不够用的现象。</li>
<li>蓝牙/802.11ac/千兆网卡</li>
<li>USB3.0/ESATA支持的NAS。</li>
<li>支持DTS 5.1的audio输出。</li>
<li>一个支持多点触控的遥控板。效果要接近apple的Magic Trackpad</li>
<li>遥控板能学习其他红外遥控板信号。</li>
<li>如果是ARM的板子，一定要支持NEON，内存大于2G。</li>
</ol>
<p>其他软件能实现的功能就不多说了。如果都做到了成本控制在500元以下，直接秒杀一切客厅设备了。</p>
<p>然后，然后我的梦就醒了。</p></p>
            <div class="card-subtext muted-text">
              <p>Posted <time datetime="2012-11-05T03:07:00+08:00">2012-11-05</time></p>
<p>archive</p>            </div>
          </article>
        </div>


        <!-- new article -->
        <div class="card blog-card">
          <article class="card-body">
            <a href="/post/35029136186"  rel="bookmark" >
              <h2 class="card-title">各位驾照考C照失败的可以去死了</h2>
            </a>
            <p class="card-text"><p><embed src="http://static.video.qq.com/TPout.swf?auto=1&vid=r010673xh67" quality="high" width="460" height="372" align="middle" allowScriptAccess="sameDomain" allowFullscreen="true" type="application/x-shockwave-flash"></embed></p>
<p>这他妈不科学。</p></p>
            <div class="card-subtext muted-text">
              <p>Posted <time datetime="2012-11-04T21:15:57+08:00">2012-11-04</time></p>
<p>archive</p>            </div>
          </article>
        </div>


        <!-- new article -->
        <div class="card blog-card">
          <article class="card-body">
            <a href="/post/34892432623"  rel="bookmark" >
              <h2 class="card-title">1073 DLNA = Internet Radio</h2>
            </a>
            <p class="card-text"><p>家里有个老机器 海美迪HD 300B，用的是Realtek 1073DD+方案，发现一个很猛的固件：</p>
<p><a href="http://www.hdpfans.com/thread-120536-1-1.html">http://www.hdpfans.com/thread-120536-1-1.html</a></p>
<p>吐槽一下，DLNA被国内翻译成 多屏互动 。搞了半天我一个关键字搜索不到是这个原因。。。囧。</p>
<p>刷机之后真的能支持了，Win7上网络设备刷出来一个</p>
<p><img alt="" src="/images/tumblr/34892432623_0.png" /></p>
<p>连WMP和BubbleUPnP都支持很好。赞美一个。</p>
<p>继续玩Intel UPnP Device Spy想到一个比较好玩的功能：</p>
<p><code>SetAVTransportURI()</code> 是支持任意HTTP地址的，而很多shoutcast/icecast等Internet Radio，本质上就是HTTP流媒体的mp3/aac</p>
<p>于是我试了下，还真成功了。比如3fm alternative</p>
<p><a href="http://ics2oss.omroep.nl/3fm-alternative-mp3?q=/npo/mp3/3fm_alternative.pls&amp;stream=ok&amp;esthack=1073.mp3">http://ics2oss.omroep.nl/3fm-alternative-mp3?q=/npo/mp3/3fm_alternative.pls&amp;stream=ok&amp;esthack=1073.mp3</a></p>
<p>最后边个参数是欺骗蹩脚DMR播放器MIME为mp3才能播放。</p>
<p>于是在罗技z906上成功实现听Internet Radio。想起来Android上支持DLNA的播放器还真不多。QQ视频支持。还不错。</p>
<p>如果手机有app支持直接push网络电台到DMR就爽了。看来得自己DIY一个哈哈。以后应该自己逐步实现audio book/podcast用上DLNA。</p>
<p>btw 发现这个upnp/dlna可以刷进路由器的  http://xupnpd.org/t/ 威武</p></p>
            <div class="card-subtext muted-text">
              <p>Posted <time datetime="2012-11-03T06:43:00+08:00">2012-11-03</time></p>
<p>archive</p>            </div>
          </article>
        </div>


        <!-- new article -->
        <div class="card blog-card">
          <article class="card-body">
            <a href="/post/34761834868"  rel="bookmark" >
              <h2 class="card-title">UPnP/DLNA初步</h2>
            </a>
            <p class="card-text"><p>玩了一下<a href="http://software.intel.com/en-us/articles/intel-software-for-upnp-technology-download-tools/218896.htm">Intel UPnP Device Spy</a>很好玩</p>
<p>让设备播放媒体很简单：</p>
<ol>
<li>打开AVTransport</li>
<li>调用SetAVTransportURL() 参数URL是<code>python -m SimpleHTTPServer</code>然后随便指定了一个avi。</li>
<li>调用Play()</li>
</ol>
<p><img alt="" src="/images/tumblr/34761834868_0.png" /></p>
<p>就OK了。</p>
<p>家里的网络有问题，找不到设备，找到设备也无法播放。Win7/Android 2.3/4.0之间的DLNA互通还是有问题。折腾ing。。。用的DMR设备是 com.waxrain.airplayer 。</p>
<p>btw DLNA国内翻译的貌似是 多屏互动 。</p></p>
            <div class="card-subtext muted-text">
              <p>Posted <time datetime="2012-11-01T11:06:00+08:00">2012-11-01</time></p>
<p>archive</p>            </div>
          </article>
        </div>


        <!-- new article -->
        <div class="card blog-card">
          <article class="card-body">
            <a href="/post/34741235628"  rel="bookmark" >
              <h2 class="card-title">Miracast, DLNA</h2>
            </a>
            <p class="card-text"><p>终于搞清楚了几个概念。</p>
<p>DLNA是一套基于UPnP的4层协议，基于HTTP+SOAP的，是Sony在2004年提出的。</p>
<p>有如下几个角色：</p>
<ul>
<li>Digital Media Server (DMS) 存储内容，供pull</li>
<li>Digital Media Player (DMP) 播放pull下来的内容</li>
<li>Digital Media Renderer (DMR) 接受push的内容并播放</li>
<li>Digital Media Controller (DMC) 远程遥控，播放/暂停/音量 等</li>
</ul>
<p>DLNA没有去实现屏幕镜像。主要用于内容传输和播放。</p>
<p>Miracast是Android 4.2搞的，基于Wifi Direct技术</p>
<p>简单的说，就是同一个wifi AP下完成协议握手，然后两个设备之间wifi信号直连。这样效率高实时传输无延迟。Miracast也包含了DLNA的设备发现功能，和视频播放能力，但同时：</p>
<ul>
<li>不支持纯音频（比如无线音箱）设备（见<a href="https://www.wi-fi.org/sites/default/files/uploads/Miracast_FAQ_20120919.pdf">Miracast FAQ</a>）  </li>
<li>可以实现屏幕镜像。</li>
</ul>
<p>所谓屏幕镜像就是手机上打游戏在电视上同步围观这种。类似Windows的3389 RDP远程桌面和VNC。</p>
<p>Apple的AirPlay可以实现DLNA和Miracast的所有功能。</p>
<p>我觉得Apple的小圈子营销真的做的很好。Miracast的branding看来真的是一坨屎。光同一概念的子名词就有一大堆。Galaxy S III上把这个叫WLAN DIrect，Miracast的3层协议叫Wifi Direct/Wifi Display/TDLS。。。。。还有各种WFD, WIMO, WIDI, WHDI, WirelessHD。。。太多阿猫阿狗名字了。。orz真够混乱的。</p>
<p>参考：<a href="http://blog.sina.com.cn/s/blog_10bc1d030101aw97.html">http://blog.sina.com.cn/s/blog_10bc1d030101aw97.html</a></p></p>
            <div class="card-subtext muted-text">
              <p>Posted <time datetime="2012-10-31T23:21:00+08:00">2012-10-31</time></p>
<p>archive</p>            </div>
          </article>
        </div>


        <!-- new article -->
        <div class="card blog-card">
          <article class="card-body">
            <a href="/post/34679157351"  rel="bookmark" >
              <h2 class="card-title">用tcmalloc代替glibc的malloc()。无须重编译</h2>
            </a>
            <p class="card-text"><p>据说这样就行了</p>
<pre><code>$ LD_PRELOAD="/usr/lib/libtcmalloc.so"
</code></pre>
<p><a href="http://news.ycombinator.com/item?id=4719705">via</a></p></p>
            <div class="card-subtext muted-text">
              <p>Posted <time datetime="2012-10-30T22:40:12+08:00">2012-10-30</time></p>
<p>archive</p>            </div>
          </article>
        </div>


        <!-- new article -->
        <div class="card blog-card">
          <article class="card-body">
            <a href="/post/34673796115"  rel="bookmark" >
              <h2 class="card-title">The Web Is A Mess</h2>
            </a>
            <p class="card-text"><p>《<a href="http://mkronline.com/2012/10/30/you-arent-imagining-it-the-web-is-a-mess/">You aren’t imagining it: The web is a mess</a>》这篇文章提出了一些比较犀利的观点：</p>
<p>Web已经乱死了。</p>
<ul>
<li>人们在本世纪初，网上写的东西还是给人看的。都是浓缩精华</li>
<li>Google出现之后，人们写东西就不是给人看的了，而是给Google看的。为了各种关键字超高命中率，而不惜篇幅急剧膨胀灌水</li>
<li>普通的个体再也不可能每天认真读完例如TechCrunch, LifeHacker这样网站的 每 一 篇 报道。</li>
</ul>
<p>我觉得，同理，现在blog圈子基本已经死了。不是外力杀死的，而死blog太讨好搜索引擎自杀的。Blog还没有 长微博 这种怪胎混得好。这是一种莫大的讽刺。</p>
<p>我突然想到一个指标用来判断网站好坏，阅读量。单位：人天。</p>
<p>一个标准人一天的阅读量是固定的。假设阅读效率为s。一个人每天花t时间上网，那么整天阅读量 R 就是：</p>
<p>R = s x t</p>
<p>如果一个网站每天更新的内容超过了 1人天，那么这个网站就是垃圾站。</p>
<p>一个网站的好坏，就在于是否用最小的篇幅，做到了最大可能的报道覆盖和最大量的信息传递。</p>
<p><img alt="" src="/images/tumblr/34673796115_0.png" /></p>
<p>覆盖面这个不太好判断，最大量的信息传递这个倒是有办法，就是语义比较相似网站的雷同报道。</p>
<p>搜索引擎一诞生，就是扮演者图书馆管理员的角色，在最短时间内找到最大量的最大匹配结果。这个做法是信息匮乏，和分布极端不均时代必要的生存手段；</p>
<p>但是现在不同了，现在是信息过载时代，单体的信息是非常容易获取，廉价和负价值的，集中的信息才有正价值。如果能够为普通人做到一个信息输入输出平衡的搜索引擎，才是最具含金量的搜索引擎。</p>
<p>过去的搜索引擎是空间上的军备竞赛，谁黑谁大谁粗，谁就牛逼；现在则到了一个转折点，谁能够更好的为用户安排更加有意义的时间，谁就是救世主。</p>
<p>目前这个领域唯一的玩家，只有Google。Google太掌握这个行星上每一个人每天的行为和习惯了。（在北美用过Google Now都会为这个玩意的AI震惊）。Google有能力，有足够原始数据积累，唯一缺乏的就是这样一个具有vision的目标和执行。</p>
<p><a href="http://news.ycombinator.com/item?id=4719730">via</a></p></p>
            <div class="card-subtext muted-text">
              <p>Posted <time datetime="2012-10-30T21:22:00+08:00">2012-10-30</time></p>
<p>archive</p>            </div>
          </article>
        </div>


        <!-- new article -->
        <div class="card blog-card">
          <article class="card-body">
            <a href="/post/34342180038"  rel="bookmark" >
              <h2 class="card-title">bottle.py: better reloader with django's</h2>
            </a>
            <p class="card-text"><p>The most depression thing today, is I found a solution to a problem from <a href="http://initiative.yo2.cn/archives/625499">my OWN BLOG FOUR years ago</a>!</p>
<p>Bottle.py's dev server <a href="http://bottlepy.org/docs/stable/tutorial.html#auto-reloading">auto-reloading</a> sucks hell. </p>
<blockquote>
<p>The child process will have os.environ['BOTTLE_CHILD'] set to True and start as a normal non-reloading app server. As soon as any of the loaded modules changes, the child process is terminated and re-spawned by the main process. Changes in template files will not trigger a reload. Please use debug mode to deactivate template caching.</p>
</blockquote>
<p>The fact is it will neither reload, nor the child process will terminate when you Ctrl+C the main process.</p>
<p>Let's use Django's reloader for bottlepy development!</p>
<pre><code>from bottle import run, Bottle

app = Bottle()

def dev_server():
    run(app, host='0.0.0.0', port=8080, debug=True)

if '__main__' == __name__:
    from django.utils import autoreload
    autoreload.main(dev_server)
</code></pre>
<p>Everything went better than expected.</p>
<p>btw my Tumblr Markdown editor can not accept capital E and R, using PinYin IME is OK. strange!</p></p>
            <div class="card-subtext muted-text">
              <p>Posted <time datetime="2012-10-25T23:42:00+08:00">2012-10-25</time></p>
<p>archive</p>            </div>
          </article>
        </div>


        <!-- new article -->
        <div class="card blog-card">
          <article class="card-body">
            <a href="/post/34288214582"  rel="bookmark" >
              <h2 class="card-title">fix bottle.py / wsgiref.simple_server slow</h2>
            </a>
            <p class="card-text"><p>Running bottlepy with default server (<code>wsgiref.simple_server</code>) is always dog slow for me, after some digging I found that the fucking server is trying to resolve the IP address of 10.x.x.x, both the server and client, into hostnames so the fucking logger can 'properly' display them. FUCK THIS BULLSHIT.</p>
<p>Find <code>BaseHTTPServer.py</code></p>
<p>Go to line 478;</p>
<pre><code>def address_string(self):
    return self.client_address[0]
</code></pre>
<p>It works best if you have virtualenv set you can just modify a copy in the <code>lib</code> only for development use.</p>
<p>Fuck who ever wrote BaseHTTPRequestHandler.address_string() FUCK YOU ASSHOLE. Who ever thought reverse DNS lookup is acceptable is pure piece of shit. It only spams your log with fake &amp; gay spammer domains.</p>
<p>Bottle.py is great Web framework, it supports <a href="http://bottlepy.org/docs/stable/async.html">Async WSGI</a> calls, which Flask <a href="http://flask.pocoo.org/docs/design/">can not do</a>. . It works even without using <code>gevent</code> as server. I am thinking of adding some sessions support to it. db backend maybe?</p>
<p>Update: for python 2.6, just write this line for monkey patch before bottle.run() or wsgiref.simple_server </p>
<pre><code>__import__('BaseHTTPServer').BaseHTTPRequestHandler.address_string = lambda x:x.client_address[0]
</code></pre></p>
            <div class="card-subtext muted-text">
              <p>Posted <time datetime="2012-10-25T04:53:00+08:00">2012-10-25</time></p>
<p>archive</p>            </div>
          </article>
        </div>


        <!-- new article -->
        <div class="card blog-card">
          <article class="card-body">
            <a href="/post/34276821898"  rel="bookmark" >
              <h2 class="card-title">FEC在网络传输中的应用</h2>
            </a>
            <p class="card-text"><blockquote>
<p>It is a bit different than your standard FEC. Traditionally, FEC works on a block (of bits/bytes) by block basis. You need to the entire block to decode the message. So the transmitter needs a good guess on the channel capacity to choose the correct coding strength for the block. If the sender guesses wrong, the channel is either under utilized (sending too slow) or over utilized (lost packet). In practice it is hard to guess the channel state.<br />
The novelty is their work is the use of network coding, a form of rateless coding. A rateless code does not operate on a block by block basis. Instead once enough bits are received, the message can be decoded. The rate automatically adapts to the channel's capacity because of the encoding/decoding of the code.<br />
Rateless codes are also known by different names, e.g. fountain (LT) codes, raptor codes, tornado codes, hybrid-ARQ, strider codes, spinal codes, and in a sense network coding (though this may have more applications).  </p>
</blockquote>
<p>最近一篇paper在网上吵得很火，这段话基本总结了这个技术的思想。</p>
<p>纸：http://www.mit.edu/~medard/papers2011/Modeling%20Network%20Coded%20TCP.pdf</p>
<p>from extremetech via <a href="http://www.extremetech.com/computing/138424-increasing-wireless-network-speed-by-1000-by-replacing-packets-with-algebra">1</a>, <a href="http://www.reddit.com/r/technology/comments/120198/mit_researchers_use_algebraic_equation_that/">2</a>, <a href="http://news.ycombinator.com/item?id=4690197">3</a></p></p>
            <div class="card-subtext muted-text">
              <p>Posted <time datetime="2012-10-24T23:19:00+08:00">2012-10-24</time></p>
<p>archive</p>            </div>
          </article>
        </div>


        <!-- new article -->
        <div class="card blog-card">
          <article class="card-body">
            <a href="/post/34212978554"  rel="bookmark" >
              <h2 class="card-title">@cached_property</h2>
            </a>
            <p class="card-text"><p>在<code>django.utils.functional</code> 里发现的。</p>
<pre><code>class cached_property(object):
    """
    Decorator that creates converts a method with a single
    self argument into a property cached on the instance.
    """
    def __init__(self, func):
        self.func = func

    def __get__(self, instance, type):
        res = instance.__dict__[self.func.__name__] = self.func(instance)
        return res
</code></pre>
<p>这玩意好用啊，比如</p>
<pre><code>&gt;&gt;&gt; class A(object):
...   @cached_property
...   def val(self):
...     print 'calc'
...     return 1
... 
&gt;&gt;&gt; 
&gt;&gt;&gt; a=A()
&gt;&gt;&gt; a.val
calc
1
&gt;&gt;&gt; a.val
1
</code></pre>
<p>以前自己山寨个 <code>def val(): self._val =</code> 什么的太烂了。</p></p>
            <div class="card-subtext muted-text">
              <p>Posted <time datetime="2012-10-24T00:00:00+08:00">2012-10-24</time></p>
<p>archive</p>            </div>
          </article>
        </div>


        <!-- new article -->
        <div class="card blog-card">
          <article class="card-body">
            <a href="/post/34207514410"  rel="bookmark" >
              <h2 class="card-title">测试ssh连接速度和带宽</h2>
            </a>
            <p class="card-text"><p>安装pv： <br />
<code>sudo apt-get install pv</code></p>
<p>下行： <br />
<code>$ ssh est@my_host 'cat /dev/zero'  | pv &gt; /dev/null</code> <br />
<code>144kB 0:00:05 [ 121kB/s] [ &lt;=&gt;                                               ]</code></p>
<p>上行：   <br />
<code>$ yes | pv | ssh est@my_host "cat &gt; /dev/null"</code>   <br />
<code>2.06MB 0:00:05 [1.96MB/s] [  &lt;=&gt;                                              ]</code></p>
<p>测试本机IO能力：  <br />
<code>$ pv /dev/zero &gt; /dev/null</code> <br />
<code>75.3GB 0:00:09 [8.56GB/s] [        &lt;=&gt;                                        ]</code></p>
<p>其他技巧： <br />
<a href="http://blog.urfix.com/9-tricks-pv-pipe-viewer/">http://blog.urfix.com/9-tricks-pv-pipe-viewer/</a></p>
<p>恩。真好玩。我发现办公室的商用ADSL对称上下行就是屌啊。2MB上传速度我擦不用来挂PT可惜了。</p></p>
            <div class="card-subtext muted-text">
              <p>Posted <time datetime="2012-10-23T22:30:00+08:00">2012-10-23</time></p>
<p>archive</p>            </div>
          </article>
        </div>


        <!-- new article -->
        <div class="card blog-card">
          <article class="card-body">
            <a href="/post/33682210269"  rel="bookmark" >
              <h2 class="card-title">Web墨卡托</h2>
            </a>
            <p class="card-text"><p>最近在android上玩RMaps Ext和Mobile Atlas Creator (MOBAC)</p>
<p>一直觉得tg的<a href="www.tianditu.cn">天地图</a>其实道路信息和POI做的比其他厂商都好，所以网上找到了这个<a href="http://www.doyouhike.net/forum/comm_nav/585383,0,0,1.html">天地图版MOBAC</a></p>
<p>但是我发现一个很好玩的信息，跟我当时对天地图的感觉一样：天地图最大的问题不是<a href="http://discover.news.163.com/special/tianditu/">163这种喷子媒体</a>说的各种问题，而是：地图是扭曲的。</p>
<p>网上找到这篇文章《<a href="http://blog.3snews.net/html/88/47188-28181.html">天地图-地图投影技术剖析与思考</a>》</p>
<p>虽然图片jb全无，但是却得到了一个很有用的结论：</p>
<blockquote>
<p>目前国内做数字城市方面的GIS项目、产品和公众应用，常涉及的投影方式主要有：面向局部区域的二维平面高斯投影（横轴墨卡托，横轴圆柱投影）、面向大范围（如全省、全国）的兰伯特投影（圆锥投影）、面向大范围的经纬度等间隔直投，而互联网上的大部分全国公众地图网站（百度、google、搜狗）则是另外一种-----“Web墨卡托”。  <br />
在市一级的小范围区域的GIS系统，比如规划局、国土局、建设局的系统，大都使用<strong>高斯投影</strong>，以便与地方地形图测绘、工程报建一直采用的坐标系相一致。高斯投影的特点也很明显，分带，适合小范围局部，不适合应用于大省、全国等大范围应用，若是强制按某带投影，则远离中央经线的区域的角度、距离、面积全部变形严重。<br />
在大范围，目前好像很多项目都采用“经纬度直投”，------天地图也采用了。</p>
</blockquote>
<p>Web墨卡托的问题是什么呢？</p>
<blockquote>
<p>也许您还有疑问，“Web墨卡托”虽然形状没变，但是高纬度地区的面积比真实同样放大了很多倍，面积也是变化很严重啊！同一张全中国范围图上，三亚和哈尔滨，选取同样真实面积的区域，在投出来的图上面积相差好多倍，但是他们各自区域中的图形都没变型。</p>
</blockquote>
<p>哇靠。怪不得天地图那个坐标比例看起来别扭死了。我擦。</p></p>
            <div class="card-subtext muted-text">
              <p>Posted <time datetime="2012-10-15T21:48:19+08:00">2012-10-15</time></p>
<p>archive</p>            </div>
          </article>
        </div>

    </main>
    <nav class="pagination-nav side-padding">
<a href="/index.16.html" class="pagination-newer">&lt; Newer Posts</a><a href="/index.18.html" class="pagination-older">Older Posts &gt;</a>    </nav>

<script src="/theme/js/core.js"></script>

  </body>
</html>