<!DOCTYPE html>
<html>
  <head>
    <title>gitweetsï¼šæ‹¿ git å†å²å½“å¾®åšå‘æ¨ â€“ est ã® è¾“å…¥ è¾“å‡ºå’Œå‡ºå…¥</title>

    <meta charset="utf-8" />
    <meta http-equiv="x-ua-compatible" content="ie=edge">
      <meta http-equiv="Content-Security-Policy" content="frame-ancestors 'self' https://disqus.com https://player.bilibili.com https://www.youtube.com;">
    <link href="https://feeds.feedburner.com/initiative" type="application/rss+xml" rel="alternate" title="est ã® è¾“å…¥ è¾“å‡ºå’Œå‡ºå…¥ RSS Feed" />

    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="gitweetsï¼šæ‹¿ git å†å²å½“å¾®åšå‘æ¨" />

    <link rel="canonical" href="https://blog.est.im/2025/stdout-05" />
    <meta property="og:url" content="https://blog.est.im/2025/stdout-05">
    <meta property="og:type" content="article">
    <meta property="og:title" content="gitweetsï¼šæ‹¿ git å†å²å½“å¾®åšå‘æ¨">

    <link rel="stylesheet" href="/theme/css/normalize.min.css" />
    <link rel="stylesheet" href="/theme/css/style.css" />


    <style>
      body {
        background: #ecedef url("/theme/img/ignasi_pattern_s.png") repeat;
      }
    </style>
  </head>
  <body class="single-body">
<nav class="nav-bar side-padding">
  <h1 class="nav-header"><a href="/" class="nav-text">
    est ã® è¾“å…¥ è¾“å‡ºå’Œå‡ºå…¥
  </a></h1>
  <div class="hamburger-menu">
    <button>
      <span></span>
      <span></span>
    </button>
    <ul id="menu" class="hamburger-menu-overlay">
      <li><a href="/" class="hamburger-menu-overlay-link">Home</a></li>
      <li><a href="https://feeds.feedburner.com/initiative" class="hamburger-menu-overlay-link">RSS</a></li>
      <li><a href="/about" class="hamburger-menu-overlay-link">About</a></li>

      <li><a href="/category/archive" class="hamburger-menu-overlay-link">archive</a></li>
      <li><a href="/category/stderr" class="hamburger-menu-overlay-link">stderr</a></li>
      <li><a href="/category/stdin" class="hamburger-menu-overlay-link">stdin</a></li>
      <li><a href="/category/stdout" class="hamburger-menu-overlay-link active">stdout</a></li>

    </ul>
  </div>
</nav>    <main class="content side-text-padding">
<article class="post">
  <header class="post-header">
    <h2 class="post-title">gitweetsï¼šæ‹¿ git å†å²å½“å¾®åšå‘æ¨</h2>
    <p class="post-date">Posted <time datetime="2025-08-17T00:00:00+08:00">2025-08-17</time> | <span>stdout</span></p>
  </header>

  
  <p>twitter è¿‘å‡ å¹´äº‰è®®ä¸æ–­ï¼Œå…ˆæ˜¯å„ç§ cancel culture é—¹å¾—åŠ¨é™å¾ˆå¤§ï¼Œè¢«ä¸€é¾™é©¬ä¹°äº†ä¹‹åæ›´ç”šï¼Œç¤¾åŒºåˆ†è£‚åˆ° mstdn nostr bskyæ”¯æµï¼Œå„ç§è¯é¢˜ç‚’ä¸Šå¤©ï¼Œåœ¨ä¼—å¤šæ›¿ä»£å“é‡Œï¼Œ2022å¹´çœ‹åˆ°ä¸ª<a href="https://twitter.com/bcrypt/status/1588416861552582657">æœ€åˆ«å…·ä¸€æ ¼</a>çš„ï¼š</p>
<p>æ‹¿ git å½“å¾®åšä½¿</p>
<ul>
<li>å‘æ¨ï¼š <code>git commit --allow-empty</code></li>
<li>åŠ å…³æ³¨ï¼š <code>git remote add &lt;alias&gt; &lt;their fork url&gt;</code></li>
<li>è½¬å‘ï¼š <code>git cherry-pick &lt;their "tweet"&gt;</code></li>
</ul>
<p>è„‘æ´å¤§å¼€ã€‚è€Œä¸”gitåŸºäºmerkle treeçš„ï¼Œp2p å†å²ä¸å¯ç¯¡æ”¹ï¼Œæœ‰web3é‚£å‘³äº†ã€‚</p>
<p>ä¹‹å‰ä¹Ÿé¥¶æœ‰å…´è¶£ï¼ŒæŒ–äº†ä¸ªå‘å‡†å¤‡æ“ä¸ªwebç•Œé¢ã€‚ä½†æ˜¯é™äºæ¶£æ•£çš„æ³¨æ„åŠ›ï¼Œä»¥åŠå¯¹cssè¿™ç§æŠ½è±¡æ’ç‰ˆç©ä¸è½¬ï¼Œä¸€ç›´æ‹–æ²“æ²¡åšå¥½ã€‚</p>
<p>å‘¨æœ«å¿ƒè¡€æ¥æ½®ï¼Œå¤–å¸¦ AI å·¥å…·åŠ æŒï¼Œè¿›å±•ç¥é€Ÿã€‚ç›®å‰å·²ç»åŸºæœ¬å¯ç”¨ã€‚</p>
<p>é¡¹ç›®å« gitweets ï¼Œæ„æ€æ˜¯ç”¨ git å‘ tweetsï¼Œç½‘å€åœ¨ <a href="https://f.est.im/">https://f.est.im/</a> ã€‚äºŒçº§åŸŸå <code>f</code> å³ <code>feed</code> ï¼Œ<code>f.est</code> ä¹Ÿå°±æ˜¯ fest è¡¨ç¤ºã€‚ã€‚ã€‚ ç››ä¼šçš„æ„æ€ã€‚ </p>
<h3>feature list</h3>
<ol>
<li>æŠŠä»»æ„ github repo æ¸²æŸ“æˆå¾®åš</li>
<li><a href="https://f.est.im/est/e0d4c46445517ba52ceda06d788e09760aaccce5">å‘å›¾</a>ï¼å¦‚æœ commit message ä»¥å†’å·ç»“å°¾ï¼Œè€Œä¸”æ°å¥½ä¹Ÿåœ¨æœ¬æ¬¡æ–°å¢åŠ äº†ä½äº static ä¸‹é¢çš„å›¾ç‰‡æ–‡ä»¶ é‚£ä¹ˆä¼šå°è¯•å»åŠ è½½å›¾ç‰‡ä½œä¸ºé™„ä»¶æ¸²æŸ“</li>
<li>ç”¨ OAuth app å®ç°å‘æ¨ã€‚æµè§ˆå™¨è®°å½• access_token åˆ° cookieï¼Œç†è®ºä¸Šå¯ç”¨ 8ä¸ªå°æ—¶ã€‚è¿‡æœŸé‡ç™»</li>
<li>ç»™ä»»æ„ github repo å‘æ¨çš„åŸç†æ˜¯ï¼Œé€šè¿‡REST APIæ–°å¢ä¸€æ¡ commit ã€‚</li>
</ol>
<h3>è®°å½•ä¸€äº›å‘</h3>
<ol>
<li>OAuth app vs Github Appã€‚å‰è€…æ˜¯ä»£å®¢åšäº‹ï¼›åè€…æ˜¯ç‹¬ç«‹ä¸»ä½“å•ç‹¬è´¦å·ï¼Œç±»äººè¡Œä¸ºï¼Œå¤šç”¨äº CI/CD</li>
<li>OAuth app çš„ <code>scope</code> å¦‚æœæ˜¯ <code>repo</code> å¯ä»¥è¯»å†™ä½ æ‰€æœ‰ä»“åº“ä»£ç ï¼ŒåŒ…æ‹¬ç§æœ‰ä»“åº“ï¼ç½‘ä¸Šçš„å¾ˆå¤šåŸºäº github çš„ç¬¬ä¸‰æ–¹è¯„è®ºç³»ç»Ÿæœ‰è¿™ä¸ªéšæ‚£ï¼</li>
<li>æˆ‘è¿™é‡Œç”¨çš„æ˜¯ <code>public_repo</code>ï¼Œè¯»å†™æ‰€æœ‰å…¬å¼€ä»“åº“ã€‚æ¯•ç«Ÿ githubæ˜¯ä¸ªå¼€æºç¤¾åŒºï¼Œæ‹¿å…¬å¼€gitæ¥å½“feedä½¿ï¼Œè¦å®‰å…¨ä¸€äº›ã€‚</li>
<li>æ›´å®‰å…¨çš„åŠæ³•æ˜¯åªèƒ½è¯»å†™å•ä¸ªæŒ‡å®šçš„repoã€‚è¦å®ç°APIè¯»å†™gitï¼Œåœ¨githubæœ‰ä¸‹åˆ—å‡ ç§æ–¹æ³•ï¼š<ul>
<li>REST APIã€‚å¯ä»¥ç”¨ fine grained PAT è¯»å†™ä¸€ä¸ªrepo</li>
<li>GraphQL APIã€‚</li>
<li>git åè®®ã€‚èµ° <code>github.com:22</code> ç«¯å£ã€‚å¯ä»¥é‡‡ç”¨ deploy key æˆ–è€…ç§äººè´¦å· ssh key</li>
<li>git-httpã€‚èµ° <code>https://github.com:443</code></li>
</ul>
</li>
<li>Private Access Token ï¼ˆç¼©å†™ PATï¼‰ å¯ä»¥å®Œå…¨æ§åˆ¶ä¸ªäººæˆ–è€…å›¢é˜Ÿè´¦å·ï¼Œfine grained PAT å¯ä»¥åªæ§åˆ¶æŒ‡å®šçš„å‡ ä¸ªä»“åº“</li>
<li>deploy keyé»˜è®¤åªè¯»ï¼Œå¯ä»¥æ”¹æˆè¯»å†™ï¼Œä¸€åº“ä¸€ç”¨ï¼Œä¸èƒ½å¤ç”¨</li>
<li>REST API åˆ—ä¸¾ commits ä¸èƒ½è·å¾—å½“å‰ commit æ”¹äº†å“ªäº›æ–‡ä»¶ã€‚éœ€è¦é¢å¤–N+1æ¯ä¸ªcommitå†æ¬¡æŸ¥è¯¢è¯¦æƒ…ã€‚èƒŒåçš„åŸå› ä¼°è®¡æ˜¯ git å†…éƒ¨ ref å’Œ blob æ˜¯ä¸¥æ ¼åŒºåˆ†çš„ã€‚ç”šè‡³å¯èƒ½æ˜¯åˆ†å¼€å­˜çš„æ•°æ®åº“è¡¨</li>
<li>ç½‘ç«™æ˜¯è·‘åœ¨èµ›åšè©è¨ cloudflare worker ä¸Šçš„ã€‚è¿™ç§æ‰€è°“â€œserverlessâ€å¹³å°å¾ˆå¼ºå¤§äº†ã€‚åŠŸèƒ½é½å…¨æ²¡å•¥ç¼ºçš„ã€‚ç”šè‡³å¯ä»¥å‘èµ· tcp è¿æ¥ã€‚</li>
<li>æœ¬æ¥è®¡åˆ’èµ° git-ssh æˆ–è€… git-http åè®®ï¼Œæƒ³äº†ä¸‹jsæ“ä½œbinaryå¤ªå¤æ‚äº†ï¼Œå¼„ä¸ª libgit2 ä¹‹ç±»çš„åº“ä¼°è®¡å¾ˆé‡ã€‚è¿˜æ˜¯RESTæ–¹ä¾¿</li>
<li>REST API æ–°å¢ä¸€ä¸ª empty commit æœ‰å¤šå¤æ‚ï¼Ÿ 1. è·å¾—å½“å‰branch çš„ sha 2. è·å¾—è¯¥ sha çš„ tree 3. æ–°å¢ä¸€ä¸ª sha+tree çš„commit 4. æŠŠ ref æŒ‡å‘ç¬¬ä¸‰æ­¥çš„ sha ã€‚å•Šï¼Œå°±ä¸èƒ½ä¸€æ­¥å®Œæˆä¹ˆã€‚ä¸‹æ¬¡æœ‰æœºä¼šçœ‹çœ‹GraphQL èƒ½ä¸èƒ½ä¸€æ¬¡è°ƒç”¨å®Œæˆ</li>
<li>Github çš„API å¼ºåˆ¶è¦æ±‚ User-Agent ã€‚ä½ å¯ä»¥ä¹±å†™ä½†æ˜¯ä¸èƒ½æ²¡æœ‰</li>
<li>Github è™½ç„¶è¿”å›äº† <code>Access-Control-Allow-Origin: *</code>ï¼Œä½†æ˜¯ç°ä»£æµè§ˆå™¨ä»–å¦ˆçš„ä¸è®¤è¿™ä¸ª <code>*</code> ã€‚æ‰€ä»¥åœ¨æµè§ˆå™¨åªèƒ½åŒ¿åè°ƒç”¨ <code>GET</code> ï¼Œå¦‚æœ <code>POST</code>ï¼Œ <code>PATCH</code> å¸¦äº† <code>credentials: "include"</code> ç›´æ¥æ‹’ç»ã€‚ç½‘ç«™å¿…é¡»æ˜¾å¼æŒ‡å®šå…è®¸å“ªä¸ªå…·ä½“çš„ origin </li>
<li>cloudflareçš„ <code>Response.redirect('/')</code> ç›´æ¥æŒ‚æ‰ã€‚åŸæ¥æ˜¯ 3xx è·³è½¬ä¸å…è®¸ç›¸å¯¹è·¯å¾„ã€‚</li>
</ol>
<p>ç”±äºä¹ æƒ¯å¤æ³•å†™webï¼Œä¸€ä¸ªhtmlåŒ…å«äº† css js ã€‚æ— äºŒæ¬¡åŠ è½½ï¼Œæ— ç¬¬ä¸‰æ–¹ä¾èµ–åº“ã€‚é™¤äº†ä¸èƒ½å†™æ­»çš„å…¨éƒ¨å†™æ­» ğŸ¤£</p>
<p>æ¥ä¸‹æ¥å‡†å¤‡ç”¨ç±»ä¼¼çš„æ€è·¯å®ç°ç½‘ç«™è¯„è®ºç³»ç»Ÿï¼Œä»£æ›¿ç°åœ¨çš„ disqus ï¼Œè™½ç„¶å®ƒæ˜¯å…è´¹çš„ï¼Œä½†æ˜¯å¹¿å‘Šå¤ªå¤šäº†ã€‚</p>
</article>

<div class="comments">
  <h2>Comments</h2>
  <div id="disqus_thread"></div>
  <script type="text/javascript">
    var disqus_shortname = 'estblog';
    var disqus_identifier = '2025/stdout-05';
    var disqus_url = location.href;
    (function() {
    var dsq = document.createElement('script'); 

    dsq.type = 'text/javascript';
    dsq.defer = true;
    dsq.src = '//estblog.disqus.com/embed.js';
    (document.getElementsByTagName('body')[0] || document.getElementsByTagName('head')[0]).appendChild(dsq);
    })();
  </script>
  <noscript>Please enable JavaScript to view the comments.</noscript>
</div>    </main>

  </body>

</html>