<!DOCTYPE html>
<html>
  <head>
    <title>est ã® è¾“å…¥è¾“å‡º</title>

    <meta charset="utf-8" />
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <link href="https://feeds.feedburner.com/initiative" type="application/rss+xml" rel="alternate" title="est ã® è¾“å…¥è¾“å‡º RSS Feed" />

    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="This blog is rated ğŸ”, viewer discretion is advised" />

    <meta property="og:url" content="https://blog.est.im">
    <meta property="og:type" content="website">
    <meta property="og:title" content="est ã® è¾“å…¥è¾“å‡º">
    <meta property="og:description" content="This blog is rated ğŸ”, viewer discretion is advised">

    <link rel="stylesheet" href="/theme/css/normalize.min.css" />
    <link rel="stylesheet" href="/theme/css/style.css" />


    <style>
      body {
        background: #ecedef url("/theme/img/ignasi_pattern_s.png") repeat;
      }
    </style>
  </head>
  <body class="list-body">
<nav class="nav-bar side-padding">
  <h1 class="nav-header"><a href="/" class="nav-text">
    est ã® è¾“å…¥è¾“å‡º
  </a></h1>
  <div class="hamburger-menu">
    <button>
      <span></span>
      <span></span>
    </button>
    <ul id="menu" class="hamburger-menu-overlay">
      <li><a href="/" class="hamburger-menu-overlay-link">Home</a></li>
      <li><a href="https://feeds.feedburner.com/initiative" class="hamburger-menu-overlay-link">RSS</a></li>
      <li><a href="/about" class="hamburger-menu-overlay-link">About</a></li>

      <li><a href="/category/archive" class="hamburger-menu-overlay-link">archive</a></li>
      <li><a href="/category/stderr" class="hamburger-menu-overlay-link">stderr</a></li>
      <li><a href="/category/stdin" class="hamburger-menu-overlay-link">stdin</a></li>
      <li><a href="/category/stdout" class="hamburger-menu-overlay-link">stdout</a></li>

    </ul>
  </div>
</nav>    <main class="card-container side-gutter">
      <header class="list-header">
        <p class="list-header-subtext">This blog is rated ğŸ”, viewer discretion is advised</p>
        <!-- <h1 class="list-header-title">est ã® è¾“å…¥è¾“å‡º</h1> -->
      </header>


        <!-- new article -->
        <div class="card blog-card">
          <article class="card-body">
            <a href="/2021/stdout-024"  rel="bookmark" >
              <h2 class="card-title">4å¥è¯è‡ªåŠ¨æ¢win10å£çº¸</h2>
            </a>
            <p class="card-text"><ol>
<li>è·å–å½“å‰ç”¨æˆ· <code>sid</code>ã€‚cmdä¸‹è®¾å˜é‡å¦‚æ­¤å¤æ‚ã€‚è€Œä¸” <code>|</code> çš„è½¬ä¹‰å­—ç¬¦å±…ç„¶æ˜¯ <code>^|</code></li>
<li>è¯»å– LogonUI çš„è‡ªåŠ¨å£çº¸ã€‚<code>reg query</code>è¾“å‡ºæå…¶ä¸å‹å¥½ã€‚éœ€è¦ tokens=3</li>
<li>è®¾ç½®ä¸ºå½“å‰æ¡Œé¢ã€‚</li>
<li>åˆ·æ–°ã€‚è¿™ä¸ªå±äºæŒ‰è¿æ°”æˆåŠŸã€‚çœŸæ­£åˆ·æ–°çš„éœ€è¦è°ƒç”¨ dll ã€‚ç®—äº†</li>
</ol>
<pre><code>for /f %%g in ('wmic useraccount where name^=&quot;%USERNAME%&quot; get sid ^| findstr ^S\-d*') do set USERSID=%%g
For /f &quot;tokens=3&quot; %%k IN ('reg query HKLM\SOFTWARE\Microsoft\Windows\CurrentVersion\Authentication\LogonUI\Creative\%USERSID%  /s /v  landscapeImage /t REG_SZ ^| findstr /ri &quot;REG_SZ&quot;') do set img_path=%%k
reg add &quot;HKEY_CURRENT_USER\Control Panel\Desktop&quot; /v Wallpaper /t REG_SZ /d %img_path% /f
RUNDLL32.EXE user32.dll,UpdatePerUserSystemParameters 
</code></pre>
<p><a href="/202104/stdout-005">ä¹‹å‰çš„æ–¹æ³•</a>æå¤æ‚äº†</p></p>
            <div class="card-subtext muted-text">
              <p>Posted <time datetime="2021-12-08T21:39:36+08:00">2021-12-08</time></p>
<p>stderr</p>            </div>
          </article>
        </div>


        <!-- new article -->
        <div class="card blog-card">
          <article class="card-body">
            <a href="/2021/stdout-023"  rel="bookmark" >
              <h2 class="card-title">FastAPI/Starletteæ”¯æŒé™æ€æ–‡ä»¶æ”¯æŒSPA</h2>
            </a>
            <p class="card-text"><p>FastAPI å®˜æ–¹æ”¯æŒ <code>from fastapi.staticfiles import StaticFiles</code> å……å½“ä¸€ä¸ªé™æ€æ–‡ä»¶æœåŠ¡å™¨</p>
<p>å…¶å®å®ç°æ˜¯ starletteã€‚è¿™ç©æ„å¯ä»¥åœ¨ <code>directory</code> ä¸‹æ”¾ä¸€ä¸ª <code>404.html</code>ï¼Œæ°å¥½å•é¡µåº”ç”¨ä¹Ÿéœ€è¦ç”¨ <code>index.html</code> å……å½“æ‰€æœ‰ javascript æ¡†æ¶æ³¨å†Œçš„ router</p>
<p>åªæ˜¯æœ‰ä¸€ä¸ªæ¯›ç—…ï¼Œè¿™è´§è¿”å›çš„ HTTP status code æ˜¯ 404ã€‚ç”¨èµ·æ¥æ²¡å•¥å¤§æ¯›ç—…ï¼Œä½†æ˜¯å°±æ˜¯æµè§ˆå™¨ä¸ä¼šè®°å½•ç½‘å€ï¼Œå¯¼è‡´æ²¡æ³•åŒ¹é…æµè§ˆå†å²å¿«é€Ÿæ‰¾åˆ°ä¹‹å‰è®¿é—®è¿‡çš„é¡µé¢ã€‚</p>
<p>æ‹¿æ¥æ”¹æ”¹ç»§ç»­ç”¨</p>
<pre><code>  from starlette.staticfiles import StaticFiles, Scope, Headers, Response, FileResponse

  class StaticFilesWithout404(StaticFiles):
      async def get_response(self, path: str, scope: Scope) -&gt; Response:
          r = await super().get_response(path, scope)
          h = Headers(scope=scope)
          full_path, stat_result = await self.lookup_path('404.html')
          if isinstance(r, FileResponse) and r.path == full_path:
              if 'text/html' in (h.get('accept') or ''):
                  r.status_code = 200
              else:
                  return Response('', status_code=404)
          return r

  app.mount("/frontend", StaticFilesWithout404(directory="frontend", html=True), name="static")
</code></pre>
<p>è¿™æ®µä»£ç å¤§æ¦‚æ˜¯èµ·åˆ°äº†ç±»ä¼¼ <a href="http://nginx.org/en/docs/http/ngx_http_core_module.html#try_files">nginx <code>try_files</code></a> çš„ä½œç”¨ã€‚é»˜è®¤é™æ€æ–‡ä»¶æ˜ å°„ä¸€ä¸ªç›®å½•ï¼Œä½†æ˜¯å¦‚æœæ‰¾ä¸åˆ°å°±æŒ‰æ ¹ç›®å½•çš„ index.html è¾“å‡ºã€‚è¿™é‡Œè¿˜åˆ¤æ–­äº†è¯·æ±‚çš„ <code>accept</code> å¤´ï¼Œå¦‚æœæ˜¯ xhr/Fetch å°±ä¼šç›´æ¥è¿”å›ä¸€ä¸ª0å­—èŠ‚é•¿åº¦æ— MIMEçš„404ã€‚</p>
<p>ç”±æ­¤æˆ‘æƒ³åˆ°äº†ä¸€ä¸ªå­¦ç©¶å¼çš„ leaky abstractionã€‚ä¼—æ‰€å‘¨çŸ¥ï¼Œå¦‚æœä¸€ä¸ªURLä¸å­˜åœ¨ï¼Œé‚£ä¹ˆæœåŠ¡å™¨åº”è¯¥è¿”å›404</p>
<p>ä½†æ˜¯ç°åœ¨éƒ½æ˜¯ SPA å•é¡µåº”ç”¨ï¼Œéƒ½æ˜¯å…ˆ 200 è¿”å› <code>index.html</code> çš„å†…å®¹ï¼Œå†ç”± javascript çš„ router å»å†³å®šæ˜¯å¦æ­£å¸¸æ˜¾ç¤ºè¿˜æ˜¯404 ã€‚æ‰€ä»¥è¿”å› 200 ä½†æ˜¯æ˜¾ç¤º 404 å°±ç ´åäº†è¿™ä¸ªè¯­ä¹‰ã€‚å¦‚æœè¦ç²¾ç¡®åŒ¹é…SPAé‡Œçš„routerå¦‚æœä¸å­˜åœ¨ç”±æœåŠ¡å™¨è¿”å›404ï¼Œç¬¬ä¸€æ˜¯æ SSRï¼ŒæŠŠå‰ç«¯é‚£ä¸€å¨ä»£ç è·‘åœ¨æœåŠ¡å™¨ç«¯ï¼Œç¬¬äºŒç§åŠæ³•æ˜¯ npm build çš„æ—¶å€™è¾“å‡ºä¸€ä¸ªå¯è·¯ç”±URLåˆ—è¡¨ï¼Œç„¶åéƒ¨ç½²çš„æ—¶å€™å¯¼å…¥é™æ€æ–‡ä»¶æœåŠ¡å™¨æ›´æ–°ã€‚è¿™ä¸ªå…·ä½“å®ç°å°±ç•™ä½œhomeworkç”±è¯»è€…è‡ªè¡Œè§£å†³äº†ã€‚</p></p>
            <div class="card-subtext muted-text">
              <p>Posted <time datetime="2021-12-08T07:38:38+08:00">2021-12-08</time></p>
<p>stdout</p>            </div>
          </article>
        </div>


        <!-- new article -->
        <div class="card blog-card">
          <article class="card-body">
            <a href="/2021/stdout-022"  rel="bookmark" >
              <h2 class="card-title">äººå·¥æ„é€ Flask sessionæ¨¡æ‹Ÿcookieç™»é™†</h2>
            </a>
            <p class="card-text"><p>æœ‰æ²¡æœ‰å¥½å¥‡ä¸ºä»€ä¹ˆ Flask é…ç½®å¿…é¡»è¦æ±‚ä¸€ä¸ª <a href="https://flask.palletsprojects.com/en/latest/config/#SECRET_KEY">SECRET_KEY</a>ï¼Œç„¶åå°±å¯ä»¥åœ¨æµè§ˆå™¨ä¿å­˜ä¸€ä¸ª session çŠ¶æ€è¯»å†™æ•°æ®ã€‚</p>
<p>è¿™é‡Œè®°ä¸€ä¸‹å®ƒçš„åº•å±‚å®ç°ï¼Œå…¶å®éœ€è¦ä¾èµ–çš„åŒ…æ˜¯ <a href="https://itsdangerous.palletsprojects.com/">itsdangerous</a></p>
<pre><code>  import hashlib
  from itsdangerous import URLSafeTimedSerializer
  URLSafeTimedSerializer(
          'YOUR_SECRET_KEY',  # flask SECRET_KEY
          'cookie-session',  # from flask.sessions.SecureCookieSessionInterface.salt
          # serializer=TaggedJSONSerializer(),
          signer_kwargs={'key_derivation': 'hmac', 'digest_method': hashlib.sha1}
  ).dumps({
      "your_key": "your_value"
  })
</code></pre>
<p>åˆ«äººå¦‚æœæ‹¿åˆ°ä½ çš„ <code>SECRET_KEY</code> å°±å¯ä»¥ä¼ªé€ ä»»æ„ session cookie äº†</p></p>
            <div class="card-subtext muted-text">
              <p>Posted <time datetime="2021-12-08T07:15:03+08:00">2021-12-08</time></p>
<p>stdout</p>            </div>
          </article>
        </div>


        <!-- new article -->
        <div class="card blog-card">
          <article class="card-body">
            <a href="/2021/stdin-016"  rel="bookmark" >
              <h2 class="card-title">è‹35çš„UIæ±‰åŒ–</h2>
            </a>
            <p class="card-text"><p><a href="https://www.zhihu.com/question/304693612/answer/2250648177">åŸæ–‡</a>ç¦æ­¢è½¬è½½ï¼Œé‚£æˆ‘å°±è½¬è½½åŸæ–‡çš„<a href="https://mil.sina.cn/sd/2016-10-11/detail-ifxwrhpm2928730.d.html">åŸæ–‡</a></p>
<blockquote>
<p>æ—¥å‰ï¼Œä¿„ç½—æ–¯ã€Šæ¶ˆæ¯æŠ¥ã€‹é‡‡è®¿äº†ä¿„ç½—æ–¯æ— çº¿ç”µç”µå­æŠ€æœ¯é›†å›¢ï¼ˆä¿„ç½—æ–¯æŠ€æœ¯é›†å›¢ä¸‹å±ä¼ä¸šï¼‰å‰¯æ€»ç»ç†å‰ç»´âˆ™å å­£åŠ å¤«ï¼Œè¯¥é›†å›¢æ˜¯è‹-35å‡ ä¹æ‰€æœ‰èˆªç”µç³»ç»Ÿçš„ç ”åˆ¶ç”Ÿäº§å•ä½ã€‚<br />
å å­£åŠ å¤«è¡¨ç¤ºï¼Œâ€œæ ¹æ®è®¢è´­æ–¹çš„å›½æƒ…è¦æ±‚æ”¹è£…æœºè½½è®¾å¤‡æ˜¯é‡è¦çš„æŠ€æœ¯ç¨‹åºä¹‹ä¸€ï¼Œä¸€å¹´å¤šæ¥æˆ‘ä»¬éƒ½åœ¨è‡´åŠ›äºå°†é©¾é©¶èˆ±å†…çš„ä¿¡æ¯ç¿»è¯‘æˆæ±‰è¯­ã€‚ä½†æ˜¯ï¼Œä¸åƒæ–¯æ‹‰å¤«å’Œæ‹‰ä¸å­—æ¯ï¼Œæ±‰è¯­çš„è±¡å½¢æ–‡å­—â€œå¾ˆéš¾â€åœ¨LCDæ˜¾ç¤ºå™¨ä¸Šé˜…è¯»ã€‚æœ€ç»ˆï¼Œä¸­æ–¹è¦æ±‚ç»´æŒåŸæ ·ï¼Œå³æ˜¾ç¤ºå™¨ä¸Šä¿ç•™è¥¿é‡Œå°”å­—æ¯ã€‚ä¸­å›½é£è¡Œå‘˜å·²æœ‰é©¾é©¶ä¿„è‹-27æˆ˜æœºçš„é£è¡Œç»éªŒï¼Œè¯¥é£æœºçš„é©¾é©¶èˆ±åŒæ ·æ²¡æœ‰ä¸ºä¸­å›½è¿›è¡Œæ”¹è£…ï¼Œä½†é£è¡Œå‘˜ä»¬â€˜é˜…è¯»â€™ä¿„è¯­çš„æœºä¸Šä¿¡æ¯ã€‚â€<br />
è¯¥æŠ¥ç§°ï¼Œè‹-35æ˜¾ç¤ºå™¨ä¸Šè¯‘æˆæ±‰è¯­çš„ä»ªè¡¨è¯»æ•°è¯´æ˜å’ŒæŒ‡ä»¤å¤ªè¿‡å¾®å°å’Œæ¨¡ç³Šï¼Œä»¥è‡´éš¾ä»¥é˜…è¯»ã€‚é€šè¿‡æ‰©å¤§æ˜¾ç¤ºå™¨çš„å°ºå¯¸å¯ä»¥è§£å†³è¯¥é—®é¢˜ï¼Œä½†è¿™æ ·å°±è¦å½»åº•æ”¹é€ é©¾é©¶èˆ±ï¼Œç ”åˆ¶å’Œè¯•éªŒéœ€è¦é¢å¤–çš„èµ„é‡‘å’Œæ—¶é—´ï¼Œä¸­æ–¹ä¼™ä¼´å¹¶ä¸å¸Œæœ›è¿™æ ·ã€‚<br />
æŠ¥é“è¿˜æŒ‡å‡ºï¼Œæä¾›ç»™ä¸­å›½çš„è‹-35é£æœºå”¯ä¸€çš„ç‰¹æ®Šä¹‹å¤„æ˜¯åœ¨æœºè½½ç³»ç»Ÿä¸­åŠ å…¥äº†ä¸­å›½çš„â€œåŒ—æ–—â€å«æ˜Ÿå¯¼èˆªç³»ç»Ÿã€‚</p>
</blockquote>
<p>ä¸­æ–‡å­—åº“è¿˜æ˜¯å¾ˆå¤§çš„ï¼Œæ¸²æŸ“ä¹Ÿéº»çƒ¦ã€‚</p></p>
            <div class="card-subtext muted-text">
              <p>Posted <time datetime="2021-12-02T07:20:03+08:00">2021-12-02</time></p>
<p>stdin</p>            </div>
          </article>
        </div>


        <!-- new article -->
        <div class="card blog-card">
          <article class="card-body">
            <a href="/2021/stdout-021"  rel="bookmark" >
              <h2 class="card-title">Python 3.X ctypes å’Œ greenlet size changed å‘ä¸‰åˆ™</h2>
            </a>
            <p class="card-text"><h3>å®‰è£… setup.py çš„æ—¶å€™ <code>No module named '_ctypes'</code> æŠ¥é”™</h3>
<pre><code>  Traceback (most recent call last):
    File &quot;&lt;string&gt;&quot;, line 1, in &lt;module&gt;
    File &quot;/usr/local/python3/lib/python3.9/site-packages/setuptools/__init__.py&quot;, line 18, in &lt;module&gt;
      from setuptools.dist import Distribution
    File &quot;/usr/local/python3/lib/python3.9/site-packages/setuptools/dist.py&quot;, line 34, in &lt;module&gt;
      from setuptools import windows_support
    File &quot;/usr/local/python3/lib/python3.9/site-packages/setuptools/windows_support.py&quot;, line 2, in &lt;module&gt;
      import ctypes
    File &quot;/usr/local/python3/lib/python3.9/ctypes/__init__.py&quot;, line 8, in &lt;module&gt;
      from _ctypes import Union, Structure, Array
  ModuleNotFoundError: No module named '_ctypes'
</code></pre>
<p>è§£å†³åŠæ³•æ˜¯ä¸è¦ç”¨ 3.9ã€‚</p>
<p>å¦‚æœå®åœ¨è¦ç”¨ï¼Œåˆ™è‡ªå·±ç¼–è¯‘å‰éœ€è¦åŠ ä¸Š <code>yum install libffi-devel</code> æˆ–è€… <code>sudo apt-get install libffi-dev</code></p>
<p>æ¥è‡ª<a href="https://stackoverflow.com/a/48045929">SO</a></p>
<h3><code>greenlet.greenlet size changed</code> ç„¶åå‡ºé”™</h3>
<pre><code>/usr/local/lib/python3.7/importlib/_bootstrap.py:219: RuntimeWarning: greenlet.greenlet size changed, may indicate binary incompatibility. Expected 144 from C header, got 152 from PyObject
  return f(*args, **kwds)
/usr/local/lib/python3.7/importlib/_bootstrap.py:219: RuntimeWarning: greenlet.greenlet size changed, may indicate binary incompatibility. Expected 144 from C header, got 152 from PyObject
  return f(*args, **kwds)

Segmentation fault (core dumped)
</code></pre>
<p>è¿™ä¸ªæ‘˜è‡ª<a href="https://github.com/gevent/gevent/issues/1260">å®˜æ–¹ iseue</a></p>
<blockquote>
<p>On Python 3.7 and higher, gevent 20.9.0 is required to use (a standard build of) greenlet 0.4.17.</p>
</blockquote>
<p>è§£å†³åŠæ³•ï¼š<code>pip install gevent==20.9.0 pip install greenlet==0.4.17</code></p>
<h3>SQLAlchemy 1.4 å¤§æˆ˜ greenlet 0.4.17</h3>
<p>è§ <a href="https://docs.sqlalchemy.org/en/14/changelog/changelog_14.html#change-12b8eb8e600cc32590b51d0087552191">sqlalchemy changelog</a></p>
<blockquote>
<p>to accommodate for the handling of Python contextvars (introduced in Python 3.7) for greenlet versions greater than 0.4.17. Greenlet version 0.4.17 added automatic handling of contextvars in a backwards-incompatible way; weâ€™ve coordinated with the greenlet authors to add a preferred API for this in versions subsequent to 0.4.17 which is now supported by SQLAlchemyâ€™s greenlet integration. For greenlet versions prior to 0.4.17 no behavioral change is needed, version 0.4.17 itself is blocked from the dependencies.</p>
</blockquote>
<p>ç„¶åå°±ç›´æ¥åœ¨ <a href="https://github.com/sqlalchemy/sqlalchemy/blob/703ff387c13f083ed0982071963155d679c862ab/setup.cfg#L42">setup.cfgé‡Œ</a> ç»™ <code>greenlet != 0.4.17</code>äº†ã€‚</p>
<p>ç¥ä»™æ‰“æ¶ï¼Œä¸å¬ä¸å¬ï¼Œå’Œå°šå¿µç»ï¼Œæœæ–­ <code>sqlalchemy==1.3.24</code> é™çº§ã€‚</p></p>
            <div class="card-subtext muted-text">
              <p>Posted <time datetime="2021-12-01T17:41:32+08:00">2021-12-01</time></p>
<p>stdout</p>            </div>
          </article>
        </div>


        <!-- new article -->
        <div class="card blog-card">
          <article class="card-body">
            <a href="/2021/stdout-020"  rel="bookmark" >
              <h2 class="card-title">Edgeè°ƒæ•™æŒ‡å—â€”â€”å¦‚ä½•è®¾ç½®æœ¬åœ°PACä»£ç†å’Œé¦–é¡µå¤©æ°”</h2>
            </a>
            <p class="card-text"><p>ä¹‹å‰ä¸€ç›´ç”¨çš„chrome v70ï¼Œä¸ºä»€ä¹ˆå‘¢ï¼Ÿ</p>
<p>ç¬¬ä¸€æ˜¯è¿™ä¸ªè€ç‰ˆæœ¬å…è®¸ <code>--proxy-pac-url="file:///Users/me/1.pac</code> è¿™æ ·è®¾ç½®ï¼Œä½†æ˜¯<a href="https://bugs.chromium.org/p/chromium/issues/detail?id=839566">Chromiumé¡¹ç›®çš„å¤§çˆ·ä»¬è§‰å¾—</a>ä½ æœ¬åœ°çš„.pacä¸å¤Ÿå®‰å…¨ï¼Œè¦ç½‘ä¸Šçš„.pacæ‰å®‰å…¨ï¼Œæ‰€ä»¥ä¸€åˆ€åˆ‡ç»™ç¦äº†ã€‚å½“ç„¶æœ‰çƒ­å¿ƒäººå£«è§‰å¾—è¿™æ²¡å•¥å¤§ä¸äº†çš„ã€‚ä¸å¤–ä¹è£…ä¸ªæ’ä»¶å°±å¯ä»¥åˆ‡PACã€‚ä½†æ˜¯chromeæ’ä»¶å…¶å®ä¼šæœ‰ä¸€ä¸ªfingerprintã€‚Extensionä¸€å¯ç”¨ï¼Œéš”å£è€ç‹éƒ½çŸ¥é“ä½ å¼€ä»£ç†äº†ã€‚</p>
<p>ç¬¬äºŒï¼Œä¹Ÿæ˜¯æœ€é‡è¦çš„åŸå› ï¼Œè¿™æ˜¯æœ€åä¸€ä¸ªchromeç‰ˆæœ¬æ”¯æŒ <code>about://net-internals</code> åœ¨æœ¬åœ°æŸ¥çœ‹æµè§ˆå™¨åº•å±‚ç½‘ç»œè¯·æ±‚ã€‚ç°åœ¨æ— è®ºæ˜¯ Edge è¿˜æ˜¯ Chrome éƒ½å¿…é¡»æŠŠ .json æ–‡ä»¶ä» https://netlog-viewer.appspot.com/ åŠ è½½æ‰èƒ½çœ‹äº†ã€‚å¾ˆå°¼ç›ä¿æŠ¤äº†éšç§æœ‰æ²¡æœ‰å•Šã€‚</p>
<p>ä½†æ˜¯åšæŒè€ç‰ˆæœ¬ï¼Œä¹Ÿä»˜å‡ºäº†å·¨å¤§çš„ä»£ä»·ã€‚å¾ˆå¤šæ–°çš„ ES è¯­æ³•ä¸æ”¯æŒï¼Œæ¯”å¦‚è¯´ Grafana æœ€æ–°ç‰ˆ login éƒ½è¿›ä¸å»ã€‚è¿™å°±å°´å°¬äº†ã€‚åªèƒ½è¢«è‡ªæ„¿å‡çº§äº†ã€‚</p>
<p>æ—¢ç„¶å‡çº§æ˜¯å¿…é€‰é¡¹ï¼Œé‚£ä¹ˆå°±æ¢ Edge è¯•è¯•ã€‚</p>
<p>ç¬¬ä¸€å°±æ˜¯å¾—è§£å†³è¿™ä¸ªæœ¬åœ° .pac é—®é¢˜ï¼Œå…¶å®ä»ä¸Šé¢ç¬¬äºŒä¸ªå·¥å…·é‡Œæ‰èƒ½çŸ¥é“ï¼ŒPACåŠ è½½å¤±è´¥æœ‰ä¸ªè¿”å› <code>ERR_DISALLOWED_URL_SCHEME</code>ã€‚stackoverflow ä¸Šæ‰¾åˆ°ä¸ªå¥‡æŠ€æ·«å·§</p>
<p><code>open "/Applications/Microsoft Edge.app" --args --proxy-pac-url='data:application/x-javascript-config;base64,'$(base64 -i /Users/me/2.pac)</code></p>
<p>è¿˜èƒ½è¿™æ ·ç©ï¼ŸåŒå‡»666ã€‚</p>
<p>ç¬¬äºŒä¸ªæŠŠè¯¥ç¦ç”¨çš„ç¦ç”¨äº†ï¼Œé¦–é¡µåªç•™ä¸€ä¸ªæœç´¢æ¡†ä¸€ä¸ªå¤©æ°”ã€‚ä½†æ˜¯è¿™å¤©æ°”å°±ç‰¹ä¹ˆå®šä½åˆ°å¡å¿äº†ã€‚è€Œä¸”ä¸‹æ‹‰æ¡†ç‚¹ä¸å‡ºæ¥å•Šã€‚F12æ‰“å¼€ devtool ä¸€çœ‹ï¼Œæˆ‘å°¼ç›å¥½å®¶ä¼™ <code>https://www.bing.com/api/v6/Places/AutoSuggest</code> è¢« Bing China çš„ç½‘ç®¡ç»™ä¸€æŠŠæ¢­302åˆ° <code>https://cn.bing.com/api/v6/Places/AutoSuggest</code> äº†ã€‚ç„¶åå°±ç‰¹ä¹ˆ CORS ç»™æ‹¦æˆªï¼Œjsè¯»å–ä¸åˆ°åˆ—è¡¨ã€‚ã€‚ã€‚</p>
<p>æœ€åæ€ä¹ˆåŠï¼Ÿç‚¹é‚£ä¸ªå¤©æ°”å›¾æ ‡ï¼Œè¿›å…¥åˆ° <code>https://www.msn.com/en-sg/weather/today/weather-today/we-city</code></p>
<p>ç„¶åæ‰¾é‚£ä¸ªåœ°å›¾ï¼Œæ‰‹åŠ¨é€‰æ‹©è‡ªå·±æ‰€åœ¨åŸå¸‚ï¼Œè®¾ç½®ä¸º Home ã€‚ç­‰ cookie å†™å…¥ç”Ÿæ•ˆäº†ï¼Œæ‰“å¼€edgeæ–°tabå°±okäº†</p>
<p>è¿™å¹´å¤´ä¸Šä¸ªç½‘çœŸé¸¡å„¿ç´¯ã€‚</p>
<p>btw è®¾ç½®M$è´¦å·åŒæ­¥çš„æ—¶å€™ï¼Œå‘ç°è´¦å·æ‰€åœ¨å›½å®¶å¯ä»¥é€‰å¾ˆå¤šä¸æ˜¯å›½å®¶çš„åœ°æ–¹ï¼Œä½†æ˜¯æ—¶åŒºå°±ä¸èƒ½éšä¾¿é€‰äº†ã€‚F12æ”¹äº†ä¹Ÿæ²¡ç”¨ã€‚å¾®è½¯çš„åå°å¼€å‘åšçš„è¿‡æ»¤è¿˜æŒºç»†è‡´çš„ã€‚</p>
<p>btw2 å‘ç°ä¸€ä¸ªå¾ˆå¹²å‡€çš„å¯åŠ¨é¡µï¼š <code>chrome-search://local-ntp/local-ntp.html</code> æˆ–è€…ç›´æ¥åœ¨ <code>hosts</code> é‡ŒæŠŠ ntp.msn.com å¹²æ‰ï¼Œæœ‰å¥‡æ•ˆã€‚</p></p>
            <div class="card-subtext muted-text">
              <p>Posted <time datetime="2021-11-30T11:32:33+08:00">2021-11-30</time></p>
<p>stdout</p>            </div>
          </article>
        </div>


        <!-- new article -->
        <div class="card blog-card">
          <article class="card-body">
            <a href="/2021/stdin-015"  rel="bookmark" >
              <h2 class="card-title">çƒ§è„‘ä¸¤é¢˜ï¼šèš‚èšå’Œæ©¡çš®ç­‹ï¼Œ30ä¸‡å…¬é‡Œçš„ç”µè·¯</h2>
            </a>
            <p class="card-text"><p>ä»Šå¤©é‡åˆ°çš„ä¸¤é“é¢˜ï¼š</p>
<ol>
<li>ä¸€åªèš‚èšç«™åœ¨é™æ­¢ä¸åŠ¨çš„ä¸€ç±³é•¿çš„æ©¡çš®ç­‹çš„å·¦è¾¹ç«¯ç‚¹å¼€å§‹å‘å³è¾¹çˆ¬ï¼Œçˆ¬è¡Œé€Ÿåº¦æ˜¯æ¯ç§’ä¸€å˜ç±³ã€‚ç°åœ¨å›ºå®šæ©¡çš®ç­‹çš„å·¦ç«¯ç‚¹ï¼Œæ‹‰ä¼¸æ©¡çš®ç­‹ä½¿ä¹‹ä»¥æ¯ç§’ä¸€å˜ç±³çš„é€Ÿåº¦ä¼¸é•¿ï¼Œèš‚èšä»ç„¶æ˜¯ä»¥ä¹‹å‰çš„é€Ÿåº¦å‘å³çˆ¬ï¼Œè¯•é—®èš‚èšèƒ½å¦çˆ¬åˆ°æ©¡çš®ç­‹å³ç«¯ç‚¹ï¼Ÿå‡è®¾æ©¡çš®ç­‹å¯ä»¥æ‹‰æ— é™é•¿ï¼Œæ±‚èš‚èšæ˜¯å¦èƒ½è¿½ä¸Šæ©¡çš®ç­‹ï¼Œè¿½ä¸ä¸Šçš„è¯ä¸¤è€…å·®å¤šå°‘ï¼Ÿ</li>
</ol>
<p>è§£ç­”æ²¡é‚£ä¹ˆå®¹æ˜“ï¼Œè§ zhihu å›ç­”<a href="https://www.zhihu.com/question/440130887">1</a>, <a href="https://www.zhihu.com/question/33093421">2</a></p>
<ol start="2">
<li>å¦‚æœé•¿ä¸€å…‰ç§’ï¼Œå®½1ç±³çš„é•¿æ–¹å½¢ç”µè·¯ï¼Œå¿½ç•¥å¯¼çº¿çš„ç”µé˜»ï¼Œé‚£ä¹ˆæ‰“å¼€å¼€å…³åç¯æ³¡è¦å¤šä¹…æ‰é€šç”µï¼Ÿ</li>
</ol>
<p><img alt="" src="/images/2021/stdin-015-1.jpg" /></p>
<p>ç­”æ¡ˆæ¥è‡ª<a href="https://www.youtube.com/watch?v=bHIhgxav9LY">è§†é¢‘</a>ï¼Œä¸»è¦è®²äº†ä¸€é€š å¡å°å»·çŸ¢é‡ çš„é“ç†ã€‚ã€‚ã€‚å›§</p></p>
            <div class="card-subtext muted-text">
              <p>Posted <time datetime="2021-11-22T22:41:10+08:00">2021-11-22</time></p>
<p>stdin</p>            </div>
          </article>
        </div>


        <!-- new article -->
        <div class="card blog-card">
          <article class="card-body">
            <a href="/2021/stdout-019"  rel="bookmark" >
              <h2 class="card-title">TiDBä¸æ”¯æŒJSONå­—æ®µé»˜è®¤å€¼</h2>
            </a>
            <p class="card-text"><p>ç»§å‰é¢çš„<a href="/2021/stdout-011">æ—¥æœŸä¸å…¼å®¹</a>å‘ï¼Œåˆå‘ç°<a href="https://docs.pingcap.com/tidb/stable/data-type-default-values">ä¸€ä¸ª</a></p>
<blockquote>
<p>The BLOB, TEXT, and JSON columns cannot be assigned a default value.</p>
</blockquote>
<p>è™½ç„¶ <a href="https://dev.mysql.com/doc/refman/5.7/en/json.html">MySQL 5.7 ä¹Ÿæ˜¯è¿™ä¹ˆè¯´</a>çš„ï¼š</p>
<blockquote>
<p>A JSON column cannot have a non-NULL default value.</p>
</blockquote>
<p>ä½†æ˜¯ <a href="https://dev.mysql.com/doc/refman/8.0/en/data-type-defaults.html">MySQL 8.0.13 å°±æ”¯æŒæŒ‡å®šé»˜è®¤å€¼</a>äº†</p>
<blockquote>
<p>Prior to MySQL 8.0.13, a JSON column cannot have a non-NULL default value.<br />
The default value specified in a DEFAULT clause can be a literal constant or an expression. With one exception, enclose expression default values within parentheses to distinguish them from literal constant default values. Examples:</p>
</blockquote>
<p>è™½ç„¶è¯­æ³•å¾ˆä¸‘ä½†æ˜¯å¾ˆå®ç”¨å•Šã€‚</p>
<p>æ‰€ä»¥è¿™ç§è¯­å¥</p>
<pre><code>  ALTER TABLE mytable MODIFY COLUMN my_json JSON DEFAULT (json_object());
</code></pre>
<p>åœ¨ TiDB é‡Œå°±æ²¡æ³•æ”¯æŒã€‚è¿™ä¹Ÿå¸¦æ¥ä¸€ä¸ªé—®é¢˜ï¼Œå°±æ˜¯è¦ upsert è¿™ä¸ª å­—æ®µçš„æ—¶å€™ï¼Œå†™èµ·æ¥å°±å¾ˆæ‹§å·´ï¼Œä»¥ <code>peewee</code> è¿™ä¸ªORMä¸ºä¾‹ï¼š</p>
<pre><code>  MyTable.update({
      'my_json' = fn.json_set(
          fn.COALESCE(MyTable.my_json, Cast('{}', 'JSON')),
          '%.some_key', 'some_value',
  )})
</code></pre>
<p>å¿…é¡»ç”¨ COALESCE é¢„é˜²é»˜è®¤å€¼ä¸º <code>NULL</code> çš„æƒ…å†µã€‚å¤ªéº»çƒ¦äº†ã€‚</p>
<p>btw ç©MySQL/TiDBçš„ JSON æœ‰ä¸ªå‘çš„ï¼Œé‚£å°±æ˜¯ json çš„ <code>null</code> æ˜¯æœ‰å€¼çš„ï¼Œå’Œ sql çš„ <code>NULL</code> æ˜¯ä¸åŒçš„ã€‚</p>
<p>ä¹Ÿå°±æ˜¯è¯´</p>
<pre><code>  select json_extract('{}', '$.hey') IS NULL;
  select json_extract('{"hey": null}', '$.hey') = Cast('null' as JSON);
</code></pre>
<p>è¦æ³¨æ„ã€‚</p>
<p>btw2 MySQLçš„JSONæ•°æ®æŠ½å– <code>-&gt;&gt;</code> æ˜¯è¿”å›çœŸæ­£çš„å€¼ï¼Œç­‰ä»·äºTiDBé‡Œçš„ json_unquote(json_extract(t.json_field, '$.key1.key2'))</p></p>
            <div class="card-subtext muted-text">
              <p>Posted <time datetime="2021-11-19T09:14:28+08:00">2021-11-19</time></p>
<p>stdout</p>            </div>
          </article>
        </div>


        <!-- new article -->
        <div class="card blog-card">
          <article class="card-body">
            <a href="/2021/stdin-014"  rel="bookmark" >
              <h2 class="card-title">æ€•å­¦ç”Ÿä¼šçœ‹HTMLæºç é‡Œçš„ç­”æ¡ˆï¼ŒChromeå…è®¸ç½‘ç®¡ç¦æ­¢æŸ¥çœ‹ç‰¹å®šç½‘ç«™æºç </h2>
            </a>
            <p class="card-text"><p>çœ‹åˆ°ä¸€ä¸ª<a href="https://bugs.chromium.org/p/chromium/issues/detail?id=895462">å¥‡è‘©issue</a></p>
<blockquote>
<p>With "view-source" in the URLBlacklist, the view-source:http://[URL] should not be available.  With Schools using Google Forms as a testing platform, students are able to use this shortcut to search through the source of the page, and determine the correct answers.</p>
</blockquote>
<p>ç„¶å Google Chrome å°±çœŸçš„æ”¹äº†ã€‚ã€‚ã€‚</p>
<p>https://chromium-review.googlesource.com/c/chromium/src/+/3260807</p>
<p>Google æ˜¯å¼€å‘äººå‘˜å¤ªå¯Œä½™äº†ã€‚è¿™ç§é—®æéƒ½è¦é€šè¿‡å‡çº§æµè§ˆå™¨è§£å†³ï¼Ÿ</p>
<p>è®©äººæƒ³èµ·äº†å‰å‡ å¤©çš„<a href="https://www.theverge.com/2021/10/14/22726866/missouri-governor-department-elementary-secondary-education-ssn-vulnerability-disclosure">å¯†è‹é‡Œå·çš„æŸ¥çœ‹HTMLæºç åˆ‘äº‹è¯‰è®¼</a></p>
<blockquote>
<p>ä¸€åè®°è€…å¶ç„¶å‘ç°ï¼Œå¯†è‹é‡Œå·å®˜æ–¹æ•™å¸ˆèµ„æ ¼è¯æŸ¥è¯¢ç½‘ç«™ï¼Œå­˜åœ¨ä¸¥é‡çš„ç³»ç»Ÿå®‰å…¨æ¼æ´ã€‚ä»…ä»…é€šè¿‡æŸ¥çœ‹ç½‘é¡µHTMLæºä»£ç ï¼Œå°±èƒ½è·å–æ•™å¸ˆçš„èº«ä»½è¯å·ç ä¿¡æ¯ã€‚äºæ˜¯ï¼Œä»–å‘æ”¿åºœæ•™è‚²éƒ¨é—¨æŠ¥å‘Šäº†è¿™ä¸ªé—®é¢˜ã€‚ç„¶è€Œä¸¤å¤©åï¼Œå…ˆäºæ¼æ´ä¿®å¤åˆ°æ¥çš„ï¼Œæ˜¯å·é•¿å³å°†å¯¹ä»–å‘èµ·åˆ‘äº‹èµ·è¯‰ã€‚â€œæ”¿åºœä¸ä¼šæ‰ä»¥è½»å¿ƒï¼Œâ€å·é•¿Mike Parsonåœ¨å‘¨å››çš„æ–°é—»å‘å¸ƒä¼šä¸Šå‘è¨€ï¼Œâ€œæœ¬å±Šæ”¿åºœç»ä¸å§‘æ¯ä»»ä½•è¯•å›¾çªƒå–ä¸ªäººä¿¡æ¯å¹¶ä¼šé€ æˆå¨èƒçš„ä½œæ¶è€…ã€‚â€</p>
</blockquote>
<p><a href="https://news.ycombinator.com/item?id=29170886">via</a></p></p>
            <div class="card-subtext muted-text">
              <p>Posted <time datetime="2021-11-10T13:35:30+08:00">2021-11-10</time></p>
<p>stdin</p>            </div>
          </article>
        </div>


        <!-- new article -->
        <div class="card blog-card">
          <article class="card-body">
            <a href="/2021/stdin-013"  rel="bookmark" >
              <h2 class="card-title">PCR testing site under the fireworks from Disney castle</h2>
            </a>
            <p class="card-text"><p>One of the most astonishing views from end of the year.</p>
<video src="/images/2021/stdin-013-1.mp4" controls preload="metadata"></video>

<p>From the evening of <a href="https://m.weibo.cn/detail/4698502573853047">31th Oct, Shanghai Disneyland</a></p></p>
            <div class="card-subtext muted-text">
              <p>Posted <time datetime="2021-11-08T22:28:06+08:00">2021-11-08</time></p>
<p>stdin</p>            </div>
          </article>
        </div>


        <!-- new article -->
        <div class="card blog-card">
          <article class="card-body">
            <a href="/2021/stdout-016"  rel="bookmark" >
              <h2 class="card-title">Chrome æŒ‡å®šåŸŸåè§£æï¼Œç»•è¿‡ hosts</h2>
            </a>
            <p class="card-text"><p>çœ‹åˆ° <a href="https://www.v2ex.com/t/813626">Vç«™æœ‰äººé—®</a>è¿™ä¸ªï¼Œéšæ‰‹ä¸€è®°</p>
<p>å¯ä»¥å‚è€ƒ<a href="https://chromium.googlesource.com/chromium/src/+/refs/heads/main/components/network_session_configurator/common/network_switch_list.h">æºç é‡Œçš„æ³¨é‡Šæ–‡æ¡£</a></p>
<h2>--host-resolver-rules=rules</h2>
<p>Like <code>--host-rules</code> but these rules only apply to the host resolver.<br />
A comma-separated list of rules that control how hostnames are mapped.<br />
For example:<br />
- <code>MAP * 127.0.0.1</code> Forces all hostnames to be mapped to <code>127.0.0.1</code><br />
- <code>MAP *.google.com proxy</code> Forces all google.com subdomains to be resolved to <code>proxy</code>.<br />
- <code>MAP test.com [::1]:77</code> Forces <code>test.com</code> to resolve to IPv6 loopback. Will also force the port of the resulting socket address to be 77.<br />
- <code>MAP * baz, EXCLUDE www.google.com</code> Remaps everything to <code>baz</code>, except for <code>www.google.com</code>.</p>
<p>These mappings apply to the endpoint host in a net request (the TCP connect and host resolver in a direct connection, and the CONNECT in an HTTP proxy connection, and the endpoint host in a SOCKS proxy connection).</p>
<p>å®˜æ–¹æ–‡æ¡£æœ‰è¯­ç„‰ä¸è¯¦çš„æåˆ°è¿‡</p>
<p>https://chromium.googlesource.com/chromium/src/+/refs/heads/main/net/dns/README.md</p>
<blockquote>
<p>Starting Chrome with --host-resolver-rules="MAP the.hostname.com [dead::beef]" where the.hostname.com is the hostname to allow resolving and dead::beef is the IPv6 address to resolve it to. net::MappedHostResolver acts at a level before IPv6 connectivity checks, and if a hostname is remapped to an IP literal, connectivity checks do not apply.</p>
</blockquote>
<p>è¿˜æœ‰å¾ˆå¤š <a href="https://chromium.googlesource.com/chromium/src/+/HEAD/net/docs/proxy.md">proxyçš„å‚æ•°</a></p>
<h2>curl çš„å‚æ•°</h2>
<p>ä¹Ÿé¡ºä¾¿è´´ä¸€ä¸‹ã€‚è°ƒè¯•çš„æ—¶å€™ç”¨å¾—ä¸Š</p>
<p>å‚æ•°ï¼š</p>
<ul>
<li><code>-4</code>, <code>--ipv4</code></li>
<li><code>-6</code>, <code>--ipv6</code></li>
<li><code>--dns-interface &lt;interface&gt;</code></li>
<li><code>--dns-ipv4-addr &lt;ip-address&gt;</code> Tell curl to bind to <code>&lt;ip-address&gt;</code> when making IPv4 DNS requests</li>
<li><code>--dns-ipv6-addr &lt;ip-address&gt;</code> Tell curl to bind to <code>&lt;ip-address&gt;</code> when making IPv6 DNS requests</li>
<li><code>--dns-servers &lt;ip-address,ip-address&gt;</code> Set the list of DNS servers to be used instead of the system default. The  list  of  IP  addresses should  be  separated  with commas. Port numbers may also optionally be given as <code>:&lt;port-number&gt;</code> after each IP address.</li>
<li><code>--resolve &lt;host:port:address&gt;</code> Make the curl requests(s) use a specified address and prevent the otherwise normally resolved address to  be  used. Consider  it a sort of /etc/hosts alternative provided on the command line. The port number should be the number used for the specific protocol the host will be  used  for.  It  means  you  need  several entries if you want to provide address for the same host but different ports. This option can be used many times to add many host names to resolve. (Added in 7.21.3)</li>
</ul>
<p>æœ€åä¸€ä¸ªå¾ˆæœ‰ç”¨ ğŸ˜¹</p></p>
            <div class="card-subtext muted-text">
              <p>Posted <time datetime="2021-11-07T16:01:19+08:00">2021-11-07</time></p>
<p>stdout</p>            </div>
          </article>
        </div>


        <!-- new article -->
        <div class="card blog-card">
          <article class="card-body">
            <a href="/2021/stdout-017"  rel="bookmark" >
              <h2 class="card-title">reverse proxy FastCGI (fcgi) with uWSGI</h2>
            </a>
            <p class="card-text"><p>People are still using FastCGI, and it's hard. I used uWSGI to convert FCGI traffic to regular http/1.0 so I can keep my existing http service running without apache mod_fcgi shit.</p>
<h2>CGI environ variables</h2>
<p>This is some ancient knowledge, better keep them noted</p>
<table>
<thead>
<tr>
<th>KEY</th>
<th>description</th>
</tr>
</thead>
<tbody>
<tr>
<td>AUTH_TYPE</td>
<td>ignore this</td>
</tr>
<tr>
<td>REMOTE_IDENT</td>
<td>The user making the request.</td>
</tr>
<tr>
<td>REMOTE_USER</td>
<td>The authenticated name of the user making the query.</td>
</tr>
<tr>
<td>CONTENT_LENGTH</td>
<td>byte length of body</td>
</tr>
<tr>
<td>CONTENT_TYPE</td>
<td>MIME such as text/html, without the charset shit</td>
</tr>
<tr>
<td>DOCUMENT_ROOT</td>
<td>NEW. The directory from which web documents are served.</td>
</tr>
<tr>
<td>REQUEST_URI</td>
<td>NEW. confusing shit similar with PATH_INFO</td>
</tr>
<tr>
<td>HTTP_*</td>
<td>HTTP headers</td>
</tr>
<tr>
<td>PATH_INFO</td>
<td>like /a/b/c</td>
</tr>
<tr>
<td>PATH_TRANSLATED</td>
<td>not really used</td>
</tr>
<tr>
<td>QUERY_STRING</td>
<td>the part after ? in an URL</td>
</tr>
<tr>
<td>REMOTE_ADDR</td>
<td>client IP</td>
</tr>
<tr>
<td>REMOTE_HOST</td>
<td>client host name by lookup ip</td>
</tr>
<tr>
<td>REQUEST_METHOD</td>
<td>GET/POST</td>
</tr>
<tr>
<td>SCRIPT_NAME</td>
<td>The virtual path (e.g., /cgi-bin/program.pl) of the script being executed.</td>
</tr>
<tr>
<td>SCRIPT_FILENAME</td>
<td>confusing shit similar with SCRIPT_NAME</td>
</tr>
<tr>
<td>SERVER_NAME</td>
<td>The server's hostname or IP address.</td>
</tr>
<tr>
<td>SERVER_PORT</td>
<td>The port number of the host on which the server is running.</td>
</tr>
<tr>
<td>SERVER_PROTOCOL</td>
<td>The name and revision number of the server protocol.</td>
</tr>
</tbody>
</table>
<h2>reverse proxy FastCGI with uWSGI</h2>
<p>slap this into <code>my_conf.ini</code></p>
<pre><code>  [uwsgi]
  my_port = 9000  # can be set otherwise
  route-run = addvar:SERVER_NAME=%h
  route-run = addvar:SERVER_PORT=%(my_port)
  route-if  = empty:${REQUEST_METHOD} addvar:REQUEST_METHOD=GET
  route-if  = empty:${HTTP_HOST} addvar:HTTP_HOST=%h:%(my_port)
  route-run = seturi:/fcgi-proxy${PATH_INFO}
  route-run = http:127.0.0.1:9527
  fastcgi-socket = 0.0.0.0:%(my_port)
  http-socket = 0.0.0.0:8000  # for testing purpose.
</code></pre>
<p>Install uWSGI, install the binary from pypi wheels instead of compiling uwsgi.c shit</p>
<pre><code>  pip install pyuwsgi
</code></pre>
<p>Run it</p>
<pre><code>  uwsgi --ini my_conf.ini
</code></pre>
<p>Now you can run your regular http service behind <code>127.0.0.1:9527</code>, while serving fcgi on <code>127.0.0.1:9000</code></p>
<p>Requests like <code>fcgi://127.0.0.1:9000/hello</code> will be fowwarded to <code>http://127.0.0.1:9527/fcgi-proxy/hello</code></p>
<p>You may ask why adding a <code>/fcgi-proxy</code> in path? Because there's a gotcha.</p>
<h2>fuckedup FastCGI requests</h2>
<p>Learned this from some php-fpm tutorial, first install the standard fcgi client tool because <code>curl</code> doesn't speak fcgi.</p>
<pre><code>  apt-get install libfcgi0ldbl
  yum --enablerepo=epel install fcgi
  SCRIPT_NAME=/ping SCRIPT_FILENAME=/ping REQUEST_METHOD=GET cgi-fcgi -bind -connect 127.0.0.1:9000
</code></pre>
<p>You can observe from uWSGI logs that <code>cgi-fcgi</code> command sends flawed requests, the <code>PATH_INFO</code> was unset.</p>
<p>After hours wasted, I came up with a clever hack to force uWSGI's internal router to force <code>seturi</code> with a path prefix</p>
<h2>ToDo</h2>
<p>There are further problems that can be improved, for example, my http service is running <code>uvicorn</code>, it can not guess the client ip:port infor from its stupid <code>get_remote_addr</code></p>
<p>what's worse, the uWSGI <code>addheader</code> directive are for <em>responses</em>, so I can't add <em>request</em> headers like <code>x-forwared-for</code>.</p>
<p>Also the reverse proxy is HTTP/1.0 only. to make the <code>Connection: Keep-alive</code> happen needs some further investigation.</p>
<h2>Q&amp;A</h2>
<p>Thanks for reading my shitpost. Questions?</p></p>
            <div class="card-subtext muted-text">
              <p>Posted <time datetime="2021-11-05T18:12:45+08:00">2021-11-05</time></p>
<p>stdout</p>            </div>
          </article>
        </div>


        <!-- new article -->
        <div class="card blog-card">
          <article class="card-body">
            <a href="/2021/stdin-012"  rel="bookmark" >
              <h2 class="card-title">20211102å¸åœˆçš„å¤è¯—è¯å¤§ä¼š</h2>
            </a>
            <p class="card-text"><p>ç¬¬ä¸€ä¸ªæ˜¯ Elon Musk çš„</p>
<p><a href="https://twitter.com/elonmusk/status/1455327010302087173">https://twitter.com/elonmusk/status/1455327010302087173</a></p>
<div style="
    font-family: Baskerville, Georgia, &quot;Liberation Serif&quot;, &quot;Kaiti SC&quot;, STKaiti, &quot;AR PL UKai CN&quot;, &quot;AR PL UKai HK&quot;, &quot;AR PL UKai TW&quot;, &quot;AR PL UKai TW MBE&quot;, &quot;AR PL KaitiM GB&quot;, KaiTi, KaiTi_GB2312, DFKai-SB, &quot;TW\-Kai&quot;, serif;
    writing-mode: vertical-rl;
    width: 100%;
    word-break: break-all;
    white-space: pre;
    text-spacing: ideograph-alpha;
    border-right: 0.2em solid #e00711;
    text-align: justify;
    text-justify: inter-ideograph;
">
Humankind
ç…®è±†ç‡ƒè±†è
è±†åœ¨é‡œä¸­æ³£
æœ¬æ˜¯åŒæ ¹ç”Ÿ
ç›¸ç…ä½•å¤ªæ€¥
</div>

<p>Shiba å¤§æˆ˜ Dogecoinï¼Œç„¶åSpaceX å¤§æˆ˜ Blue Originï¼Œç„¶åæ€¼ WFP David Beasleyã€‚</p>
<p>æˆ‘è§‰å¾— DeepL <a href="https://twitter.com/i/web/status/1455328151941353475">ç¿»è¯‘</a>å¾—çœŸå¥½ï¼</p>
<p><img alt="" src="/images/2021/stdin-012-1.jpg" /></p>
<p>å½“ç„¶ä¹Ÿæœ‰<a href="https://www.chinanews.com/gn/cns60/news/89.shtml">é•¿è€…çš„</a>ï¼Œå¾®åšä¸Šæœ‰ä¸ª å¤§å¼Ÿå­Leo æ‰¾åˆ°äº†è§†é¢‘ï¼Œçœ‹æ°´å°æ˜¯ AP çš„ï¼Œæˆ‘å»æœäº†ä¸‹å‘ç°çœŸçš„æœ‰ <a href="https://youtu.be/oSG01RUdUUg?t=71">https://youtu.be/oSG01RUdUUg?t=71</a></p>
<p>ç„¶åå­¦ä¹ äº†ä¸€ä¸‹ï¼Œè¿™é¦–è¯—åŸæ¥æ˜¯å…­å¥ï¼Œæœ€æ—©å‡ºç°åœ¨å—åŒ—æœåˆ˜å®‹çš„ã€Šä¸–è¯´æ–°è¯­ã€‹ï¼š</p>
<div style="
    font-family: Baskerville, Georgia, &quot;Liberation Serif&quot;, &quot;Kaiti SC&quot;, STKaiti, &quot;AR PL UKai CN&quot;, &quot;AR PL UKai HK&quot;, &quot;AR PL UKai TW&quot;, &quot;AR PL UKai TW MBE&quot;, &quot;AR PL KaitiM GB&quot;, KaiTi, KaiTi_GB2312, DFKai-SB, &quot;TW\-Kai&quot;, serif;
    writing-mode: vertical-rl;
    width: 100%;
    word-break: break-all;
    white-space: pre;
    text-spacing: ideograph-alpha;
    border-right: 0.2em solid #e00711;
    text-align: justify;
    text-justify: inter-ideograph;
">
ç…®è±†æŒä½œç¾¹ï¼Œ
æ¼‰è½ä»¥ç‚ºæ±ã€‚
èåœ¨é‡œä¸‹ç‡ƒï¼Œ
è±†åœ¨é‡œä¸­æ³£ã€‚
æœ¬è‡ªåŒæ ¹ç”Ÿï¼Œ
ç›¸ç…ä½•å¤ªæ€¥ã€‚
</div>

<p>ç„¶åæ˜¯å¸åœˆçš„å¤§ä½¬ä»¬ç»§ç»­èƒŒè¯—</p>
<div style="
    font-family: Baskerville, Georgia, &quot;Liberation Serif&quot;, &quot;Kaiti SC&quot;, STKaiti, &quot;AR PL UKai CN&quot;, &quot;AR PL UKai HK&quot;, &quot;AR PL UKai TW&quot;, &quot;AR PL UKai TW MBE&quot;, &quot;AR PL KaitiM GB&quot;, KaiTi, KaiTi_GB2312, DFKai-SB, &quot;TW\-Kai&quot;, serif;
    writing-mode: vertical-rl;
    width: 100%;
    word-break: break-all;
    white-space: pre;
    text-spacing: ideograph-alpha;
    border-right: 0.2em solid #e00711;
    text-align: justify;
    text-justify: inter-ideograph;
">
åå¹´ç£¨ä¸€å‰‘
éœœåˆƒæœªæ›¾è¯•
ä»Šæ—¥æŠŠç¤ºå›
è°æœ‰ä¸å¹³äº‹
</div>

<p><a href="https://twitter.com/GMEdd/status/1455363193455452166">https://twitter.com/GMEdd/status/1455363193455452166</a></p>
<p><img alt="" src="/images/2021/stdin-012-2.jpg" /></p>
<p>çœŸæ˜¯ç–¯ç‹‚çš„ä¸€å¤©å•Šã€‚</p>
<p><a href="https://np.reddit.com/r/Superstonk/comments/qkug3o/umwhat/">via</a></p></p>
            <div class="card-subtext muted-text">
              <p>Posted <time datetime="2021-11-02T22:46:55+08:00">2021-11-02</time></p>
<p>stdin</p>            </div>
          </article>
        </div>


        <!-- new article -->
        <div class="card blog-card">
          <article class="card-body">
            <a href="/2021/stdout-018"  rel="bookmark" >
              <h2 class="card-title">æ·˜å®åŒä¸€æ‰‹æœºæœ€å¤šç»‘å®š6ä¸ªå°å·</h2>
            </a>
            <p class="card-text"><p>æ€»ç»“ä¸€äº›æ²¡ç”¨çš„çŸ¥è¯†</p>
<ol>
<li>
<p>æ·˜å®/é˜¿é‡Œè´¦å·ï¼Œå¯ä»¥ä¸€ä¸ªæ‰‹æœºæœ€å¤šç»‘å®š6ä¸ªè´¦å·ã€‚æ·˜å®æ³¨å†Œçš„æ—¶å€™ç‚¹å‡»ã€Œä¼ä¸šæ³¨å†Œã€ç„¶åç”¨é‚®ç®±æ³¨å†Œï¼Œæœ€åç”¨åŒä¸€ä¸ªæ‰‹æœºéªŒè¯å³å¯</p>
</li>
<li>
<p>ã€Œæ”¯ä»˜å®ã€åœ¨æ·˜å®/é˜¿é‡Œç³»é‡Œappé‡Œæ˜¯å’Œã€Œè´¦å·ã€ä¸€ä¸€ç»‘å®šçš„ï¼Œè¿™å°±äº§ç”Ÿäº†å¾ˆå¤šå†²çªã€‚æ¯”å¦‚ä½ ä¸€ä¸ªç¬¬ä¸‰æ–¹å¤–å–appï¼Œæ”¯ä»˜çš„æ—¶å€™å¯ä»¥é€‰æ‹© å¾®ä¿¡/æ”¯ä»˜å®ï¼Œä¸€èˆ¬ä¸ä¼šé™åˆ¶ä¸‹å•æ‰‹æœºå·å’Œæ”¯ä»˜æ‰‹æœºå·æ˜¯å¦ä¸€æ ·ï¼Œä½ ç”šè‡³å¯ä»¥å¸®åˆ«äººæ”¯ä»˜è®¢å•ï¼Œä½†æ˜¯æ·˜å®/é˜¿é‡Œçš„appä¸ä¸€æ ·ï¼Œåªèƒ½è‡ªå·±è´¦å·æ”¯ä»˜è‡ªå·±è´¦å·çš„è®¢å•ã€‚å¦‚æœä½ æœ‰ä¸¤ä¸ªæ‰‹æœºå·å’Œä¸¤ä¸ªæ”¯ä»˜å®è´¦å·ï¼Œé‚£ä¹ˆæ²¡æ³•äº¤å‰æ”¯ä»˜ã€‚</p>
</li>
</ol>
<p>è¿˜æœ‰ä¸€ä¸ªæƒ³ä¸èµ·äº†ï¼Œæƒ³èµ·äº†å†è¡¥å……ã€‚2333</p></p>
            <div class="card-subtext muted-text">
              <p>Posted <time datetime="2021-10-28T16:21:23+08:00">2021-10-28</time></p>
<p>stdout</p>            </div>
          </article>
        </div>


        <!-- new article -->
        <div class="card blog-card">
          <article class="card-body">
            <a href="/2021/stdout-015"  rel="bookmark" >
              <h2 class="card-title">ã€Šå…µè½¦è¡Œã€‹ç«–æ’å®éªŒ</h2>
            </a>
            <p class="card-text"><p>ç¾¤é‡Œé—²èŠèµ·ç©¶ç«Ÿç”Ÿç”·å¥½è¿˜æ˜¯ç”Ÿå¥³å¥½ï¼Œå°±æƒ³èµ·äº†è¿™é¦–è¯—</p>
<div style="
    font-family: Baskerville, Georgia, &quot;Liberation Serif&quot;, &quot;Kaiti SC&quot;, STKaiti, &quot;AR PL UKai CN&quot;, &quot;AR PL UKai HK&quot;, &quot;AR PL UKai TW&quot;, &quot;AR PL UKai TW MBE&quot;, &quot;AR PL KaitiM GB&quot;, KaiTi, KaiTi_GB2312, DFKai-SB, &quot;TW\-Kai&quot;, serif;
    writing-mode: vertical-rl;
    width: 100%;
    word-break: break-all;
    white-space: pre;
    text-spacing: ideograph-alpha;
    border-right: 0.2em solid #e00711;
    text-align: justify;
    text-justify: inter-ideograph;
">å…µè½¦è¡Œâ€”â€”æœç”«

è½¦è¾šè¾šï¼Œé©¬è§è§ï¼Œè¡Œäººå¼“ç®­å„åœ¨è…°ã€‚  
è€¶å¨˜å¦»å­èµ°ç›¸é€ï¼Œå°˜åŸƒä¸è§å’¸é˜³æ¡¥ã€‚
ç‰µè¡£é¡¿è¶³æ‹¦é“å“­ï¼Œå“­å£°ç›´ä¸Šå¹²äº‘éœ„ã€‚
é“æ—è¿‡è€…é—®è¡Œäººï¼Œè¡Œäººä½†äº‘ç‚¹è¡Œé¢‘ã€‚
æˆ–ä»åäº”åŒ—é˜²æ²³ï¼Œä¾¿è‡³å››åè¥¿è¥ç”°ã€‚
å»æ—¶é‡Œæ­£ä¸è£¹å¤´ï¼Œå½’æ¥å¤´ç™½è¿˜æˆè¾¹ã€‚
è¾¹åº­æµè¡€æˆæµ·æ°´ï¼Œæ­¦çš‡å¼€è¾¹æ„æœªå·²ã€‚
å›ä¸é—»ï¼Œæ±‰å®¶å±±ä¸œäºŒç™¾å·ï¼Œåƒæ‘ä¸‡è½ç”Ÿè†æã€‚
çºµæœ‰å¥å¦‡æŠŠé”„çŠï¼Œç¦¾ç”Ÿé™‡äº©æ— ä¸œè¥¿ã€‚
å†µå¤ç§¦å…µè€è‹¦æˆ˜ï¼Œè¢«é©±ä¸å¼‚çŠ¬ä¸é¸¡ã€‚
é•¿è€…è™½æœ‰é—®ï¼Œå½¹å¤«æ•¢ç”³æ¨ï¼Ÿ
ä¸”å¦‚ä»Šå¹´å†¬ï¼Œæœªä¼‘å…³è¥¿å’ã€‚
å¿å®˜æ€¥ç´¢ç§Ÿï¼Œç§Ÿç¨ä»ä½•å‡ºï¼Ÿ
<b>ä¿¡çŸ¥ç”Ÿç”·æ¶ï¼Œåæ˜¯ç”Ÿå¥³å¥½ã€‚
ç”Ÿå¥³çŠ¹å¾—å«æ¯”é‚»ï¼Œç”Ÿç”·åŸ‹æ²¡éšç™¾è‰ã€‚</b>
å›ä¸è§ï¼Œé’æµ·å¤´ï¼Œå¤æ¥ç™½éª¨æ— äººæ”¶ã€‚
æ–°é¬¼çƒ¦å†¤æ—§é¬¼å“­ï¼Œå¤©é˜´é›¨æ¹¿å£°å•¾å•¾ï¼

</div>

<p>æµ‹è¯•ä¸‹ css çš„æ–‡å­—ç«–æ’ã€‚</p>
<p>å­—ä½“æ¥è‡ª <a href="http://zenozeng.github.io/fonts.css/">fonts.css</a></p></p>
            <div class="card-subtext muted-text">
              <p>Posted <time datetime="2021-10-21T23:28:21+08:00">2021-10-21</time></p>
<p>stdout</p>            </div>
          </article>
        </div>


        <!-- new article -->
        <div class="card blog-card">
          <article class="card-body">
            <a href="/2021/stdout-014"  rel="bookmark" >
              <h2 class="card-title">Re-index page on Google Search Console</h2>
            </a>
            <p class="card-text"><p>Request indexing webpage with Google used to be fun and simple, now it's a tedious task especially when you have tons of old pages ready to be crawled yet Google is reluctant to move.</p>
<p>Here is a simple script to speed up the stacks of page you have click in order to submit multiple missing pages to Google. </p>
<p>Open your <a href="https://search.google.com/search-console">Google Search Console</a>, click <strong>Coverage</strong> then open <strong>Discovered â€“ currently not indexed</strong></p>
<p>Now open your browser devtool, paste these into javascript console, hit them one by one.</p>
<pre><code>  document.querySelector('div[data-disabled] table td span[title] span[title="Inspect URL"]').click()

  document.querySelector('span[data-event-action=request-indexing] span[jsslot] div span span').click()

  document.querySelector('span[data-event-action=pivot-to-report-main-view-indexing-section] a').click()
</code></pre>
<p>Until you met with the daily quota. Rinse and try this shit everyday.</p>
<p>Fuck Google.</p></p>
            <div class="card-subtext muted-text">
              <p>Posted <time datetime="2021-10-21T14:53:25+08:00">2021-10-21</time></p>
<p>stdout</p>            </div>
          </article>
        </div>


        <!-- new article -->
        <div class="card blog-card">
          <article class="card-body">
            <a href="/2021/stderr-009"  rel="bookmark" >
              <h2 class="card-title">äººæ•™ç‰ˆè¯­æ–‡è¯¾ç¨‹ã€Šä¸€åªå¥¶é…ªã€‹</h2>
            </a>
            <p class="card-text"><p>èµ·åˆæ˜¯å¨ƒçš„ä¸€ä¸ªä½œä¸šï¼Œè¢«æ‰“äº†å‰ï¼Œç™¾æ€ä¸å¾—å…¶è§£</p>
<p><img alt="" src="/images/2021/stderr-009-1.jpg" /></p>
<p>äºæ˜¯ç¿»å¼€è¯¾æ–‡ä»”ç»†è¯»ä¸€ä¸‹</p>
<blockquote>
<h2>ä¸€å—å¥¶é…ª ä½œè€…ï¼šè¾›å‹¤</h2>
<p>èš‚èšé˜Ÿé•¿é›†åˆå¥½é˜Ÿä¼ï¼Œå‘å¤§å®¶å®£å¸ƒï¼šâ€œä»Šå¤©æ¬è¿ç²®é£Ÿï¼Œåªè®¸å‡ºåŠ›ï¼Œä¸è®¸å·å˜´ã€‚è°å·äº†å˜´ï¼Œå°±è¦å—åˆ°å¤„ç½šã€‚ ä¸€åªå°èš‚èšåœ¨é˜Ÿåˆ—é‡Œå˜€å’•ï¼šâ€œè¦æ˜¯å·å˜´çš„æ˜¯æ‚¨å‘¢ï¼Ÿâ€èš‚èšé˜Ÿé•¿è¯´ï¼šâ€œç…§è¦å°±å—å¤„ç½šã€‚â€ å¤§å®¶ä¸€å¬ï¼Œéƒ½æ¥åŠ²äº†ï¼Œäº‰å…ˆæåèµ¶åˆ°è¿ç²®åœ°ç‚¹ï¼ŒæŠ¢ç€æŠ¬å¤§çš„ï¼Œæ¬é‡çš„ï¼Œè°ä¹Ÿä¸æ„¿å·æ‡’ã€‚ <br />
å°±åœ¨è¿™æ—¶ï¼Œèš‚èšé˜Ÿé•¿å‘ç°äº†ä¸€å—å¤§å¥¶é…ªã€‚é‚£å—å¥¶é…ªå®åœ¨å¤ªå¤§äº†ï¼Œä»–å·¦æŠ¬æŠ¬ä¸èµ·ï¼Œå³æ¬æ¬ä¸åŠ¨ï¼Œåªå¥½å«æ¥ä¸ƒå…«åªå°èš‚èšå½“åŠ©æ‰‹ã€‚ <br />
å¥¶é…ªå¤šè¯±äººå•Šï¼æŠ¬ç€å®ƒï¼Œä¸è¦è¯´åƒï¼Œå•æ˜¯é—»é—»ï¼Œéƒ½è¦æ·Œå£æ°´ã€‚å°èš‚èšä»¬å˜´å¼ç€å®ƒï¼Œè¦åšåˆ°ä¸è¶æœºèˆ”ä¸€ä¸‹ï¼Œé‚£è¦å¤šå¤§çš„æ¯…åŠ›ï¼Œå¤šå¼ºçš„çºªå¾‹æ€§å•Šï¼ <br />
èš‚èšé˜Ÿé•¿å¼ç€å¥¶é…ªä¸€è§’å¾€å‰æ‹½ç€ï¼Œä¹Ÿè®¸æ˜¯ç”¨åŠ›è¿‡çŒ›ï¼Œä¸€ä¸‹å°±æŠŠé‚£ä¸ªè§’æ‹½æ‰äº†ã€‚ç›¯ç€é‚£ä¸€ç‚¹æ‰åœ¨åœ°ä¸Šçš„å¥¶é…ªæ¸£ï¼Œèš‚èšé˜Ÿé•¿æƒ³ï¼šä¸¢æ‰ï¼Œå®åœ¨å¯æƒœï¼›è¶æœºåƒæ‰å®ƒï¼Œåˆè¦çŠ¯ä¸è®¸å·å˜´çš„ç¦ä»¤ã€‚æ€ä¹ˆåŠå‘¢ï¼Ÿä»–çš„å¿ƒä¸ƒä¸Šå…«ä¸‹ï¼Œåªå¥½ä¸‹ä»¤ï¼šâ€œä¼‘æ¯ä¸€ä¼šå„¿å­ï¼â€ <br />
å¬åˆ°å‘½ä»¤ï¼Œå¤§å®¶æ”¾ä¸‹å‘½ä»¤ï¼Œå´ä¸èµ°å¼€ã€‚ â€œå¤§å®¶åˆ†æ•£å¼€ï¼Œå“ªé‡Œå‡‰å¿«å°±åˆ°å“ªé‡Œä¼‘æ¯ã€‚â€ å¤§å®¶ä¾æ—§ä¸åŠ¨ï¼Œçœ¼ç›æœ›ç€åˆ«å¤„ï¼Œå¿ƒå´ç‰µæŒ‚ç€é‚£ä¸€ç‚¹å„¿å¥¶é…ªæ¸£å­ã€‚ <br />
èš‚èšé˜Ÿé•¿ç”Ÿæ°”äº†ã€‚ä»–ç™»ä¸Šä¸€å—å¤§çŸ³æ¿ï¼Œçªç„¶ä¸‹ä»¤ï¼šâ€œæ³¨æ„å•¦ï¼Œå…¨ä½“éƒ½æœ‰ã€‚ç¨æ¯ï¼ç«‹æ­£ï¼å‘åâ€”â€”è½¬ï¼é½æ­¥â€”â€”èµ°ï¼â€ç­‰å°èš‚èšä»¬æ¶ˆå¤±åœ¨è‰ä¸›ä¸­ï¼Œä»–æ‰å¤§å«ï¼šâ€œç«‹â€”â€”å®šï¼åŸåœ°ä¼‘æ¯ï¼â€ <br />
è¿™æ—¶ï¼Œå¥¶é…ªæ—è¾¹åªæœ‰èš‚èšé˜Ÿé•¿ï¼Œä»–å·ä¸ªå˜´ï¼Œè°ä¹Ÿçœ‹ä¸è§ã€‚ä»–ä½ä¸‹å¤´ï¼Œå—…å—…é‚£ç‚¹å„¿å¥¶é…ªï¼Œå‘³é“çœŸé¦™ï¼å¯æ˜¯ï¼Œä»–çŠ¹è±«äº†ä¸€ä¼šå„¿ï¼Œç»ˆäºä¸€è·ºè„šï¼šâ€œæ³¨æ„å•¦ï¼Œå…¨ä½“éƒ½æœ‰ã€‚ç¨æ¯ï¼ç«‹æ­£ï¼å‘åâ€”â€”è½¬ï¼é½æ­¥â€”â€”èµ°ï¼â€ <br />
å°èš‚èšä»¬ä»å››é¢å…«æ–¹çš„è‰ä¸›é‡Œèµ°æ‹¢æ¥äº†ã€‚å½“ä»–ä»¬é‡æ–°èšåˆ°å¥¶é…ªæ—è¾¹æ—¶ï¼Œèš‚èšé˜Ÿé•¿å‘½ä»¤å¹´é¾„æœ€å°çš„ä¸€åªèš‚èšï¼šâ€œè¿™ç‚¹å„¿å¥¶é…ªæ¸£æ˜¯åˆšæ‰å¼„æ‰çš„ï¼Œä¸¢äº†å¯æƒœï¼Œæ‚¨åƒæ‰å®ƒå§ï¼â€ <br />
å¤§å®¶åˆå¹²èµ·æ´»æ¥äº†ï¼ŒåŠ²å¤´æ¯”åˆšæ‰æ›´è¶³ï¼Œå¥¶é…ªä¸€ä¼šå„¿å°±è¢«æ¬åˆ°æ´é‡Œå»äº†ã€‚ </p>
</blockquote>
<p><img alt="" src="/images/2021/stderr-009-2.jpg" /> <img alt="" src="/images/2021/stderr-009-3.jpg" /></p>
<p><img alt="" src="/images/2021/stderr-009-4.jpg" /></p>
<p>è¯»å®Œè¿™ç¯‡è¯¾æ–‡ï¼Œå¯¹å…¶æ•…äº‹æ²¡å¤šå°‘å°è±¡äº†ï¼Œä½†æ˜¯å°æ—¶å€™ä¹Ÿæ˜¯è¢«è¿™ã€Œæ€»ç»“ä¸­å¿ƒæ€æƒ³ã€æå‡º PTSDäº†ï¼Œå†å›å¤´çœ‹çœ‹å­©å­çš„ç­”æ¡ˆï¼Œè²Œä¼¼æ²¡æ¯›ç—…å•Šã€‚ä¸ºå•¥æ²¡ç­”å¯¹å‘¢ï¼Œè¿™æ˜¯ä»€ä¹ˆé¬¼ã€‚</p>
<p>åªèƒ½ç½‘ä¸Šæœä¸€ä¸‹ç­”æ¡ˆï¼Œæœå®Œä¹‹åæˆ‘ä»–å¦ˆè£‚å¼€äº†ï¼Œæ¯”å¦‚</p>
<blockquote>
<p>Q: èš‚èšä»¬ä¸ºä»€ä¹ˆäº‰å…ˆæåçš„æ¬è¿ç²®é£Ÿï¼Ÿ<br />
A: èš‚èšä»¬å¬åˆ°èš‚èšé˜Ÿé•¿è¯´è¦å’Œå¤§å®¶ä¸€èµ·éµå®ˆè§„åˆ™ï¼Œä¸æç‰¹æƒï¼Œä»–ä»¬çš„ç§¯ææ€§è¢«è°ƒåŠ¨èµ·æ¥äº†ã€‚<br />
Q: èš‚èšé˜Ÿé•¿ä¸ºä»€ä¹ˆä¸¤æ¬¡ä¸‹äº†åŒæ ·çš„å‘½ä»¤ï¼Ÿä»–æƒ³å¹²ä»€ä¹ˆï¼Ÿ<br />
A: èš‚èšé˜Ÿé•¿ç¬¬ä¸€æ¬¡ä¸‹å‘½ä»¤æ˜¯æƒ³è®©èš‚èšä»¬ç¦»å¼€ï¼Œè‡ªå·±åƒäº†è¿™ç‚¹å„¿å¥¶é…ªæ¸£ï¼Œå› ä¸ºä»–å®åœ¨æŠµåˆ¶ä¸äº†ç¾é£Ÿçš„è¯±æƒ‘ã€‚å¯æ˜¯ç»è¿‡æ¿€çƒˆçš„æ€æƒ³æ–—äº‰ï¼Œä»–æ”¹å˜äº†è‡ªå·±çš„æƒ³æ³•ï¼Œå†³å®šæŠŠè¿™ç‚¹å„¿å¥¶é…ªæ¸£ç•™ç»™å¹´é¾„æœ€å°çš„èš‚èšåƒã€‚ä»è¿™é‡Œå¯ä»¥çœ‹å‡ºèš‚èšé˜Ÿé•¿å…·æœ‰æŠµåˆ¶è¯±æƒ‘çš„å‹‡æ°”ï¼Œèƒ½å¤Ÿä»¥èº«ä½œåˆ™ï¼Œä¹Ÿåæ˜ äº†èš‚èšé˜Ÿé•¿å…³çˆ±å¼±å°çš„å“è´¨ã€‚</p>
</blockquote>
<p>æˆ‘å¿ƒé‡Œä¸€ä¸‡ä¸ªé—®å·ï¼Œå­©å­å­¦ä¹ è¯­æ–‡ï¼Œåº”è¯¥æ˜¯ä»ç®€å•åˆ°å›°éš¾å§ï¼Œå¯¹ç¤¾ä¼šè¿™ç§å¤æ‚ç»„ç»‡ï¼Œå­©å­æ‡‚ä¸ªå±ä»€ä¹ˆå«ã€Œç‰¹æƒã€ï¼Ÿ</p>
<p>æœäº†ä¸‹ä½œè€…ï¼š</p>
<blockquote>
<p>è¾›å‹¤  (1939ï½) ç¬”åè‰¯é©½ã€æœ¨å…°ã€‚äº‘å—æ˜†æ˜äººã€‚1960å¹´æ¯•ä¸šäºæ˜†æ˜å¸ˆä¸“æ–‡å²ç³»ã€‚å†ä»»å¿ä¸­å­¦æ•™å‘˜ã€å¿å§”å®£ä¼ éƒ¨å¹²äº‹ã€äº‘å—äººæ°‘å‡ºç‰ˆç¤¾ç¼–è¾‘ã€æ™¨å…‰å‡ºç‰ˆç¤¾ç¼–è¾‘å®¤ä¸»ä»»ã€ã€Šèœœèœ‚æŠ¥ã€‹ä¸»ç¼–ï¼Œå‰¯ç¼–å®¡ã€‚äº‘å—çœå®¶åº­æ•™è‚²ç ”ç©¶ä¼šå‰¯ä¼šé•¿ã€‚1956å¹´å¼€å§‹å‘è¡¨ä½œå“ã€‚1990å¹´åŠ å…¥ä¸­å›½ä½œå®¶åä¼šã€‚è‘—æœ‰çŸ­ç¯‡å„¿ç«¥å°è¯´é›†ã€Šè£…åœ¨è‘«èŠ¦é‡Œçš„æ•…äº‹ã€‹ï¼Œä¸­é•¿ç¯‡å„¿ç«¥å°è¯´ã€Šç»¿å­”é›€ä¸é‡‘è§’é¾™ã€‹ã€ã€Šæ›¿èº«æ¼”å‘˜ã€‹ã€ã€Šå°å“¥ä¿©çŒè™ã€‹ã€ã€Šé¬¼è°·ã€‹ã€ã€Šé­”åŒ£ã€‹ç­‰ï¼Œæ•£æ–‡é›†ã€Šæ™ºæ…§å¥³å­©ã€‹ï¼Œå„¿æ­Œé›†ã€Šå¿ƒç¯ã€‹ç­‰ã€‚ä¸­ç¯‡å°è¯´ã€Šç«æŠŠæ­Œã€‹è·ä¸Šæµ·å„¿ç«¥æ–‡å­¦å›­ä¸å¥–ã€‚2005å¹´è·ä¸­å›½é’å°‘å¹´ç¤¾ä¼šæ•™è‚²é“¶æå¥–çªå‡ºè´¡çŒ®å¥–ã€‚</p>
</blockquote>
<p>æ‰€ä»¥è¿™å°±å¾ˆå®¹æ˜“ç†è§£äº†ã€‚è¿™ç¯‡è¯¾æ–‡å°±æ˜¯å½“å¹´æ–‡é©æ—¶æœŸå°é•‡å®£ä¼ éƒ¨ç¬”æ†å­ï¼Œå†™çš„ä¸€ç¯‡æ—¶æ”¿è®¥è®½æ–‡ã€‚æ— éå°±æ˜¯å…±äº§å…šåŠŸå‹‹é›†å›¢è®²ç‰¹æƒï¼Œè„±ç¦»ç¾¤ä¼—ï¼Œç§åˆ†è›‹ç³•é‚£äº›ç ´äº‹ã€‚é—®é¢˜æ˜¯è¿™äº›ä¸œè¥¿çœŸçš„é€‚åˆç»™å­©å­å½“æ•™æå­¦ä¹ˆï¼Ÿå­©å­çœŸçš„æå¾—æ‡‚æ–—äº‰ä¹ˆï¼Ÿ</p>
<p>ä»”ç»†ä¸€æƒ³ï¼Œè¿™ç‰¹ä¹ˆå“ªè·Ÿå“ªå‘¢ã€‚é¦–å…ˆç°å®ä¸–ç•Œçš„å·¥èšæ˜¯æ²¡æœ‰ç‰¹æƒä¸€è¯´çš„ï¼Œéƒ½æ˜¯ç»™èšåæ‰“å·¥ï¼Œç»„ç»‡å½¢å¼å’Œäººç±»æœ‰å¾ˆå¤§å·®åˆ«ã€‚å…¶æ¬¡è™½ç„¶è¿™èš‚èšé˜Ÿé•¿å˜´ä¸Šæ²¡åƒåˆ°å¥¶é…ªï¼Œä½†æ˜¯ä¸€ä¼šå„¿ç«‹æ­£æ•£å¼€ï¼Œä¸€ä¼šå„¿ç«‹æ­£å›æ¥æŠ˜è…¾å…¶ä»–èš‚èšä½•å°ä¸æ˜¯æ»¥ç”¨ç‰¹æƒï¼Ÿç„¶åè¿™å°±ç®—é˜Ÿé•¿æŠµåˆ¶è¯±æƒ‘äº†ï¼Ÿå®ƒæŠŠå¥¶é…ªåˆ†ç»™å°èš‚èšåªä¸è¿‡æ˜¯æ…·ä»–äººä¹‹æ…¨ï¼Œéšæ„å»åˆ†é…å—æŸèµ„äº§ï¼Œä½•å°ä¸æ˜¯ä¸€ç§ç‰¹æƒï¼Ÿæœ€åï¼Œä¸ºå•¥æœ€å°çš„èš‚èšåƒåˆ°å¥¶é…ªæ¸£ï¼Œåˆ«çš„èš‚èšå°±ä¸é—¹äº†ï¼Ÿéš¾é“å‘æ”¾å¥¶é…ªæœ‰ä¸€ä¸ªä»å¹¼åˆ°é•¿çš„æœºåˆ¶ä½œä¸ºå‰æï¼Ÿæƒ³åˆ°è¿™ä¸€å±‚ï¼Œè«éæ˜¯å‘åŠ¨ç¾¤ä¼—æ–—ç¾¤ä¼—ï¼Ÿ</p>
<p>å…¶å®åˆ†è›‹ç³•è¿™ä¸ªé—®é¢˜ï¼Œè¦çš„ä¸æ˜¯é˜Ÿé•¿çš„é«˜è§‰æ‚Ÿå’Œå†…å¿ƒæ–—äº‰ï¼Œæœ‰ä¸€ä¸ªéå¸¸è¡Œä¹‹æœ‰æ•ˆå¤è€çš„åŠæ³•ï¼Œé‚£å°±æ˜¯å…ˆåˆ†è›‹ç³•çš„äººæœ€åæ‹¿ã€‚è¿™ç§é é˜Ÿé•¿çš„ä¸»è§‚èƒ½åŠ¨æ€§ã€Œæ‘†å¹³ã€äº‹æƒ…çš„ï¼Œæˆ‘è§‰å¾—è¿˜æ˜¯æœ‰ä¸€ç§å±…é«˜ä¸´ä¸‹è—è§†å°èš‚èšçš„é˜¶çº§ä¼˜è¶Šæ„Ÿæ€ç»´å­˜åœ¨ã€‚å¯èƒ½æ˜¯çŒè¾“è®ºçš„é—æ¯’å§ã€‚</p>
<p>ä½œä¸ºå°å­¦è¯­æ–‡è¯¾æœ¬ï¼Œæ²¡æœ‰è¯­è¨€è‰ºæœ¯æ€§ï¼Œæ²¡æœ‰æ–‡å­¦æ€§ï¼Œæ²¡æœ‰æ•…äº‹æ€§ï¼Œçº¯ç²¹å°±æ˜¯é˜´é˜³æ€ªæ°”è°œè¯­äººï¼Œã€Šè¯»è€…ã€‹å¼çš„é¸¡æ±¤å‘³ã€‚</p>
<p>æƒ³åˆ°è¿™é‡Œï¼Œæˆ‘è§‰å¾—ï¼Œå­©å­ä»¬å¯¹ä¸­å¿ƒæ€æƒ³æ‹¿æä¸å‡†çœŸçš„ä¸æ˜¯å­©å­çš„é—®é¢˜ã€‚æ ‡å‡†åŒ–ç­”æ¡ˆçœŸçš„å®³äººã€‚åƒåœ¾è¯¾æ–‡çœŸçš„åº”è¯¥æ»šå‡ºè¯¾æœ¬ã€‚</p></p>
            <div class="card-subtext muted-text">
              <p>Posted <time datetime="2021-10-19T22:32:39+08:00">2021-10-19</time></p>
<p>stderr</p>            </div>
          </article>
        </div>


        <!-- new article -->
        <div class="card blog-card">
          <article class="card-body">
            <a href="/2021/stdin-011"  rel="bookmark" >
              <h2 class="card-title">VPN or !VPN</h2>
            </a>
            <p class="card-text"><p>ä»Šæ—¥ ğŸ’Š æ–°é—»ä¸¤åˆ™</p>
<p><img alt="" src="/images/2021/stdin-011-1.jpg" /></p>
<p><img alt="" src="/images/2021/stdin-011-2.jpg" /></p></p>
            <div class="card-subtext muted-text">
              <p>Posted <time datetime="2021-10-19T13:29:19+08:00">2021-10-19</time></p>
<p>stdin</p>            </div>
          </article>
        </div>


        <!-- new article -->
        <div class="card blog-card">
          <article class="card-body">
            <a href="/2021/stdin-010"  rel="bookmark" >
              <h2 class="card-title">è½¯ä»¶å¼€å‘æµç¨‹é«˜è¡€å‹äº”æ­¥æ›²</h2>
            </a>
            <p class="card-text"><p>æœ‰ä¸ª<a href="https://old.reddit.com/r/ProgrammerHumor/comments/q39mxq/">è´´</a>è¯´ä»–ä»¬å®ä¹ ç”ŸæŒ‰å­—é¢æ„æ€å›ç­”äº†ä¸€ä¸ªé¢˜</p>
<p><img alt="" src="https://i.redd.it/2gu709kha1s71.jpg" /></p>
<p>æ­£ç»çš„å›ç­”æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿ</p>
<ol>
<li>design</li>
<li>develop</li>
<li>test</li>
<li>fix</li>
<li>deploy</li>
</ol>
<p>è¿˜æ˜¯ </p>
<p>1 ...Sales guy tells you he sold a product<br />
2 ...That doesn't exist<br />
3 ...Using tech your team has no previous expertise<br />
4 ...On a timeline the client dictated.<br />
5 ...and they already cashed the deposit.</p>
<p>è¿˜æ˜¯</p>
<ol>
<li>Boss: â€œHey can you do this thing real quick? Hereâ€™s an example of the input data.â€</li>
<li>Me: â€œThis canâ€™t me done with the current architecture and would require a full redesign of the current approach.â€</li>
<li>Boss: â€œYes but I just need {seemingly simple task} done real quick. Also could you join this meeting that youâ€™re not on and started 15 minutes ago?â€</li>
<li>Join the meeting. Other team: â€œHey Achrus, youâ€™re late could you please try to be here on time. Where are you at on {seemingly simple task}. Our timeline needs you to be done with this yesterday. Youâ€™ve had two weeks and we need this to proceed.â€</li>
<li>Panic code some hacky solution in a few days, other team celebrates â€œtheirâ€ success.</li>
</ol>
<p>çœ‹åˆ°æœ€åè¿™ä¸€ç§ï¼Œè¡€å‹éƒ½ä¸Šæ¥äº†ã€‚ã€‚ã€‚</p></p>
            <div class="card-subtext muted-text">
              <p>Posted <time datetime="2021-10-08T22:09:20+08:00">2021-10-08</time></p>
<p>stdin</p>            </div>
          </article>
        </div>


        <!-- new article -->
        <div class="card blog-card">
          <article class="card-body">
            <a href="/2021/stdout-013"  rel="bookmark" >
              <h2 class="card-title">Letsencrypt åœ¨è€ç‰ˆæœ¬macOS Ubuntu ä¸Šä¿®å¤TLSè¯ä¹¦é”™è¯¯</h2>
            </a>
            <p class="card-text"><p>ä¸€è§‰é†’æ¥ï¼Œæ‰“å¼€æµè§ˆå™¨ï¼Œå„ç§è¿ä¸ä¸Šï¼Œè°ƒè¯•äº†ä¸€ä¸‹å‘ç°è¯´lets encrypt çš„ acme httpsè¯ä¹¦é”™è¯¯</p>
<p>ä»¿ä½›è®°å¾—<a href="https://www.v2ex.com/t/805339">Vç«™è®¨è®º</a>è¿‡è¿™ä¸ªäº‹ï¼Œä»¥ä¸ºå’Œè‡ªå·±æ— å…³ï¼Œç»“æœä¹Ÿä¸­æ‹›äº†ã€‚DST Root CA X3 æ ¹è¯ä¹¦åœ¨å›½åº†å‰è¿‡æœŸäº†ã€‚</p>
<h2>è€ç‰ˆæœ¬ Ubuntu ä¿®å¤ï¼š</h2>
<pre><code>  sudo apt update
  sudo apt install ca-certificates
</code></pre>
<h2>è€ç‰ˆæœ¬ macOS ä¿®å¤ï¼š</h2>
<p>éœ€è¦æ‰‹åŠ¨å¯¼å…¥å¹¶ä¿¡ä»»æ–°çš„ ISRG Root X1 æ ¹è¯ä¹¦ã€‚æ¥è‡ª<a href="https://letsencrypt.org/certificates/">https://letsencrypt.org/certificates/</a>ã€‚</p>
<p>ä¿å­˜ä¸‹åˆ—ä¸º <code>1.pem</code></p>
<pre><code>  -----BEGIN CERTIFICATE-----
  MIIFYDCCBEigAwIBAgIQQAF3ITfU6UK47naqPGQKtzANBgkqhkiG9w0BAQsFADA/
  MSQwIgYDVQQKExtEaWdpdGFsIFNpZ25hdHVyZSBUcnVzdCBDby4xFzAVBgNVBAMT
  DkRTVCBSb290IENBIFgzMB4XDTIxMDEyMDE5MTQwM1oXDTI0MDkzMDE4MTQwM1ow
  TzELMAkGA1UEBhMCVVMxKTAnBgNVBAoTIEludGVybmV0IFNlY3VyaXR5IFJlc2Vh
  cmNoIEdyb3VwMRUwEwYDVQQDEwxJU1JHIFJvb3QgWDEwggIiMA0GCSqGSIb3DQEB
  AQUAA4ICDwAwggIKAoICAQCt6CRz9BQ385ueK1coHIe+3LffOJCMbjzmV6B493XC
  ov71am72AE8o295ohmxEk7axY/0UEmu/H9LqMZshftEzPLpI9d1537O4/xLxIZpL
  wYqGcWlKZmZsj348cL+tKSIG8+TA5oCu4kuPt5l+lAOf00eXfJlII1PoOK5PCm+D
  LtFJV4yAdLbaL9A4jXsDcCEbdfIwPPqPrt3aY6vrFk/CjhFLfs8L6P+1dy70sntK
  4EwSJQxwjQMpoOFTJOwT2e4ZvxCzSow/iaNhUd6shweU9GNx7C7ib1uYgeGJXDR5
  bHbvO5BieebbpJovJsXQEOEO3tkQjhb7t/eo98flAgeYjzYIlefiN5YNNnWe+w5y
  sR2bvAP5SQXYgd0FtCrWQemsAXaVCg/Y39W9Eh81LygXbNKYwagJZHduRze6zqxZ
  Xmidf3LWicUGQSk+WT7dJvUkyRGnWqNMQB9GoZm1pzpRboY7nn1ypxIFeFntPlF4
  FQsDj43QLwWyPntKHEtzBRL8xurgUBN8Q5N0s8p0544fAQjQMNRbcTa0B7rBMDBc
  SLeCO5imfWCKoqMpgsy6vYMEG6KDA0Gh1gXxG8K28Kh8hjtGqEgqiNx2mna/H2ql
  PRmP6zjzZN7IKw0KKP/32+IVQtQi0Cdd4Xn+GOdwiK1O5tmLOsbdJ1Fu/7xk9TND
  TwIDAQABo4IBRjCCAUIwDwYDVR0TAQH/BAUwAwEB/zAOBgNVHQ8BAf8EBAMCAQYw
  SwYIKwYBBQUHAQEEPzA9MDsGCCsGAQUFBzAChi9odHRwOi8vYXBwcy5pZGVudHJ1
  c3QuY29tL3Jvb3RzL2RzdHJvb3RjYXgzLnA3YzAfBgNVHSMEGDAWgBTEp7Gkeyxx
  +tvhS5B1/8QVYIWJEDBUBgNVHSAETTBLMAgGBmeBDAECATA/BgsrBgEEAYLfEwEB
  ATAwMC4GCCsGAQUFBwIBFiJodHRwOi8vY3BzLnJvb3QteDEubGV0c2VuY3J5cHQu
  b3JnMDwGA1UdHwQ1MDMwMaAvoC2GK2h0dHA6Ly9jcmwuaWRlbnRydXN0LmNvbS9E
  U1RST09UQ0FYM0NSTC5jcmwwHQYDVR0OBBYEFHm0WeZ7tuXkAXOACIjIGlj26Ztu
  MA0GCSqGSIb3DQEBCwUAA4IBAQAKcwBslm7/DlLQrt2M51oGrS+o44+/yQoDFVDC
  5WxCu2+b9LRPwkSICHXM6webFGJueN7sJ7o5XPWioW5WlHAQU7G75K/QosMrAdSW
  9MUgNTP52GE24HGNtLi1qoJFlcDyqSMo59ahy2cI2qBDLKobkx/J3vWraV0T9VuG
  WCLKTVXkcGdtwlfFRjlBz4pYg1htmf5X6DYO8A4jqv2Il9DjXA6USbW1FzXSLr9O
  he8Y4IWS6wY7bCkjCWDcRQJMEhg76fsO3txE+FiYruq9RUWhiF1myv4Q6W+CyBFC
  Dfvp7OOGAN6dEOM4+qR9sdjoSYKEBpsr6GtPAQw4dy753ec5
  -----END CERTIFICATE-----
</code></pre>
<p>æ‰“å¼€ keychain accessï¼ŒæŠŠè¿™ä¸ª <code>1.pem</code> æ‹–å…¥ systemï¼ŒåŒå‡»æ‰“å¼€ï¼Œåœ¨ Trust è¿™ä¸ªä¸‹æ‹‰ï¼Œé€‰æ‹© ä¿¡ä»»ã€‚</p>
<p><img alt="" src="/images/2021/stdout-013-1.png" /></p>
<p>å› ä¸ºæµè§ˆå™¨æ²¡æ³•ç”¨ï¼Œæ‰€ä»¥æœç´¢èµ„æ–™ä¹Ÿéº»çƒ¦ã€‚çœŸæ˜¯å·®ç‚¹é”æ­»ã€‚</p></p>
            <div class="card-subtext muted-text">
              <p>Posted <time datetime="2021-10-01T10:56:13+08:00">2021-10-01</time></p>
<p>stdout</p>            </div>
          </article>
        </div>

    </main>
    <nav class="pagination-nav side-padding">
<a href="/index.05.html" class="pagination-newer">&lt; Newer Posts</a><a href="/index.07.html" class="pagination-older">Older Posts &gt;</a>    </nav>


  </body>
</html>